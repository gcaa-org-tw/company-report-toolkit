import{u as f}from"./useProfessionApi.1f12ac57.js";import{f as g,r as h,o,c as a,a as s,q as k,O as w,i,s as F,F as m,y as u,t as e}from"./entry.0f6cf8e8.js";import{w as S}from"./lodash.57634e5f.js";const x={class:"stats pa4 lh-copy"},I=s("div",{class:"pb3"},[s("h1",{class:"f2 fw6"},"使用狀況統計"),s("p",{class:"f4 mb4"}," 這裡只會顯示有判讀過的報告書～ ")],-1),M={class:"pv3 flex items-center justify-end mb4 bt bb b--moon-gray"},B={class:"mr3"},C=["value"],L=s("i",{class:"fas fa-sync-alt"},null,-1),R=[L],V={key:0},j={class:"w-100 ba b--moon-gray",cellspacing:"0"},q=s("thead",null,[s("tr",{class:"bg-light-gray tl"},[s("th",{class:"pv2 ph3"},"公司名稱"),s("th",{class:"pv2 ph3"},"統編"),s("th",{class:"pv2 ph3"},"股票代碼"),s("th",{class:"pv2 ph3"},"報告書年度"),s("th",{class:"pv2 ph3"},"填答完成度"),s("th",{class:"pv2 ph3"},"是否驗證完畢"),s("th",{class:"pv2 ph3"},"目前累計時間（分）")])],-1),A={class:"pv2 ph3 bt b--moon-gray"},D={class:"pv2 ph3 bt b--moon-gray"},O={class:"pv2 ph3 bt b--moon-gray"},$={class:"pv2 ph3 bt b--moon-gray"},E={class:"pv2 ph3 bt b--moon-gray"},N={class:"pv2 ph3 bt b--moon-gray"},P={class:"pv2 ph3 bt b--moon-gray"},U={key:1};var v=(c=>(c.report="各報告書",c.fieldMeta="各欄位",c.reportField="原始資料",c))(v||{});const J=g({__name:"stats",setup(c){const{feathers:d}=f(),b=Object.values(v),l=h("各報告書"),_=h([]);function y(n){return Math.round(n.timeSpentInSeconds/60)}function r(){d.app.service("report").find({query:{timeSpentInSeconds:{$gt:0},$limit:500}}).then(n=>{_.value=n.data})}return S(d.isReady,n=>{n&&r()}),(n,p)=>(o(),a("div",x,[I,s("div",M,[s("div",B,[k(s("select",{"onUpdate:modelValue":p[0]||(p[0]=t=>F(l)?l.value=t:null),class:"stats__control"},[(o(!0),a(m,null,u(i(b),t=>(o(),a("option",{key:t,value:t},e(t),9,C))),128))],512),[[w,i(l)]])]),s("button",{class:"stats__control",onClick:r},R)]),i(l)==="各報告書"?(o(),a("div",V,[s("table",j,[q,s("tbody",null,[(o(!0),a(m,null,u(i(_),t=>(o(),a("tr",{key:t.id},[s("td",A,e(t.company.name),1),s("td",D,e(t.company.id),1),s("td",O,e(t.company.stockCode),1),s("td",$,e(t.year),1),s("td",E,e(t.answeredFields)+"/"+e(t.totalFields),1),s("td",N,e(t.isVerified?"✅":"-"),1),s("td",P,e(y(t)),1)]))),128))])])])):(o(),a("div",U,e(i(l))+"還在施工中 🤖 ",1))]))}});export{J as default};
