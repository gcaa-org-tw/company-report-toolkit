import{m as ke,f as re,r as $,h as J,o as F,c as G,i as j,a as O,q as ne,v as se,s as Te,t as Y,x as ge,F as oe,y as le,j as ue,d as Z,z as te,A as we,B as je,C as xe,D as Ne,p as Ie,e as Re,_ as ce,u as De,E as be,l as Ue,G as Ve,H as Be,I as ae,J as Ge,K as Ke,b as Ce,w as He,n as ze}from"./entry.17b55f46.js";import{c as Oe,g as Ye}from"./_commonjsHelpers.14e01a87.js";import{_ as X}from"./lodash.159e145e.js";import{a as qe,u as Je,_ as We,b as Xe}from"./SinglePdfPage.6fd435e3.js";import{_ as Ze}from"./nuxt-link.e96bb55a.js";function fe(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Le={exports:{}};(function(N,V){(function(e){N.exports=e()})(function(){return function(){function e(o,c,n){function t(r,l){if(!c[r]){if(!o[r]){var s=typeof fe=="function"&&fe;if(!l&&s)return s(r,!0);if(a)return a(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=c[r]={exports:{}};o[r][0].call(d.exports,function(_){var m=o[r][1][_];return t(m||_)},d,d.exports,e,o,c,n)}return c[r].exports}for(var a=typeof fe=="function"&&fe,i=0;i<n.length;i++)t(n[i]);return t}return e}()({1:[function(e,o,c){var n,t=typeof window<"u"?window:typeof self<"u"?self:null;if(!t)n=e("abort-controller");else if("signal"in new Request("https://airtable.com"))n=t.AbortController;else{var a=e("abortcontroller-polyfill/dist/cjs-ponyfill");n=a.AbortController}o.exports=n},{"abort-controller":20,"abortcontroller-polyfill/dist/cjs-ponyfill":19}],2:[function(e,o,c){var n=function(){function t(a,i,r){this.error=a,this.message=i,this.statusCode=r}return t.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},t}();o.exports=n},{}],3:[function(e,o,c){var n=this&&this.__assign||function(){return n=Object.assign||function(P){for(var b,x=1,A=arguments.length;x<A;x++){b=arguments[x];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(P[k]=b[k])}return P},n.apply(this,arguments)},t=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},a=t(e("lodash/get")),i=t(e("lodash/isPlainObject")),r=t(e("lodash/keys")),l=t(e("./fetch")),s=t(e("./abort-controller")),u=t(e("./object_to_query_param_string")),d=t(e("./airtable_error")),_=t(e("./table")),m=t(e("./http_headers")),p=t(e("./run_action")),h=t(e("./package_version")),f=t(e("./exponential_backoff_with_jitter")),w="Airtable.js/"+h.default,g=function(){function P(b,x){this._airtable=b,this._id=x}return P.prototype.table=function(b){return new _.default(this,null,b)},P.prototype.makeRequest=function(b){var x=this,A;b===void 0&&(b={});var k=a.default(b,"method","GET").toUpperCase(),S=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+a.default(b,"path","/")+"?"+u.default(a.default(b,"qs",{})),L=new s.default,D=this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,(A=b.headers)!==null&&A!==void 0?A:{})),H={method:k,headers:D,signal:L.signal};"body"in b&&v(k)&&(H.body=JSON.stringify(b.body));var R=setTimeout(function(){L.abort()},this._airtable._requestTimeout);return new Promise(function(K,U){l.default(S,H).then(function(B){if(clearTimeout(R),B.status===429&&!x._airtable._noRetryIfRateLimited){var Q=a.default(b,"_numAttempts",0),ee=f.default(Q);setTimeout(function(){var T=n(n({},b),{_numAttempts:Q+1});x.makeRequest(T).then(K).catch(U)},ee)}else B.json().then(function(T){var M=x._checkStatusForError(B.status,T)||y(B.status,T);M?U(M):K({statusCode:B.status,headers:B.headers,body:T})}).catch(function(){var T=y(B.status);U(T)})}).catch(function(B){clearTimeout(R),B=new d.default("CONNECTION_ERROR",B.message,null),U(B)})})},P.prototype.runAction=function(b,x,A,k,S){p.default(this,b,x,A,k,S,0)},P.prototype._getRequestHeaders=function(b){var x=new m.default;x.set("Authorization","Bearer "+this._airtable._apiKey),x.set("User-Agent",w),x.set("Content-Type","application/json");for(var A=0,k=r.default(b);A<k.length;A++){var S=k[A];x.set(S,b[S])}return x.toJSON()},P.prototype._checkStatusForError=function(b,x){var A=(x??{error:{}}).error,k=A===void 0?{}:A,S=k.type,L=k.message;return b===401?new d.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",b):b===403?new d.default("NOT_AUTHORIZED","You are not authorized to perform this operation",b):b===404?new d.default("NOT_FOUND",L??"Could not find what you are looking for",b):b===413?new d.default("REQUEST_TOO_LARGE","Request body is too large",b):b===422?new d.default(S??"UNPROCESSABLE_ENTITY",L??"The operation cannot be processed",b):b===429?new d.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",b):b===500?new d.default("SERVER_ERROR","Try again. If the problem persists, contact support.",b):b===503?new d.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",b):b>=400?new d.default(S??"UNEXPECTED_ERROR",L??"An unexpected error occurred",b):null},P.prototype.doCall=function(b){return this.table(b)},P.prototype.getId=function(){return this._id},P.createFunctor=function(b,x){var A=new P(b,x),k=function(S){return A.doCall(S)};return k._base=A,k.table=A.table.bind(A),k.makeRequest=A.makeRequest.bind(A),k.runAction=A.runAction.bind(A),k.getId=A.getId.bind(A),k},P}();function v(P){return P!=="GET"&&P!=="DELETE"}function y(P,b){return i.default(b)?null:new d.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",P)}o.exports=g},{"./abort-controller":1,"./airtable_error":2,"./exponential_backoff_with_jitter":6,"./fetch":7,"./http_headers":9,"./object_to_query_param_string":11,"./package_version":12,"./run_action":16,"./table":17,"lodash/get":77,"lodash/isPlainObject":89,"lodash/keys":93}],4:[function(e,o,c){function n(t,a,i){return i===void 0&&(i=void 0),function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];var s;i===void 0?s=r.length>0?r.length-1:0:s=i;var u=r[s];if(typeof u=="function"){t.apply(a,r);return}else{for(var d=[],_=Math.max(r.length,s),m=0;m<_;m++)d.push(r[m]);return new Promise(function(p,h){d.push(function(f,w){f?h(f):p(w)}),t.apply(a,d)})}}}o.exports=n},{}],5:[function(e,o,c){var n={};function t(a,i,r){return function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];n[i]||(n[i]=!0,console.warn(r)),a.apply(this,l)}}o.exports=t},{}],6:[function(e,o,c){var n=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=n(e("./internal_config.json"));function a(i){var r=t.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,i),l=Math.min(t.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,r),s=Math.random()*l;return s}o.exports=a},{"./internal_config.json":10}],7:[function(e,o,c){var n=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=n(e("node-fetch")),a=typeof window<"u"?window:typeof self<"u"?self:null;o.exports=a?a.fetch.bind(a):t.default},{"node-fetch":20}],8:[function(e,o,c){function n(t,a){return Object.prototype.hasOwnProperty.call(t,a)}o.exports=n},{}],9:[function(e,o,c){var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=n(e("lodash/keys")),a=typeof window<"u",i=function(){function r(){this._headersByLowercasedKey={}}return r.prototype.set=function(l,s){var u=l.toLowerCase();u==="x-airtable-user-agent"&&(u="user-agent",l="User-Agent"),this._headersByLowercasedKey[u]={headerKey:l,headerValue:s}},r.prototype.toJSON=function(){for(var l={},s=0,u=t.default(this._headersByLowercasedKey);s<u.length;s++){var d=u[s],_=this._headersByLowercasedKey[d],m=void 0;a&&d==="user-agent"?m="X-Airtable-User-Agent":m=_.headerKey,l[m]=_.headerValue}return l},r}();o.exports=i},{"lodash/keys":93}],10:[function(e,o,c){o.exports={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5}},{}],11:[function(e,o,c){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=n(e("lodash/isArray")),a=n(e("lodash/isNil")),i=n(e("lodash/keys"));function r(s,u,d){if(t.default(u))for(var _=0;_<u.length;_++){var m=u[_];/\[\]$/.test(s)?d(s,m):r(s+"["+(typeof m=="object"&&m!==null?_:"")+"]",m,d)}else if(typeof u=="object")for(var p=0,h=i.default(u);p<h.length;p++){var f=h[p],m=u[f];r(s+"["+f+"]",m,d)}else d(s,u)}function l(s){for(var u=[],d=function(f,w){w=a.default(w)?"":w,u.push(encodeURIComponent(f)+"="+encodeURIComponent(w))},_=0,m=i.default(s);_<m.length;_++){var p=m[_],h=s[p];r(p,h,d)}return u.join("&").replace(/%20/g,"+")}o.exports=l},{"lodash/isArray":79,"lodash/isNil":85,"lodash/keys":93}],12:[function(e,o,c){o.exports="0.12.2"},{}],13:[function(e,o,c){var n=this&&this.__assign||function(){return n=Object.assign||function(f){for(var w,g=1,v=arguments.length;g<v;g++){w=arguments[g];for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(f[y]=w[y])}return f},n.apply(this,arguments)},t=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},a=t(e("lodash/isFunction")),i=t(e("lodash/keys")),r=t(e("./record")),l=t(e("./callback_to_promise")),s=t(e("./has")),u=e("./query_params"),d=t(e("./object_to_query_param_string")),_=function(){function f(w,g){this._table=w,this._params=g,this.firstPage=l.default(m,this),this.eachPage=l.default(p,this,1),this.all=l.default(h,this)}return f.validateParams=function(w){for(var g={},v=[],y=[],P=0,b=i.default(w);P<b.length;P++){var x=b[P],A=w[x];if(s.default(f.paramValidators,x)){var k=f.paramValidators[x],S=k(A);S.pass?g[x]=A:y.push(S.error)}else v.push(x)}return{validParams:g,ignoredKeys:v,errors:y}},f.paramValidators=u.paramValidators,f}();function m(f){if(!a.default(f))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage(function(w){f(null,w)},function(w){f(w,null)})}function p(f,w){var g=this;if(!a.default(f))throw new Error("The first parameter to `eachPage` must be a function");if(!a.default(w)&&w!==void 0)throw new Error("The second parameter to `eachPage` must be a function or undefined");var v=n({},this._params),y="/"+this._table._urlEncodedNameOrId()+"?"+d.default(v),P={},b=null,x,A;if(v.method==="post"||y.length>u.URL_CHARACTER_LENGTH_LIMIT){b=v,x="post",A="/"+this._table._urlEncodedNameOrId()+"/listRecords";for(var k=Object.keys(v),S=0,L=k;S<L.length;S++){var D=L[S];u.shouldListRecordsParamBePassedAsParameter(D)?P[D]=v[D]:b[D]=v[D]}}else x="get",P=v,A="/"+this._table._urlEncodedNameOrId();var H=function(){g._table._base.runAction(x,A,P,b,function(R,K,U){if(R)w(R,null);else{var B=void 0;U.offset?(v.offset=U.offset,B=H):B=function(){w(null)};var Q=U.records.map(function(ee){return new r.default(g._table,null,ee)});f(Q,B)}})};H()}function h(f){if(!a.default(f))throw new Error("The first parameter to `all` must be a function");var w=[];this.eachPage(function(g,v){w.push.apply(w,g),v()},function(g){g?f(g,null):f(null,w)})}o.exports=_},{"./callback_to_promise":4,"./has":8,"./object_to_query_param_string":11,"./query_params":14,"./record":15,"lodash/isFunction":83,"lodash/keys":93}],14:[function(e,o,c){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0}),c.shouldListRecordsParamBePassedAsParameter=c.URL_CHARACTER_LENGTH_LIMIT=c.paramValidators=void 0;var t=n(e("./typecheck")),a=n(e("lodash/isString")),i=n(e("lodash/isNumber")),r=n(e("lodash/isPlainObject")),l=n(e("lodash/isBoolean"));c.paramValidators={fields:t.default(t.default.isArrayOf(a.default),"the value for `fields` should be an array of strings"),filterByFormula:t.default(a.default,"the value for `filterByFormula` should be a string"),maxRecords:t.default(i.default,"the value for `maxRecords` should be a number"),pageSize:t.default(i.default,"the value for `pageSize` should be a number"),offset:t.default(i.default,"the value for `offset` should be a number"),sort:t.default(t.default.isArrayOf(function(s){return r.default(s)&&a.default(s.field)&&(s.direction===void 0||["asc","desc"].includes(s.direction))}),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:t.default(a.default,"the value for `view` should be a string"),cellFormat:t.default(function(s){return a.default(s)&&["json","string"].includes(s)},'the value for `cellFormat` should be "json" or "string"'),timeZone:t.default(a.default,"the value for `timeZone` should be a string"),userLocale:t.default(a.default,"the value for `userLocale` should be a string"),method:t.default(function(s){return a.default(s)&&["get","post"].includes(s)},'the value for `method` should be "get" or "post"'),returnFieldsByFieldId:t.default(l.default,"the value for `returnFieldsByFieldId` should be a boolean"),recordMetadata:t.default(t.default.isArrayOf(a.default),"the value for `recordMetadata` should be an array of strings")},c.URL_CHARACTER_LENGTH_LIMIT=15e3,c.shouldListRecordsParamBePassedAsParameter=function(s){return s==="timeZone"||s==="userLocale"}},{"./typecheck":18,"lodash/isBoolean":81,"lodash/isNumber":86,"lodash/isPlainObject":89,"lodash/isString":90}],15:[function(e,o,c){var n=this&&this.__assign||function(){return n=Object.assign||function(_){for(var m,p=1,h=arguments.length;p<h;p++){m=arguments[p];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(_[f]=m[f])}return _},n.apply(this,arguments)},t=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}},a=t(e("./callback_to_promise")),i=function(){function _(m,p,h){this._table=m,this.id=p||h.id,h&&(this.commentCount=h.commentCount),this.setRawJson(h),this.save=a.default(r,this),this.patchUpdate=a.default(l,this),this.putUpdate=a.default(s,this),this.destroy=a.default(u,this),this.fetch=a.default(d,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return _.prototype.getId=function(){return this.id},_.prototype.get=function(m){return this.fields[m]},_.prototype.set=function(m,p){this.fields[m]=p},_.prototype.setRawJson=function(m){this._rawJson=m,this.fields=this._rawJson&&this._rawJson.fields||{}},_}();function r(_){this.putUpdate(this.fields,_)}function l(_,m,p){var h=this;p||(p=m,m={});var f=n({fields:_},m);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},f,function(w,g,v){if(w){p(w);return}h.setRawJson(v),p(null,h)})}function s(_,m,p){var h=this;p||(p=m,m={});var f=n({fields:_},m);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},f,function(w,g,v){if(w){p(w);return}h.setRawJson(v),p(null,h)})}function u(_){var m=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(p){if(p){_(p);return}_(null,m)})}function d(_){var m=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(p,h,f){if(p){_(p);return}m.setRawJson(f),_(null,m)})}o.exports=i},{"./callback_to_promise":4}],16:[function(e,o,c){var n=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},t=n(e("./exponential_backoff_with_jitter")),a=n(e("./object_to_query_param_string")),i=n(e("./package_version")),r=n(e("./fetch")),l=n(e("./abort-controller")),s="Airtable.js/"+i.default;function u(d,_,m,p,h,f,w){var g=d._airtable._endpointUrl+"/v"+d._airtable._apiVersionMajor+"/"+d._id+m+"?"+a.default(p),v={authorization:"Bearer "+d._airtable._apiKey,"x-api-version":d._airtable._apiVersion,"x-airtable-application-id":d.getId(),"content-type":"application/json"},y=typeof window<"u";y?v["x-airtable-user-agent"]=s:v["User-Agent"]=s;var P=new l.default,b=_.toUpperCase(),x={method:b,headers:v,signal:P.signal};h!==null&&(b==="GET"||b==="HEAD"?console.warn("body argument to runAction are ignored with GET or HEAD requests"):x.body=JSON.stringify(h));var A=setTimeout(function(){P.abort()},d._airtable._requestTimeout);r.default(g,x).then(function(k){if(clearTimeout(A),k.status===429&&!d._airtable._noRetryIfRateLimited){var S=t.default(w);setTimeout(function(){u(d,_,m,p,h,f,w+1)},S)}else k.json().then(function(L){var D=d._checkStatusForError(k.status,L),H={};Object.keys(k).forEach(function(R){H[R]=k[R]}),H.body=L,H.statusCode=k.status,f(D,H,L)}).catch(function(){f(d._checkStatusForError(k.status))})}).catch(function(k){clearTimeout(A),f(k)})}o.exports=u},{"./abort-controller":1,"./exponential_backoff_with_jitter":6,"./fetch":7,"./object_to_query_param_string":11,"./package_version":12}],17:[function(e,o,c){var n=this&&this.__assign||function(){return n=Object.assign||function(m){for(var p,h=1,f=arguments.length;h<f;h++){p=arguments[h];for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(m[w]=p[w])}return m},n.apply(this,arguments)},t=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},a=t(e("lodash/isPlainObject")),i=t(e("./deprecate")),r=t(e("./query")),l=e("./query_params"),s=t(e("./object_to_query_param_string")),u=t(e("./record")),d=t(e("./callback_to_promise")),_=function(){function m(p,h,f){if(!h&&!f)throw new Error("Table name or table ID is required");this._base=p,this.id=h,this.name=f,this.find=d.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=d.default(this._createRecords,this),this.update=d.default(this._updateRecords.bind(this,!1),this),this.replace=d.default(this._updateRecords.bind(this,!0),this),this.destroy=d.default(this._destroyRecord,this),this.list=i.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=i.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return m.prototype._findRecordById=function(p,h){var f=new u.default(this,p);f.fetch(h)},m.prototype._selectRecords=function(p){if(p===void 0&&(p={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),a.default(p)){var h=r.default.validateParams(p);if(h.errors.length){var f=h.errors.map(function(w){return"  * "+w});throw new Error("Airtable: invalid parameters for `select`:\n"+f.join(`
`))}return h.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+h.ignoredKeys.join(", ")),new r.default(this,h.validParams)}else throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},m.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},m.prototype._createRecords=function(p,h,f){var w=this,g=Array.isArray(p);f||(f=h,h={});var v;g?v=n({records:p},h):v=n({fields:p},h),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},v,function(y,P,b){if(y){f(y);return}var x;g?x=b.records.map(function(A){return new u.default(w,A.id,A)}):x=new u.default(w,b.id,b),f(null,x)})},m.prototype._updateRecords=function(p,h,f,w,g){var v=this,y;if(Array.isArray(h)){var P=h;y=a.default(f)?f:{},g=w||f;var b=p?"put":"patch",x=n({records:P},y);this._base.runAction(b,"/"+this._urlEncodedNameOrId()+"/",{},x,function(L,D,H){if(L){g(L);return}var R=H.records.map(function(K){return new u.default(v,K.id,K)});g(null,R)})}else{var A=h,k=f;y=a.default(w)?w:{},g=g||w;var S=new u.default(this,A);p?S.putUpdate(k,y,g):S.patchUpdate(k,y,g)}},m.prototype._destroyRecord=function(p,h){var f=this;if(Array.isArray(p)){var w={records:p};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),w,null,function(v,y,P){if(v){h(v);return}var b=P.records.map(function(x){var A=x.id;return new u.default(f,A,null)});h(null,b)})}else{var g=new u.default(this,p);g.destroy(h)}},m.prototype._listRecords=function(p,h,f,w){var g=this;w||(w=f,f={});var v="/"+this._urlEncodedNameOrId()+"?"+s.default(f),y,P={},b=null,x;if(typeof f!="function"&&f.method==="post"||v.length>l.URL_CHARACTER_LENGTH_LIMIT){y="/"+this._urlEncodedNameOrId()+"/listRecords",b=n(n({},p&&{pageSize:p}),h&&{offset:h}),x="post";for(var A=Object.keys(f),k=0,S=A;k<S.length;k++){var L=S[k];l.shouldListRecordsParamBePassedAsParameter(L)?P[L]=f[L]:b[L]=f[L]}}else x="get",y="/"+this._urlEncodedNameOrId()+"/",P=n({limit:p,offset:h},f);this._base.runAction(x,y,P,b,function(D,H,R){if(D){w(D);return}var K=R.records.map(function(U){return new u.default(g,null,U)});w(null,K,R.offset)})},m.prototype._forEachRecord=function(p,h,f){var w=this;arguments.length===2&&(f=h,h=p,p={});var g=m.__recordsPerPageForIteration||100,v=null,y=function(){w._listRecords(g,v,p,function(P,b,x){if(P){f(P);return}for(var A=0;A<b.length;A++)h(b[A]);x?(v=x,y()):f()})};y()},m}();o.exports=_},{"./callback_to_promise":4,"./deprecate":5,"./object_to_query_param_string":11,"./query":13,"./query_params":14,"./record":15,"lodash/isPlainObject":89}],18:[function(e,o,c){function n(t,a){return function(i){return t(i)?{pass:!0}:{pass:!1,error:a}}}n.isOneOf=function(a){return a.includes.bind(a)},n.isArrayOf=function(t){return function(a){return Array.isArray(a)&&a.every(t)}},o.exports=n},{}],19:[function(e,o,c){Object.defineProperty(c,"__esModule",{value:!0});function n(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function t(g,v){for(var y=0;y<v.length;y++){var P=v[y];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(g,P.key,P)}}function a(g,v,y){return v&&t(g.prototype,v),y&&t(g,y),g}function i(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),v&&l(g,v)}function r(g){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},r(g)}function l(g,v){return l=Object.setPrototypeOf||function(P,b){return P.__proto__=b,P},l(g,v)}function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(g,v){return v&&(typeof v=="object"||typeof v=="function")?v:s(g)}function d(g,v){for(;!Object.prototype.hasOwnProperty.call(g,v)&&(g=r(g),g!==null););return g}function _(g,v,y){return typeof Reflect<"u"&&Reflect.get?_=Reflect.get:_=function(b,x,A){var k=d(b,x);if(k){var S=Object.getOwnPropertyDescriptor(k,x);return S.get?S.get.call(A):S.value}},_(g,v,y||g)}var m=function(){function g(){n(this,g),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return a(g,[{key:"addEventListener",value:function(y,P){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push(P)}},{key:"removeEventListener",value:function(y,P){if(y in this.listeners){for(var b=this.listeners[y],x=0,A=b.length;x<A;x++)if(b[x]===P){b.splice(x,1);return}}}},{key:"dispatchEvent",value:function(y){var P=this;if(y.type in this.listeners){for(var b=function(L){setTimeout(function(){return L.call(P,y)})},x=this.listeners[y.type],A=0,k=x.length;A<k;A++)b(x[A]);return!y.defaultPrevented}}}]),g}(),p=function(g){i(v,g);function v(){var y;return n(this,v),y=u(this,r(v).call(this)),y.listeners||m.call(s(y)),Object.defineProperty(s(y),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(y),"onabort",{value:null,writable:!0,configurable:!0}),y}return a(v,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(P){P.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,P)),_(r(v.prototype),"dispatchEvent",this).call(this,P)}}]),v}(m),h=function(){function g(){n(this,g),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}return a(g,[{key:"abort",value:function(){var y;try{y=new Event("abort")}catch{typeof document<"u"?document.createEvent?(y=document.createEvent("Event"),y.initEvent("abort",!1,!1)):(y=document.createEventObject(),y.type="abort"):y={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(y)}},{key:"toString",value:function(){return"[object AbortController]"}}]),g}();typeof Symbol<"u"&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal");function f(g){return g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof g.Request=="function"&&!g.Request.prototype.hasOwnProperty("signal")||!g.AbortController}function w(g){typeof g=="function"&&(g={fetch:g});var v=g,y=v.fetch,P=v.Request,b=P===void 0?y.Request:P,x=v.AbortController,A=v.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,k=A===void 0?!1:A;if(!f({fetch:y,Request:b,AbortController:x,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:k}))return{fetch:y,Request:S};var S=b;(S&&!S.prototype.hasOwnProperty("signal")||k)&&(S=function(R,K){var U;K&&K.signal&&(U=K.signal,delete K.signal);var B=new b(R,K);return U&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:U}),B},S.prototype=b.prototype);var L=y,D=function(R,K){var U=S&&S.prototype.isPrototypeOf(R)?R.signal:K?K.signal:void 0;if(U){var B;try{B=new DOMException("Aborted","AbortError")}catch{B=new Error("Aborted"),B.name="AbortError"}if(U.aborted)return Promise.reject(B);var Q=new Promise(function(ee,T){U.addEventListener("abort",function(){return T(B)},{once:!0})});return K&&K.signal&&delete K.signal,Promise.race([Q,L(R,K)])}return L(R,K)};return{fetch:D,Request:S}}c.AbortController=h,c.AbortSignal=p,c.abortableFetch=w},{}],20:[function(e,o,c){},{}],21:[function(e,o,c){var n=e("./_hashClear"),t=e("./_hashDelete"),a=e("./_hashGet"),i=e("./_hashHas"),r=e("./_hashSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var _=s[u];this.set(_[0],_[1])}}l.prototype.clear=n,l.prototype.delete=t,l.prototype.get=a,l.prototype.has=i,l.prototype.set=r,o.exports=l},{"./_hashClear":46,"./_hashDelete":47,"./_hashGet":48,"./_hashHas":49,"./_hashSet":50}],22:[function(e,o,c){var n=e("./_listCacheClear"),t=e("./_listCacheDelete"),a=e("./_listCacheGet"),i=e("./_listCacheHas"),r=e("./_listCacheSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var _=s[u];this.set(_[0],_[1])}}l.prototype.clear=n,l.prototype.delete=t,l.prototype.get=a,l.prototype.has=i,l.prototype.set=r,o.exports=l},{"./_listCacheClear":56,"./_listCacheDelete":57,"./_listCacheGet":58,"./_listCacheHas":59,"./_listCacheSet":60}],23:[function(e,o,c){var n=e("./_getNative"),t=e("./_root"),a=n(t,"Map");o.exports=a},{"./_getNative":42,"./_root":72}],24:[function(e,o,c){var n=e("./_mapCacheClear"),t=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),i=e("./_mapCacheHas"),r=e("./_mapCacheSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var _=s[u];this.set(_[0],_[1])}}l.prototype.clear=n,l.prototype.delete=t,l.prototype.get=a,l.prototype.has=i,l.prototype.set=r,o.exports=l},{"./_mapCacheClear":61,"./_mapCacheDelete":62,"./_mapCacheGet":63,"./_mapCacheHas":64,"./_mapCacheSet":65}],25:[function(e,o,c){var n=e("./_root"),t=n.Symbol;o.exports=t},{"./_root":72}],26:[function(e,o,c){var n=e("./_baseTimes"),t=e("./isArguments"),a=e("./isArray"),i=e("./isBuffer"),r=e("./_isIndex"),l=e("./isTypedArray"),s=Object.prototype,u=s.hasOwnProperty;function d(_,m){var p=a(_),h=!p&&t(_),f=!p&&!h&&i(_),w=!p&&!h&&!f&&l(_),g=p||h||f||w,v=g?n(_.length,String):[],y=v.length;for(var P in _)(m||u.call(_,P))&&!(g&&(P=="length"||f&&(P=="offset"||P=="parent")||w&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||r(P,y)))&&v.push(P);return v}o.exports=d},{"./_baseTimes":35,"./_isIndex":51,"./isArguments":78,"./isArray":79,"./isBuffer":82,"./isTypedArray":92}],27:[function(e,o,c){function n(t,a){for(var i=-1,r=t==null?0:t.length,l=Array(r);++i<r;)l[i]=a(t[i],i,t);return l}o.exports=n},{}],28:[function(e,o,c){var n=e("./eq");function t(a,i){for(var r=a.length;r--;)if(n(a[r][0],i))return r;return-1}o.exports=t},{"./eq":76}],29:[function(e,o,c){var n=e("./_castPath"),t=e("./_toKey");function a(i,r){r=n(r,i);for(var l=0,s=r.length;i!=null&&l<s;)i=i[t(r[l++])];return l&&l==s?i:void 0}o.exports=a},{"./_castPath":38,"./_toKey":74}],30:[function(e,o,c){var n=e("./_Symbol"),t=e("./_getRawTag"),a=e("./_objectToString"),i="[object Null]",r="[object Undefined]",l=n?n.toStringTag:void 0;function s(u){return u==null?u===void 0?r:i:l&&l in Object(u)?t(u):a(u)}o.exports=s},{"./_Symbol":25,"./_getRawTag":44,"./_objectToString":70}],31:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isObjectLike"),a="[object Arguments]";function i(r){return t(r)&&n(r)==a}o.exports=i},{"./_baseGetTag":30,"./isObjectLike":88}],32:[function(e,o,c){var n=e("./isFunction"),t=e("./_isMasked"),a=e("./isObject"),i=e("./_toSource"),r=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,d=s.toString,_=u.hasOwnProperty,m=RegExp("^"+d.call(_).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!a(h)||t(h))return!1;var f=n(h)?m:l;return f.test(i(h))}o.exports=p},{"./_isMasked":54,"./_toSource":75,"./isFunction":83,"./isObject":87}],33:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isLength"),a=e("./isObjectLike"),i="[object Arguments]",r="[object Array]",l="[object Boolean]",s="[object Date]",u="[object Error]",d="[object Function]",_="[object Map]",m="[object Number]",p="[object Object]",h="[object RegExp]",f="[object Set]",w="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",P="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",L="[object Uint8ClampedArray]",D="[object Uint16Array]",H="[object Uint32Array]",R={};R[P]=R[b]=R[x]=R[A]=R[k]=R[S]=R[L]=R[D]=R[H]=!0,R[i]=R[r]=R[v]=R[l]=R[y]=R[s]=R[u]=R[d]=R[_]=R[m]=R[p]=R[h]=R[f]=R[w]=R[g]=!1;function K(U){return a(U)&&t(U.length)&&!!R[n(U)]}o.exports=K},{"./_baseGetTag":30,"./isLength":84,"./isObjectLike":88}],34:[function(e,o,c){var n=e("./_isPrototype"),t=e("./_nativeKeys"),a=Object.prototype,i=a.hasOwnProperty;function r(l){if(!n(l))return t(l);var s=[];for(var u in Object(l))i.call(l,u)&&u!="constructor"&&s.push(u);return s}o.exports=r},{"./_isPrototype":55,"./_nativeKeys":68}],35:[function(e,o,c){function n(t,a){for(var i=-1,r=Array(t);++i<t;)r[i]=a(i);return r}o.exports=n},{}],36:[function(e,o,c){var n=e("./_Symbol"),t=e("./_arrayMap"),a=e("./isArray"),i=e("./isSymbol"),r=1/0,l=n?n.prototype:void 0,s=l?l.toString:void 0;function u(d){if(typeof d=="string")return d;if(a(d))return t(d,u)+"";if(i(d))return s?s.call(d):"";var _=d+"";return _=="0"&&1/d==-r?"-0":_}o.exports=u},{"./_Symbol":25,"./_arrayMap":27,"./isArray":79,"./isSymbol":91}],37:[function(e,o,c){function n(t){return function(a){return t(a)}}o.exports=n},{}],38:[function(e,o,c){var n=e("./isArray"),t=e("./_isKey"),a=e("./_stringToPath"),i=e("./toString");function r(l,s){return n(l)?l:t(l,s)?[l]:a(i(l))}o.exports=r},{"./_isKey":52,"./_stringToPath":73,"./isArray":79,"./toString":96}],39:[function(e,o,c){var n=e("./_root"),t=n["__core-js_shared__"];o.exports=t},{"./_root":72}],40:[function(e,o,c){(function(n){var t=typeof n=="object"&&n&&n.Object===Object&&n;o.exports=t}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],41:[function(e,o,c){var n=e("./_isKeyable");function t(a,i){var r=a.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}o.exports=t},{"./_isKeyable":53}],42:[function(e,o,c){var n=e("./_baseIsNative"),t=e("./_getValue");function a(i,r){var l=t(i,r);return n(l)?l:void 0}o.exports=a},{"./_baseIsNative":32,"./_getValue":45}],43:[function(e,o,c){var n=e("./_overArg"),t=n(Object.getPrototypeOf,Object);o.exports=t},{"./_overArg":71}],44:[function(e,o,c){var n=e("./_Symbol"),t=Object.prototype,a=t.hasOwnProperty,i=t.toString,r=n?n.toStringTag:void 0;function l(s){var u=a.call(s,r),d=s[r];try{s[r]=void 0;var _=!0}catch{}var m=i.call(s);return _&&(u?s[r]=d:delete s[r]),m}o.exports=l},{"./_Symbol":25}],45:[function(e,o,c){function n(t,a){return t==null?void 0:t[a]}o.exports=n},{}],46:[function(e,o,c){var n=e("./_nativeCreate");function t(){this.__data__=n?n(null):{},this.size=0}o.exports=t},{"./_nativeCreate":67}],47:[function(e,o,c){function n(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}o.exports=n},{}],48:[function(e,o,c){var n=e("./_nativeCreate"),t="__lodash_hash_undefined__",a=Object.prototype,i=a.hasOwnProperty;function r(l){var s=this.__data__;if(n){var u=s[l];return u===t?void 0:u}return i.call(s,l)?s[l]:void 0}o.exports=r},{"./_nativeCreate":67}],49:[function(e,o,c){var n=e("./_nativeCreate"),t=Object.prototype,a=t.hasOwnProperty;function i(r){var l=this.__data__;return n?l[r]!==void 0:a.call(l,r)}o.exports=i},{"./_nativeCreate":67}],50:[function(e,o,c){var n=e("./_nativeCreate"),t="__lodash_hash_undefined__";function a(i,r){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=n&&r===void 0?t:r,this}o.exports=a},{"./_nativeCreate":67}],51:[function(e,o,c){var n=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function a(i,r){var l=typeof i;return r=r??n,!!r&&(l=="number"||l!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<r}o.exports=a},{}],52:[function(e,o,c){var n=e("./isArray"),t=e("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(l,s){if(n(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||t(l)?!0:i.test(l)||!a.test(l)||s!=null&&l in Object(s)}o.exports=r},{"./isArray":79,"./isSymbol":91}],53:[function(e,o,c){function n(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}o.exports=n},{}],54:[function(e,o,c){var n=e("./_coreJsData"),t=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function a(i){return!!t&&t in i}o.exports=a},{"./_coreJsData":39}],55:[function(e,o,c){var n=Object.prototype;function t(a){var i=a&&a.constructor,r=typeof i=="function"&&i.prototype||n;return a===r}o.exports=t},{}],56:[function(e,o,c){function n(){this.__data__=[],this.size=0}o.exports=n},{}],57:[function(e,o,c){var n=e("./_assocIndexOf"),t=Array.prototype,a=t.splice;function i(r){var l=this.__data__,s=n(l,r);if(s<0)return!1;var u=l.length-1;return s==u?l.pop():a.call(l,s,1),--this.size,!0}o.exports=i},{"./_assocIndexOf":28}],58:[function(e,o,c){var n=e("./_assocIndexOf");function t(a){var i=this.__data__,r=n(i,a);return r<0?void 0:i[r][1]}o.exports=t},{"./_assocIndexOf":28}],59:[function(e,o,c){var n=e("./_assocIndexOf");function t(a){return n(this.__data__,a)>-1}o.exports=t},{"./_assocIndexOf":28}],60:[function(e,o,c){var n=e("./_assocIndexOf");function t(a,i){var r=this.__data__,l=n(r,a);return l<0?(++this.size,r.push([a,i])):r[l][1]=i,this}o.exports=t},{"./_assocIndexOf":28}],61:[function(e,o,c){var n=e("./_Hash"),t=e("./_ListCache"),a=e("./_Map");function i(){this.size=0,this.__data__={hash:new n,map:new(a||t),string:new n}}o.exports=i},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],62:[function(e,o,c){var n=e("./_getMapData");function t(a){var i=n(this,a).delete(a);return this.size-=i?1:0,i}o.exports=t},{"./_getMapData":41}],63:[function(e,o,c){var n=e("./_getMapData");function t(a){return n(this,a).get(a)}o.exports=t},{"./_getMapData":41}],64:[function(e,o,c){var n=e("./_getMapData");function t(a){return n(this,a).has(a)}o.exports=t},{"./_getMapData":41}],65:[function(e,o,c){var n=e("./_getMapData");function t(a,i){var r=n(this,a),l=r.size;return r.set(a,i),this.size+=r.size==l?0:1,this}o.exports=t},{"./_getMapData":41}],66:[function(e,o,c){var n=e("./memoize"),t=500;function a(i){var r=n(i,function(s){return l.size===t&&l.clear(),s}),l=r.cache;return r}o.exports=a},{"./memoize":94}],67:[function(e,o,c){var n=e("./_getNative"),t=n(Object,"create");o.exports=t},{"./_getNative":42}],68:[function(e,o,c){var n=e("./_overArg"),t=n(Object.keys,Object);o.exports=t},{"./_overArg":71}],69:[function(e,o,c){var n=e("./_freeGlobal"),t=typeof c=="object"&&c&&!c.nodeType&&c,a=t&&typeof o=="object"&&o&&!o.nodeType&&o,i=a&&a.exports===t,r=i&&n.process,l=function(){try{var s=a&&a.require&&a.require("util").types;return s||r&&r.binding&&r.binding("util")}catch{}}();o.exports=l},{"./_freeGlobal":40}],70:[function(e,o,c){var n=Object.prototype,t=n.toString;function a(i){return t.call(i)}o.exports=a},{}],71:[function(e,o,c){function n(t,a){return function(i){return t(a(i))}}o.exports=n},{}],72:[function(e,o,c){var n=e("./_freeGlobal"),t=typeof self=="object"&&self&&self.Object===Object&&self,a=n||t||Function("return this")();o.exports=a},{"./_freeGlobal":40}],73:[function(e,o,c){var n=e("./_memoizeCapped"),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n(function(r){var l=[];return r.charCodeAt(0)===46&&l.push(""),r.replace(t,function(s,u,d,_){l.push(d?_.replace(a,"$1"):u||s)}),l});o.exports=i},{"./_memoizeCapped":66}],74:[function(e,o,c){var n=e("./isSymbol"),t=1/0;function a(i){if(typeof i=="string"||n(i))return i;var r=i+"";return r=="0"&&1/i==-t?"-0":r}o.exports=a},{"./isSymbol":91}],75:[function(e,o,c){var n=Function.prototype,t=n.toString;function a(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}o.exports=a},{}],76:[function(e,o,c){function n(t,a){return t===a||t!==t&&a!==a}o.exports=n},{}],77:[function(e,o,c){var n=e("./_baseGet");function t(a,i,r){var l=a==null?void 0:n(a,i);return l===void 0?r:l}o.exports=t},{"./_baseGet":29}],78:[function(e,o,c){var n=e("./_baseIsArguments"),t=e("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,r=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(s){return t(s)&&i.call(s,"callee")&&!r.call(s,"callee")};o.exports=l},{"./_baseIsArguments":31,"./isObjectLike":88}],79:[function(e,o,c){var n=Array.isArray;o.exports=n},{}],80:[function(e,o,c){var n=e("./isFunction"),t=e("./isLength");function a(i){return i!=null&&t(i.length)&&!n(i)}o.exports=a},{"./isFunction":83,"./isLength":84}],81:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isObjectLike"),a="[object Boolean]";function i(r){return r===!0||r===!1||t(r)&&n(r)==a}o.exports=i},{"./_baseGetTag":30,"./isObjectLike":88}],82:[function(e,o,c){var n=e("./_root"),t=e("./stubFalse"),a=typeof c=="object"&&c&&!c.nodeType&&c,i=a&&typeof o=="object"&&o&&!o.nodeType&&o,r=i&&i.exports===a,l=r?n.Buffer:void 0,s=l?l.isBuffer:void 0,u=s||t;o.exports=u},{"./_root":72,"./stubFalse":95}],83:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isObject"),a="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",l="[object Proxy]";function s(u){if(!t(u))return!1;var d=n(u);return d==i||d==r||d==a||d==l}o.exports=s},{"./_baseGetTag":30,"./isObject":87}],84:[function(e,o,c){var n=9007199254740991;function t(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=n}o.exports=t},{}],85:[function(e,o,c){function n(t){return t==null}o.exports=n},{}],86:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isObjectLike"),a="[object Number]";function i(r){return typeof r=="number"||t(r)&&n(r)==a}o.exports=i},{"./_baseGetTag":30,"./isObjectLike":88}],87:[function(e,o,c){function n(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}o.exports=n},{}],88:[function(e,o,c){function n(t){return t!=null&&typeof t=="object"}o.exports=n},{}],89:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./_getPrototype"),a=e("./isObjectLike"),i="[object Object]",r=Function.prototype,l=Object.prototype,s=r.toString,u=l.hasOwnProperty,d=s.call(Object);function _(m){if(!a(m)||n(m)!=i)return!1;var p=t(m);if(p===null)return!0;var h=u.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==d}o.exports=_},{"./_baseGetTag":30,"./_getPrototype":43,"./isObjectLike":88}],90:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isArray"),a=e("./isObjectLike"),i="[object String]";function r(l){return typeof l=="string"||!t(l)&&a(l)&&n(l)==i}o.exports=r},{"./_baseGetTag":30,"./isArray":79,"./isObjectLike":88}],91:[function(e,o,c){var n=e("./_baseGetTag"),t=e("./isObjectLike"),a="[object Symbol]";function i(r){return typeof r=="symbol"||t(r)&&n(r)==a}o.exports=i},{"./_baseGetTag":30,"./isObjectLike":88}],92:[function(e,o,c){var n=e("./_baseIsTypedArray"),t=e("./_baseUnary"),a=e("./_nodeUtil"),i=a&&a.isTypedArray,r=i?t(i):n;o.exports=r},{"./_baseIsTypedArray":33,"./_baseUnary":37,"./_nodeUtil":69}],93:[function(e,o,c){var n=e("./_arrayLikeKeys"),t=e("./_baseKeys"),a=e("./isArrayLike");function i(r){return a(r)?n(r):t(r)}o.exports=i},{"./_arrayLikeKeys":26,"./_baseKeys":34,"./isArrayLike":80}],94:[function(e,o,c){var n=e("./_MapCache"),t="Expected a function";function a(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(t);var l=function(){var s=arguments,u=r?r.apply(this,s):s[0],d=l.cache;if(d.has(u))return d.get(u);var _=i.apply(this,s);return l.cache=d.set(u,_)||d,_};return l.cache=new(a.Cache||n),l}a.Cache=n,o.exports=a},{"./_MapCache":24}],95:[function(e,o,c){function n(){return!1}o.exports=n},{}],96:[function(e,o,c){var n=e("./_baseToString");function t(a){return a==null?"":n(a)}o.exports=t},{"./_baseToString":36}],airtable:[function(e,o,c){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=n(e("./base")),a=n(e("./record")),i=n(e("./table")),r=n(e("./airtable_error")),l=function(){function s(u){u===void 0&&(u={});var d=s.default_config(),_=u.apiVersion||s.apiVersion||d.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:u.apiKey||s.apiKey||d.apiKey},_apiVersion:{value:_},_apiVersionMajor:{value:_.split(".")[0]},_customHeaders:{value:u.customHeaders||{}},_endpointUrl:{value:u.endpointUrl||s.endpointUrl||d.endpointUrl},_noRetryIfRateLimited:{value:u.noRetryIfRateLimited||s.noRetryIfRateLimited||d.noRetryIfRateLimited},_requestTimeout:{value:u.requestTimeout||s.requestTimeout||d.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return s.prototype.base=function(u){return t.default.createFunctor(this,u)},s.default_config=function(){return{endpointUrl:"https://api.airtable.com",apiVersion:"0.1.0",apiKey:"",noRetryIfRateLimited:!1,requestTimeout:300*1e3}},s.configure=function(u){var d=u.apiKey,_=u.endpointUrl,m=u.apiVersion,p=u.noRetryIfRateLimited,h=u.requestTimeout;s.apiKey=d,s.endpointUrl=_,s.apiVersion=m,s.noRetryIfRateLimited=p,s.requestTimeout=h},s.base=function(u){return new s().base(u)},s.Base=t.default,s.Record=a.default,s.Table=i.default,s.Error=r.default,s}();o.exports=l},{"./airtable_error":2,"./base":3,"./record":15,"./table":17}]},{},["airtable"])("airtable")})})(Le);var Qe=Le.exports;const et=Ye(Qe),tt="欄位填答統計",Ae="填答紀錄",at="驗證紀錄",nt="行為追蹤",Fe=()=>{const{public:{airtableBase:N,airtableKey:V}}=ke(),e=new et({apiKey:V}).base(N);return{base:e,getPendingFields:i=>new Promise((r,l)=>{e(tt).select({view:"尚待驗證"}).firstPage((s,u)=>{if(s){l(s);return}const d=u==null?void 0:u.filter(_=>{const m=_.get("相關填答者");return!m||!m.every(p=>p===i)});r(d)})}),getPendingVerifications:i=>new Promise((r,l)=>{e(Ae).select({view:"待驗證紀錄"}).firstPage((s,u)=>{if(s){l(s);return}const d=u==null?void 0:u.filter(_=>(_.get("填答者暱稱")||"")!==i);r(d)})}),submitField:({userId:i,companyId:r,year:l,field:s,value:u,unit:d="",notes:_="",page:m=0,keyword:p=""})=>{const h={填答者暱稱:i,公司統編:r,報告書年份:l,欄位標籤:s,數值:u};return d&&(h.單位=d),_&&(h.補充資訊=_),m&&(h.答案頁次=m),p&&(h.答案關鍵字=p),new Promise((f,w)=>{e(Ae).create([{fields:h}],(g,v)=>{g?w(g):f(v[0])})})},verifyField:({userId:i,submissionId:r,result:l})=>{const s={驗證者暱稱:i,填答紀錄:[r],驗證結果:l};return new Promise((u,d)=>{e(at).create([{fields:s}],(_,m)=>{_?d(_):u(m[0])})})},sendTrackUsage:({userId:i,companyId:r,year:l,field:s,isOnVerify:u,searchKeyword:d,isPredefined:_=void 0,clickPages:m,viewPages:p,answerPage:h})=>{const f={填答者暱稱:i,公司統編:r,報告書年份:l,欄位標籤:s,是否為驗證時:u};return d&&(f.關鍵字=d),_!==void 0&&(f.是否自訂關鍵字=!_),m.length&&(f.點選過的頁次=m.join(",")),p.length&&(f.瀏覽過的頁次=p.join(",")),h&&(f.答案頁次=h),new Promise((w,g)=>{e(nt).create([{fields:f}],(v,y)=>{v?g(v):w(y[0])})})}}},ot=[{category:"環境",fields:[{label:"是否根據 ISO 14064",type:"boolean",level:1,keywords:["14064"],notes:"14064是一個盤查溫室氣體的方法論，如果該公司有表示依照14064進行盤查，就算有。"},{label:"範疇一（值）",type:"number",keywords:["範疇一","類別一","溫室氣體","二氧化碳當量"],level:3,notes:"這題要抓的是溫室氣體排放量中，範疇一的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"範疇二（值）",type:"number",level:3,keywords:["範疇二","類別二","溫室氣體","二氧化碳當量"],notes:"這題要抓的是溫室氣體排放量中，範疇二的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"年度總用電量",type:"number",level:8,keywords:["外購電力","用電量","能源"],notes:"單位：度（KWh），只看電力／外購電力欄位，其他化石燃料的使用不計入喔。"},{label:"再生能源裝置容量",type:"number",level:3,keywords:["裝置容量","再生能源"],notes:"單位：KW ，可能是寫「沒有設置」。再生能源的範疇為太陽光電、風電、地熱等。"},{label:"總取水量",type:"number",level:3,keywords:["取水量","水資源"],notes:"單位：噸；要收的是企業用水量中，取自自然或人工的水（如自來水、地下水等）。"},{label:"耗用水量",type:"number",level:3,keywords:["耗用水","耗水量","水資源"],notes:"單位：噸；要收的是企業在生產過程中消耗掉的水資源，如果沒有明確資料，也可以用總取水量減掉排放水量。"},{label:"一般事業廢棄物",type:"number",level:1,keywords:["事業廢棄物","廢棄物"],notes:"單位：噸；不包含有害事業廢棄物喔，只收非有害的廢棄物量。"}]},{category:"社會",fields:[{label:"正式人員",type:"number",level:1,keywords:["正式","正職","不定期","人力","勞動"],notes:"要收的是該公司的正職人員喔。兼職的不計。"},{label:"男性正式員工",type:"number",level:1,keywords:["男性員工","人力","勞動"]},{label:"女性正式員工",type:"number",level:1,keywords:["女性員工","人力","勞動"]},{label:"新進人數",type:"number",level:1,keywords:["新進"]},{label:"離職人數",type:"number",level:1,keywords:["離職"]},{label:"職災事件數",type:"number",level:1,keywords:["職災","受傷","死亡"],notes:"單位：件數；多數公司會直接寫當年度發生幾起職災事件，造成幾人受傷／死亡。這邊收的是事件數喔。"},{label:"工安意外細節",type:"string",level:8,keywords:["火災","事故"],notes:"文字質性描述，例如「揭露南極工廠火災事件」；不是收職災事件喔，如果沒有資訊就請填「無相關資訊」。"}]},{category:"治理",fields:[{label:"營利事業所得稅繳納金額",type:"number",level:8,keywords:["所得稅","稅後","繳納","營收","支付政府款項"],notes:"單位：元；如果沒有直接寫繳納多少所得稅，也可以嘗試用「稅前淨利」減去「稅後淨利」來計算。"},{label:"是否揭露政府補助（GRI-201-4）",type:"boolean",level:5,keywords:["GRI 201","補貼","補助"],notes:"單位：元；這邊主要是想了解企業拿了多少的政府資助，通常會在GRI對照表中找得到，如果沒有就寫「無相關資訊」即可。"},{label:"研發經費投入金額",type:"number",level:3,keywords:["研發","研發費用"],notes:"單位：元；這邊想看的是企業投入多少研發經費喔。"},{label:"ISO 14001（環境管理系統）",type:"boolean",level:1,keywords:["14001"],notes:"填寫有無即可，企業若有使用就會明確寫依14001執行...。"},{label:"ISO 45001（職業安全衛生管理系統）",type:"boolean",level:1,keywords:["45001"],notes:"填寫有無即可，企業若有使用就會明確寫依45001執行...。"}]}],pe=[{year:2021,reports:[{id:"83078600",name:"東泥",totalPage:66},{id:"11913502",name:"台泥",totalPage:65},{id:"03244509",name:"亞泥",totalPage:132},{id:"11892801",name:"嘉泥",totalPage:77},{id:"07568009",name:"環泥",totalPage:75,pageOffset:-1},{id:"40601248",name:"幸福",totalPage:71},{id:"75708007",name:"台塑",totalPage:133},{id:"75370905",name:"南亞",totalPage:127},{id:"11917107",name:"台聚",totalPage:146},{id:"11686106",name:"華夏",totalPage:165},{id:"20747385",name:"亞聚",totalPage:111},{id:"11893409",name:"台達化",totalPage:106},{id:"20844865",name:"台苯",totalPage:110},{id:"04212250",name:"國喬",totalPage:91},{id:"04748660",name:"聯成",totalPage:110},{id:"03084741",name:"中石化",totalPage:225},{id:"15024509",name:"大洋",totalPage:58},{id:"68192103",name:"永裕",totalPage:80},{id:"58650902",name:"台化",totalPage:106},{id:"30414175",name:"中鋼",totalPage:144},{id:"75280209",name:"東和鋼鐵",totalPage:146},{id:"75992214",name:"燁興",totalPage:104},{id:"82001528",name:"第一銅",totalPage:87},{id:"11529802",name:"春源",totalPage:68},{id:"85800192",name:"中鋼構",totalPage:95},{id:"07838854",name:"中鴻",totalPage:115},{id:"55389357",name:"豐興",totalPage:98},{id:"72065240",name:"官田鋼",totalPage:69},{id:"75947936",name:"燁輝",totalPage:104},{id:"22318348",name:"大成鋼",totalPage:57},{id:"79837539",name:"盛餘",totalPage:106},{id:"35836625",name:"新光鋼",totalPage:83},{id:"75460005",name:"唐榮公司",totalPage:126},{id:"86637206",name:"世鎧",totalPage:62},{id:"31213886",name:"世豐",totalPage:60},{id:"86540792",name:"震南鐵",totalPage:84},{id:"69651695",name:"世紀風電",totalPage:90},{id:"81188829",name:"長榮鋼",totalPage:116},{id:"84252697",name:"榮剛",totalPage:125},{id:"84703335",name:"強新",totalPage:86},{id:"69916350",name:"恒耀國際",totalPage:105},{id:"28754606",name:"大國鋼",totalPage:42},{id:"22649001",name:"世紀鋼",totalPage:107},{id:"47217677",name:"聯電",totalPage:176},{id:"89004161",name:"華泰",totalPage:88},{id:"22099131",name:"台積電",totalPage:228},{id:"22099548",name:"旺宏",totalPage:114},{id:"22099408",name:"光罩",totalPage:42},{id:"47255947",name:"台亞",totalPage:108},{id:"22099218",name:"華邦電",totalPage:124},{id:"58506816",name:"順德",totalPage:109},{id:"22099202",name:"矽統",totalPage:55},{id:"55625676",name:"菱生",totalPage:70},{id:"22671299",name:"瑞昱",totalPage:105},{id:"23821182",name:"凌陽",totalPage:71},{id:"89390656",name:"南亞科",totalPage:182},{id:"05126366",name:"超豐",totalPage:114},{id:"22507241",name:"京元電子",totalPage:125},{id:"23446187",name:"創見",totalPage:89},{id:"84149961",name:"聯發科",totalPage:90},{id:"84149224",name:"義隆",totalPage:93},{id:"16130280",name:"晶豪科",totalPage:95},{id:"84149955",name:"聯詠",totalPage:149},{id:"84149060",name:"智原",totalPage:90},{id:"84149759",name:"聯傑",totalPage:78},{id:"70752257",name:"穩懋",totalPage:105},{id:"70785139",name:"景碩",totalPage:105},{id:"16633261",name:"原相",totalPage:56},{id:"70751779",name:"欣銓",totalPage:113},{id:"16741846",name:"精材",totalPage:117},{id:"12858252",name:"京鼎",totalPage:100},{id:"16299879",name:"創意",totalPage:90},{id:"70784292",name:"力旺",totalPage:49},{id:"89406518",name:"台勝科",totalPage:103},{id:"28069900",name:"敦泰",totalPage:91},{id:"89672698",name:"德微",totalPage:88},{id:"16406379",name:"家登",totalPage:130},{id:"29187308",name:"日月光投控",totalPage:176},{id:"28112646",name:"新唐",totalPage:103},{id:"80741441",name:"凌通",totalPage:55},{id:"84149499",name:"天鈺",totalPage:94},{id:"28422591",name:"譜瑞-KY",totalPage:86},{id:"80661880",name:"立積",totalPage:57},{id:"80688184",name:"祥碩",totalPage:68},{id:"27490748",name:"信驊",totalPage:83},{id:"12636560",name:"界霖",totalPage:55},{id:"28935446",name:"杰力",totalPage:88},{id:"84149358",name:"世界",totalPage:197},{id:"97063584",name:"松翰",totalPage:103},{id:"47238650",name:"中美晶",totalPage:99},{id:"16130009",name:"頎邦",totalPage:102},{id:"16138282",name:"合晶",totalPage:123},{id:"16130330",name:"盛群",totalPage:97},{id:"03522600",name:"遠東新",totalPage:157},{id:"07435515",name:"新纖",totalPage:124},{id:"07220710",name:"宏洲",totalPage:103},{id:"14001199",name:"福懋",totalPage:140},{id:"68919301",name:"南紡",totalPage:106},{id:"07663290",name:"力麗",totalPage:78},{id:"33955322",name:"力鵬",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:96},{id:"22817999",name:"宏遠",totalPage:157},{id:"22976047",name:"聚隆",totalPage:64},{id:"69559487",name:"南緯",totalPage:52},{id:"68919702",name:"台南",totalPage:93},{id:"35884479",name:"儒鴻",totalPage:121},{id:"23609668",name:"聚陽",totalPage:71},{id:"88121697",name:"東盟開發",totalPage:82},{id:"49744324",name:"如興",totalPage:48},{id:"86124493",name:"元勝",totalPage:66},{id:"23531297",name:"雙邦",totalPage:68},{id:"33085508",name:"正隆",totalPage:132},{id:"94025264",name:"華紙",totalPage:64},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:144},{id:"22327037",name:"永豐實",totalPage:41},{id:"11384405",name:"東鹼",totalPage:41},{id:"04312878",name:"和益",totalPage:90},{id:"14057995",name:"東聯",totalPage:137},{id:"15458455",name:"永光",totalPage:108},{id:"51911712",name:"興農",totalPage:88},{id:"03375001",name:"國化",totalPage:82},{id:"12526607",name:"和桐",totalPage:54},{id:"75339004",name:"長興",totalPage:118},{id:"07066907",name:"中纖",totalPage:91},{id:"55738290",name:"三晃",totalPage:68},{id:"03795101",name:"台肥",totalPage:140},{id:"23221384",name:"中碳",totalPage:128},{id:"12132033",name:"元禎",totalPage:73},{id:"75137605",name:"永記",totalPage:116},{id:"03558206",name:"中華化",totalPage:90},{id:"07708830",name:"花仙子",totalPage:94},{id:"34245356",name:"毛寶",totalPage:64},{id:"23263551",name:"日勝化",totalPage:85},{id:"22625269",name:"台蠟",totalPage:49},{id:"75970680",name:"勝一",totalPage:76},{id:"47061800",name:"展宇",totalPage:86},{id:"11051504",name:"大恭",totalPage:64},{id:"05712099",name:"磐亞",totalPage:89},{id:"35108702",name:"永純",totalPage:121},{id:"86123874",name:"永捷",totalPage:91},{id:"85004174",name:"大立",totalPage:90},{id:"04465521",name:"德淵",totalPage:105},{id:"86688957",name:"美琪瑪",totalPage:98},{id:"75975242",name:"國精化",totalPage:54},{id:"16082267",name:"力成",totalPage:180},{id:"23218022",name:"矽格",totalPage:66},{id:"04226986",name:"同欣電",totalPage:69},{id:"28113286",name:"環球晶",totalPage:98},{id:"27879121",name:"精測",totalPage:114},{id:"53503847",name:"愛普＊",totalPage:80},{id:"70849957",name:"長科＊",totalPage:62},{id:"53016234",name:"虹揚-KY",totalPage:29},{id:"28398895",name:"雍智科技",totalPage:70},{id:"53172585",name:"安格",totalPage:51},{id:"25079572",name:"昇佳電子",totalPage:61},{id:"28112667",name:"力積電",totalPage:197},{id:"80601119",name:"采鈺",totalPage:152},{id:"86735240",name:"矽創",totalPage:71},{id:"22101116",name:"華東",totalPage:73},{id:"23826736",name:"福懋科",totalPage:96},{id:"16130042",name:"南茂",totalPage:129},{id:"97444368",name:"宇瞻",totalPage:116},{id:"12649951",name:"群聯",totalPage:55},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:117},{id:"80627878",name:"泓瀚",totalPage:63},{id:"16446422",name:"國碳科",totalPage:4},{id:"42328858",name:"材料-KY",totalPage:90},{id:"84754072",name:"雙鍵",totalPage:83},{id:"74229304",name:"南寶",totalPage:56},{id:"88744414",name:"誠泰科技",totalPage:82},{id:"36075449",name:"上品",totalPage:80},{id:"04243562",name:"聚和",totalPage:69},{id:"03707901",name:"中油",totalPage:182},{id:"86757124",name:"康普",totalPage:117},{id:"80170651",name:"三福化",year:2021,totalPage:107}]},{year:2022,reports:[{id:"11913502",name:"台泥",totalPage:143},{id:"03244509",name:"亞泥",totalPage:148},{id:"11892801",name:"嘉泥",totalPage:78},{id:"07568009",name:"環泥",totalPage:86},{id:"40601248",name:"幸福",totalPage:74},{id:"83078600",name:"東泥",totalPage:71},{id:"75708007",name:"台塑",totalPage:177},{id:"75370905",name:"南亞",totalPage:167},{id:"11917107",name:"台聚",totalPage:155},{id:"11686106",name:"華夏",totalPage:166},{id:"83387850",name:"三芳",totalPage:82},{id:"20747385",name:"亞聚",totalPage:129},{id:"11893409",name:"台達化",totalPage:131},{id:"20844865",name:"台苯",totalPage:67},{id:"04212250",name:"國喬",totalPage:106},{id:"04748660",name:"聯成",totalPage:109},{id:"03084741",name:"中石化",totalPage:152},{id:"15024509",name:"大洋",totalPage:123},{id:"58650902",name:"台化",totalPage:150},{id:"30414175",name:"中鋼",totalPage:156},{id:"75280209",name:"東和鋼鐵",totalPage:137},{id:"75992214",name:"燁興",totalPage:117},{id:"75466009",name:"高興昌",totalPage:87},{id:"82001528",name:"第一銅",totalPage:93},{id:"11529802",name:"春源",totalPage:80},{id:"88187108",name:"春雨",totalPage:131},{id:"85800192",name:"中鋼構",totalPage:107},{id:"07838854",name:"中鴻",totalPage:121},{id:"55389357",name:"豐興",totalPage:104},{id:"72065240",name:"官田鋼",totalPage:58},{id:"79841479",name:"聚亨",totalPage:125},{id:"75947936",name:"燁輝",totalPage:75},{id:"22318348",name:"大成鋼",totalPage:64},{id:"69771636",name:"威致",totalPage:81},{id:"79837539",name:"盛餘",totalPage:102},{id:"60330130",name:"彰源",totalPage:79},{id:"35836625",name:"新光鋼",totalPage:119},{id:"59068700",name:"允強",totalPage:84},{id:"75460005",name:"唐榮公司",totalPage:175},{id:"69651695",name:"世紀風電",totalPage:85},{id:"81188829",name:"長榮鋼",totalPage:133},{id:"84252697",name:"榮剛",totalPage:109},{id:"84703335",name:"強新",totalPage:101},{id:"38432767",name:"沛波",totalPage:52},{id:"69916350",name:"恒耀國際",totalPage:106},{id:"28754606",name:"大國鋼",totalPage:50},{id:"22649001",name:"世紀鋼",totalPage:76},{id:"47217677",name:"聯電",totalPage:200},{id:"89004161",name:"華泰",totalPage:121},{id:"22099131",name:"台積電",totalPage:236},{id:"22099548",name:"旺宏",totalPage:120},{id:"22099218",name:"華邦電",totalPage:122},{id:"22099202",name:"矽統",totalPage:56},{id:"55625676",name:"菱生",totalPage:80},{id:"22671299",name:"瑞昱",totalPage:103},{id:"23821182",name:"凌陽",totalPage:82},{id:"89390656",name:"南亞科",totalPage:183},{id:"05126366",name:"超豐",totalPage:127},{id:"22507241",name:"京元電子",totalPage:129},{id:"23446187",name:"創見",totalPage:105},{id:"84149961",name:"聯發科",totalPage:81},{id:"84149224",name:"義隆",totalPage:113},{id:"16130280",name:"晶豪科",totalPage:92},{id:"16130388",name:"嘉晶",totalPage:164},{id:"84149955",name:"聯詠",totalPage:165},{id:"84149060",name:"智原",totalPage:117},{id:"84149759",name:"聯傑",totalPage:80},{id:"70752257",name:"穩懋",totalPage:118},{id:"70785139",name:"景碩",totalPage:154},{id:"16633261",name:"原相",totalPage:74},{id:"70751779",name:"欣銓",totalPage:130},{id:"16741846",name:"精材",totalPage:125},{id:"12858252",name:"京鼎",totalPage:1},{id:"16299879",name:"創意",totalPage:118},{id:"70784292",name:"力旺",totalPage:73},{id:"89406518",name:"台勝科",totalPage:98},{id:"28069900",name:"敦泰",totalPage:66},{id:"80532726",name:"瑞鼎",totalPage:120},{id:"54389725",name:"漢磊",totalPage:163},{id:"29187308",name:"日月光投控",totalPage:210},{id:"28112646",name:"新唐",totalPage:126},{id:"84149499",name:"天鈺",totalPage:120},{id:"28422591",name:"譜瑞-KY",totalPage:49},{id:"80661880",name:"立積",totalPage:75},{id:"27490748",name:"信驊",totalPage:107},{id:"12636560",name:"界霖",totalPage:55},{id:"84149358",name:"世界",totalPage:236},{id:"22099694",name:"鈺創",totalPage:53},{id:"97063584",name:"松翰",totalPage:91},{id:"47238650",name:"中美晶",totalPage:109},{id:"16130009",name:"頎邦",totalPage:114},{id:"16138282",name:"合晶",totalPage:150},{id:"03522600",name:"遠東新",totalPage:170},{id:"07435515",name:"新纖",totalPage:122},{id:"07220710",name:"宏洲",totalPage:100},{id:"14001199",name:"福懋",totalPage:54},{id:"68919301",name:"南紡",totalPage:109},{id:"07663290",name:"力麗",totalPage:82},{id:"33955322",name:"力鵬",totalPage:80},{id:"22266307",name:"年興",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:107},{id:"33653494",name:"聯發",totalPage:61},{id:"22817999",name:"宏遠",totalPage:158},{id:"73686632",name:"得力",totalPage:94},{id:"22976047",name:"聚隆",totalPage:65},{id:"35884479",name:"儒鴻",totalPage:76},{id:"88121697",name:"東盟開發",totalPage:91},{id:"49744324",name:"如興",totalPage:49},{id:"23531297",name:"雙邦",totalPage:85},{id:"11038101",name:"士紙",totalPage:79},{id:"33085508",name:"正隆",totalPage:135},{id:"94025264",name:"華紙",totalPage:67},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:147},{id:"22327037",name:"永豐實",totalPage:97},{id:"11384405",name:"東鹼",totalPage:39},{id:"14057995",name:"東聯",totalPage:146},{id:"15458455",name:"永光",totalPage:68},{id:"51911712",name:"興農",totalPage:60},{id:"03375001",name:"國化",totalPage:86},{id:"75339004",name:"長興",totalPage:120},{id:"23221384",name:"中碳",totalPage:124},{id:"03558206",name:"中華化",totalPage:60},{id:"34245356",name:"毛寶",totalPage:82},{id:"16297788",name:"奇鈦科",totalPage:96},{id:"86688957",name:"美琪瑪",totalPage:77},{id:"16130330",name:"盛群",totalPage:107},{id:"16082267",name:"力成",totalPage:156},{id:"23218022",name:"矽格",totalPage:111},{id:"28113286",name:"環球晶",totalPage:106},{id:"27879121",name:"精測",totalPage:98},{id:"13145774",name:"穎崴",totalPage:98},{id:"53503847",name:"愛普＊",totalPage:92},{id:"70849957",name:"長科＊",totalPage:81},{id:"53016234",name:"虹揚-KY",totalPage:30},{id:"28112667",name:"力積電",totalPage:195},{id:"80601119",name:"采鈺",totalPage:167},{id:"84149884",name:"昇陽半導體",totalPage:86},{id:"22101116",name:"華東",totalPage:74},{id:"23826736",name:"福懋科",totalPage:125},{id:"16130042",name:"南茂",totalPage:141},{id:"97444368",name:"宇瞻",totalPage:121},{id:"12649951",name:"群聯",totalPage:52},{id:"03707901",name:"中油",totalPage:225},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:142},{id:"80627878",name:"泓瀚",totalPage:76},{id:"80170651",name:"三福化",totalPage:99},{id:"53278617",name:"晶呈科技",totalPage:75},{id:"36075449",name:"上品",totalPage:92},{id:"04243562",name:"聚和",totalPage:86}]}],rt={class:"onboardCrowd center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},it={key:0,class:"onboardCrowd__init"},st=O("h1",{class:"mt0 f4 f3-ns"},"歡迎參與標記原型工具測試！",-1),lt=O("p",null,[Z("接下來，我們將隨機挑選幾個 ESG 裡的重要欄位，例如碳排放、員工人數，請你協助從報告書中，找到答案。 另外，我們也會找一些其他人已經標記過的欄位，請你確認他們的標記是否正確。 這些欄位的難度不一，有些非常簡單，有些則需要費心判讀，所以如果發現找不到答案，請不要灰心，可以跳到下一題。"),O("strong",null,"在今天活動結束後，我們會計算所有人的積分，並且發放紀念品給前幾名的參與者。")],-1),ut=O("p",null,'由於測試需要閱讀 PDF，請盡量使用 12" 螢幕以上的裝置，才能順利操作標記工具。 如果你手邊的螢幕太小，也歡迎直接來找我們借用筆電。',-1),ct=O("p",null,"在填答結束後，會請你填寫使用心得的問卷，問卷的填答資料，會以 CC0 的方式授權公開，請記得不要填寫敏感資訊 🥹。 最後，除了問卷外，也歡迎隨時找我們聊聊，提供你的使用心得，或是對於工具的建議。",-1),dt=O("div",{class:"bb ph4 b--moon-gray mv4"},null,-1),ft=["onSubmit"],pt={class:"db mb3",for:"userId"},_t=O("div",{class:"dark-gray f6 mb1"},"請輸入你的暱稱，作為統計積分計算使用",-1),gt=["disabled"],ht={key:1,class:"onboardCrowd__empty"},mt=O("h1",{class:"mt0 f4 f3-ns"},"所有題目都已經被標記完成！",-1),vt=O("p",null,"請期待本日的成果報告，或來找我們聊聊你的使用心得。",-1),bt=[mt,vt],yt={key:2,class:"onboardCrowd__ready"},Pt=O("h1",{class:"mt0 f4 f3-ns"},"抽籤完成！以下是想請你協助標記的題目：",-1),wt={key:0,class:"mv3"},xt=O("div",{class:"mb2 f4"},[Z("要"),O("strong",null,"標記"),Z("的報告書與欄位")],-1),Tt={class:"flex-none mr2 fw5"},Ot={class:"flex-auto b"},At={key:1,class:"mv4"},St=O("div",{class:"mb2 f4"},[Z("要"),O("strong",null,"驗證"),Z("的報告書與欄位")],-1),Et={class:"flex-none mr2 fw5"},kt={class:"flex-auto b"},jt=re({__name:"OnboardUser",emits:["userId","tasks"],setup(N,{emit:V}){const e=Fe(),o=$(!0),c=$(!1),n=$(!1),t=$(""),a=$([]),i=$([]),r=J(()=>c.value?"機器人正在幫忙抽籤中... 🤖":"載入題庫"),l=J(()=>t.value.length>0);async function s(){c.value=!0;let p=[];try{p=await e.getPendingFields(t.value)}catch(g){alert(g)}await new Promise(g=>{setTimeout(g,300+Math.random()*2e3)});let h=[];try{h=await e.getPendingVerifications(t.value)}catch(g){alert(g)}const f=_(p),w=d(h);o.value=!1,!f.length&&!w.length?n.value=!0:(a.value=f,i.value=w),c.value=!1}const u=ot.flatMap(p=>p.fields.map(h=>({category:p.category,...h})));function d(p,h=6){const f=X.shuffle(p.slice(0,h*3)),g=X.uniq(f.map(y=>y.get("公司統編"))).reduce((y,P,b)=>(y[P]=b,y),{});return f.sort((y,P)=>g[y.get("公司統編")]-g[P.get("公司統編")]),f.slice(0,h).map(y=>{const P=pe[0].reports.find(x=>x.id===y.get("公司統編")),b=u.find(x=>x.label===y.get("欄位標籤"));return{company:P,year:y.get("報告書年份"),data:y,...b}})}function _(p,h=2){const f=X.shuffle(X.uniq(p.map(S=>S.get("公司統編")))),w=pe[0].year,g=pe[0].reports.map(S=>S.id),v=X.shuffle(X.difference(g,f)),P=(v.length?v:f)[0],b=p.filter(S=>S.get("公司統編")===P).map(S=>S.get("欄位標籤")),x=X.shuffle(X.difference(u,b)),A=pe[0].reports.find(S=>S.id===P);return x.slice(0,h).map(S=>({company:A,year:w,...S}))}function m(){V("userId",t.value),V("tasks",{submissions:a.value,verifications:i.value})}return(p,h)=>(F(),G("div",rt,[j(o)?(F(),G("div",it,[st,lt,ut,ct,dt,O("form",{onSubmit:ge(s,["prevent"])},[O("label",pt,[_t,ne(O("input",{"onUpdate:modelValue":h[0]||(h[0]=f=>Te(t)?t.value=f:null),type:"text"},null,512),[[se,j(t),void 0,{trim:!0}]])]),O("button",{class:"pv2 ph4",type:"submit",disabled:!j(l)||j(c)},Y(j(r)),9,gt)],40,ft)])):j(n)?(F(),G("div",ht,bt)):(F(),G("div",yt,[Pt,j(a).length?(F(),G("div",wt,[xt,(F(!0),G(oe,null,le(j(a),f=>(F(),G("div",{class:"flex items-center f6 gray",key:f.label},[O("div",Tt,Y(f.company.name),1),O("div",Ot,Y(f.category)+" | "+Y(f.label),1)]))),128))])):ue("",!0),j(i).length?(F(),G("div",At,[St,(F(!0),G(oe,null,le(j(i),f=>(F(),G("div",{class:"flex items-center f6 gray",key:f.label},[O("div",Et,Y(f.company.name),1),O("div",kt,Y(f.category)+" | "+Y(f.label),1)]))),128))])):ue("",!0),O("button",{class:"pv2 ph4",onClick:m},"開始標記與驗證")]))]))}}),Me=N=>(Ie("data-v-b1753ff4"),N=N(),Re(),N),It={key:0,class:"controlPanel"},Rt={class:"f6 mb1 gray"},Ct={class:"mt0 f4 1b"},Lt={key:0},Ft={class:"bt bb b--moon-gray mv3 pv2"},Mt=["onSubmit"],$t={class:"fw5 mb1"},Nt={class:"flex items-center mb2"},Dt={class:"fieldForm__value flex-auto mr3"},Ut=["readonly"],Vt={class:"fieldForm__unit flex-none"},Bt=["readonly"],Gt=["readonly"],Kt={class:"mt3"},Ht={key:0,class:"flex items-center justify-between"},zt=["onClick"],Yt=["disabled"],qt={key:1,class:"flex items-center justify-end"},Jt=["onClick"],Wt={class:"controlPanel__keywordSection mv3 pb2 bb"},Xt=Me(()=>O("div",{class:"fw5 mb1"},"相關關鍵字",-1)),Zt=Me(()=>O("div",{class:"f6 gray"},"點選以下關鍵字，或是自行輸入，就能列出相關頁面",-1)),Qt={class:"flex mt3"},ea={class:"flex flex-wrap"},ta=["onClick"],aa={class:"f6 gray mv1"},na=["onClick"],oa={class:"flex-none dark-gray"},ra=["innerHTML"],ia={class:"flex justify-between items-center"},sa={key:1},_e=15,la=re({__name:"ControlPanel",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},focusedPage:{type:Number,default:1},isSubmission:{type:Boolean,default:!0}},emits:["report","page","matched-pages","complete"],setup(N,{emit:V}){const e=N,{submitField:o,verifyField:c,sendTrackUsage:n}=Fe(),t=$(0),a=J(()=>e.fields[t.value]),i={value:"",unit:"",notes:""},r=$({...i}),l=J(()=>t.value<e.fields.length-1?e.fields[t.value+1]:e.fields[0]),s=J(()=>t.value>0?e.fields[t.value-1]:e.fields[e.fields.length-1]);function u(){t.value<e.fields.length-1?t.value+=1:t.value=0}function d(){t.value>0?t.value-=1:t.value=e.fields.length-1}const _=$([]);te(_,E=>{E.length===e.fields.length&&V("complete")},{deep:!0});function m(){r.value={...i}}const p=J(()=>!!r.value.value),h=$(!1),f=["不正確","不確定","正確"];async function w(E){const C={userId:e.userId,submissionId:a.value.data.id,result:E},I=await c(C);_.value.push({field:a.value,atRow:I}),u()}function g(){_.value.push({field:a.value}),m(),u()}async function v(){if(!p.value)return;h.value=!0;const{value:E,unit:C,notes:I}=r.value,{year:W,company:ie,category:de,label:me}=a.value,ve={userId:e.userId,year:`${W}`,companyId:ie.id,category:de,field:me,value:E,unit:C,notes:I,page:e.focusedPage};D.value&&(ve.keyword=D.value);const $e=await o(ve);_.value.push({field:a.value,data:ve,atRow:$e}),M.value.answerPage=`${e.focusedPage}`,m(),u(),h.value=!1}function y(E){return E+(a.value.company.pageOffset||0)}const P=ke(),x=qe(P.public.algoliaAppId,P.public.algoliaSearchApiKey).initIndex(P.public.algoliaIndexName),A=$(""),k=$(""),S=$([]),L=$(0),D=J(()=>k.value||A.value||"");te([A,k],([E,C],[I,W])=>{E!==I&&E?k.value="":C!==W&&C&&(A.value="")});function H(E){A.value=E}te(D,()=>{R()});async function R(){if(!D.value){S.value=[],U.value=null;return}const{hits:E}=await x.search(D.value,{facetFilters:[`company:${a.value.company.id}`,`year:${a.value.year}`],hitsPerPage:100});if(S.value=E,U.value=null,L.value){const C=E.find(I=>I.page===L.value);C?B(C):V("page",{highlight:D.value,page:L.value}),L.value=0}}te(S,E=>{const C=E.map(I=>I.page);V("matched-pages",C)});function K(E){E=E.replace(/\n/g,"");const C=`${D.value||""}`,I=E.indexOf(C),W=C.length+_e;if(I<0)return E.slice(0,W*2);const ie=C.length;let de=E.slice(0,I);const me=`${E.slice(I+ie,I+ie+_e)}...`;if(I>_e)de=`...${E.slice(I-_e,I)}`;else return E.slice(0,W*2)+"...";return`${X.escape(de)}<b class="underline">${C}</b>${X.escape(me)}`}const U=$(null);async function B(E){U.value===E?V("page",{highlight:"",page:1}):U.value=E,await we(),M.value.clickPages.push(E.page),V("page",{highlight:D.value,page:E.page})}function Q(){S.value=[],A.value="",k.value=""}function ee(){const E=a.value.data;r.value={value:E.get("數值"),unit:E.get("單位"),notes:E.get("補充資訊")};const C=E.get("答案頁次"),I=E.get("答案關鍵字");I?a.value.keywords.includes(I)?A.value=I:k.value=I:Q(),C&&(I?L.value=C:V("page",{highlight:"",page:C}))}je(()=>{a.value&&(V("report",{year:a.value.year,company:a.value.company}),e.isSubmission?Q():ee())});function T(){return{searchKeyword:D.value,isPredefined:!0,clickPages:[],viewPages:[],answerPage:""}}const M=$(T());function z(){M.value=T()}const q=X.throttle(()=>{const{year:E,company:C,label:I}=a.value,W={userId:e.userId,year:`${E}`,companyId:C.id,field:I,isOnVerify:!e.isSubmission,...M.value};return n(W)},100);return te(()=>e.focusedPage,E=>{!E||E===1||M.value.viewPages.push(E)}),te(D,async E=>{q(),await z(),M.value.isPredefined=E!==k.value,M.value.searchKeyword=E}),(E,C)=>j(a)?(F(),G("div",It,[O("div",Rt,Y(N.isSubmission?"標注欄位":"驗證欄位")+" "+Y(j(_).length)+" / "+Y(e.fields.length),1),O("h2",Ct,Y(j(a).year)+" 年 | "+Y(j(a).company.name)+" | "+Y(j(a).label),1),j(a).notes?(F(),G("p",Lt,Y(j(a).notes),1)):ue("",!0),O("div",Ft,[O("form",{class:"fieldForm mt3 mb4 pb2 bb b--moon-gray",onSubmit:ge(v,["prevent"])},[O("div",$t,Y(N.isSubmission?"填寫判讀結果":"驗證欄位數值"),1),O("div",Nt,[O("label",Dt,[Z("數值"),ne(O("input",{class:"fieldForm__input","onUpdate:modelValue":C[0]||(C[0]=I=>j(r).value=I),type:"text",placeholder:"數值",readonly:!N.isSubmission},null,8,Ut),[[se,j(r).value,void 0,{trim:!0}]])]),O("label",Vt,[Z("單位"),ne(O("input",{class:"fieldForm__input","onUpdate:modelValue":C[1]||(C[1]=I=>j(r).unit=I),type:"text",placeholder:"單位",readonly:!N.isSubmission},null,8,Bt),[[se,j(r).unit,void 0,{trim:!0}]])])]),O("label",null,[Z("備註"),ne(O("textarea",{class:"fieldForm__input","onUpdate:modelValue":C[2]||(C[2]=I=>j(r).notes=I),placeholder:"備註",readonly:!N.isSubmission},null,8,Gt),[[se,j(r).notes,void 0,{trim:!0}]])]),O("div",Kt,[N.isSubmission?(F(),G("div",Ht,[O("button",{class:"pa2 bg-white ba b--light-gray gray pointer",onClick:ge(g,["stop","prevent"])},"找不到答案，放棄 🥺",8,zt),O("button",{class:"pv2 ph4 pointer",type:"submit",disabled:!j(p)||j(h)},"送出標注結果",8,Yt)])):(F(),G("div",qt,[(F(),G(oe,null,le(f,I=>O("button",{class:"pv1 ph3 pointer ml2",key:I,onClick:ge(W=>w(I),["stop","prevent"])},"標為"+Y(I),9,Jt)),64))]))])],40,Mt),O("div",Wt,[Xt,Zt,O("div",Qt,[O("div",ea,[(F(!0),G(oe,null,le(j(a).keywords,I=>(F(),G("button",{class:xe(["controlPanel__keyword pointer",{"controlPanel__keyword--active":I===j(D)}]),key:I,onClick:W=>H(I)},Y(I),11,ta))),128)),ne(O("input",{class:"mt1 f6 w-100 controlPanel__input","onUpdate:modelValue":C[3]||(C[3]=I=>Te(k)?k.value=I:null),placeholder:"自訂關鍵字"},null,512),[[se,j(k),void 0,{trim:!0}]])])]),ne(O("div",aa,[(F(!0),G(oe,null,le(j(S),I=>(F(),G("div",{class:xe(["flex mv2 dim pointer",{b:I===j(U)}]),key:I.page,onClick:W=>B(I)},[O("div",oa,"頁"+Y(y(I.page)),1),O("div",{class:"pl2",innerHTML:K(I.content)},null,8,ra)],10,na))),128))],512),[[Ne,j(S).length]])]),O("div",ia,[j(s)!==j(l)?(F(),G("button",{key:0,class:"controlPanel__cursor",onClick:d},"跳到 《 "+Y(j(s).label),1)):(F(),G("div",sa)),O("button",{class:"controlPanel__cursor",onClick:u},"跳到 "+Y(j(l).label)+" 》",1)])])])):ue("",!0)}});const ua=ce(la,[["__scopeId","data-v-b1753ff4"]]),he=N=>(Ie("data-v-78ee70dc"),N=N(),Re(),N),ca={class:"reportViewer"},da={class:"reportViewer__control pr2"},fa={class:"bb b--moon-gray flex items-center justify-between pv2"},pa={class:"flex items-center pl3"},_a=he(()=>O("i",{class:"fa-solid fa-plus"},null,-1)),ga=he(()=>O("i",{class:"fa-solid fa-minus"},null,-1)),ha=he(()=>O("i",{class:"fa-solid fa-arrows-left-right"},null,-1)),ma=he(()=>O("i",{class:"fa-solid fa-arrows-up-down"},null,-1)),va={key:0,class:"reportViewer__content w-100"},ye="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.9.179",ba="https://gcaa-static.s3.ap-northeast-3.amazonaws.com/company-report-toolkit",Pe=10,ya=100,Pa=100,wa=2e3,Se=.1,Ee=100,xa=re({__name:"PdfViewer",props:{page:{default:1},year:{default:2019},report:{},highlight:{default:""},matchedPages:{default(){return[]}}},emits:["view-page","page"],setup(N,{emit:V}){const e=N;De({link:[{rel:"stylesheet",href:`${ye}/web/pdf_viewer.css`}]});const o=$(!1),c=$(void 0),n=$([]),t=$(0),a=be({}),i=$([null]),r=$(1),l=J({get(){const T=r.value+(e.report.pageOffset||0);return T<1?"-":T},set(T){const M=Number.parseInt(T,10)-(e.report.pageOffset||0);D(M)}}),s=$("fit-width"),u=$({pdfSize:{width:0,height:0},widthScale:0,heightScale:0,customScale:0}),d=J(()=>{if(!u.value.widthScale||!k.value)return null;let T=1;switch(s.value){case"custom":T=u.value.customScale;break;case"fit-height":T=u.value.heightScale;break;case"fit-width":default:T=u.value.widthScale}return T=T||1,{scale:T,width:u.value.pdfSize.width*T,height:u.value.pdfSize.height*T}});Ue(()=>{f()}),Ve(()=>{clearTimeout(c.value)});const _=J(()=>i.value[0]&&d.value),m=J(()=>`${ba}/${e.year}/${e.report.company.id}`),p=J(()=>e.highlight+"");function h(){return!!window&&!!window.pdfjsLib&&!!window.pdfjsViewer}function f(){c.value=setTimeout(async()=>{const T=h();T?(window.pdfjsLib.GlobalWorkerOptions.workerSrc=`${ye}/build/pdf.worker.js`,await we()):f(),o.value=T},ya)}async function w(T){const M=window.pdfjsLib,z=`${ye}/cmaps/`,q=T%Pe||Pe,E=b(T);a.value[E]||(a.value[E]=M.getDocument({url:`${m.value}/${E}.pdf`,cMapUrl:z,cMapPacked:!0,enableXfa:!0}));const C=await a.value[E].promise;return g(C),{document:C,page:q}}async function g(T){if(u.value.widthScale)return;const M=await T.getPage(1),{width:z,height:q}=M.getViewport({scale:1});u.value.pdfSize={width:z,height:q};const E=S.value,C=E.clientWidth,I=E.clientHeight,W=Number.parseInt(getComputedStyle(E).paddingLeft),ie=C-W*2;u.value.widthScale=ie/z,u.value.heightScale=I/q}const v=J(()=>{var T,M;return d.value?{width:`${(T=d.value)==null?void 0:T.width}px`,height:`${(M=d.value)==null?void 0:M.height}px`}:{}});async function y(){const T=await w(1);i.value[0]={pdf:be(T)}}function P(){a.value={},i.value=Array(e.report.totalPages).fill(null),s.value="fit-width",u.value.widthScale=0}je(()=>{!m.value||!o.value||!k.value||(P(),y())});function b(T){return`${Math.ceil(T/Pe)}`.padStart(3,"0")}async function x(T,{forceLoad:M=!1,anchor:z=0}={}){if(!M&&n.value.length){n.value.includes(T)||n.value.unshift(T);return}const q=T-1;if(q>=i.value.length)throw new Error(`Invalid page number: ${T}`);if(M||(n.value.push(T),z&&(t.value=z)),!i.value[q]){const E=await w(T);i.value[q]={pdf:be(E),highlight:e.matchedPages.includes(T)?p.value:""}}n.value.pop(),n.value.length?x(n.value[0],{forceLoad:!0}):setTimeout(()=>{t.value=0},Ee)}const A=X.debounce(T=>{x(T)},100),k=Je(),S=$(null);function L(T){const z=S.value.querySelectorAll(".reportViewer__page")[T-1];return z==null?void 0:z.offsetTop}function D(T){T<1||T>e.report.totalPages||Number.isNaN(T)||(H(T),V("page",T))}async function H(T){const M=L(T),z=x(T,{anchor:M});T>1&&x(T-1),T<e.report.totalPages&&x(T+1),M&&S.value.scrollTo({top:M}),await z,r.value=T}te(()=>e.page,async()=>{await H(e.page)});function R(){var T;u.value.customScale=(((T=d.value)==null?void 0:T.scale)||1)*(1+Se),s.value="custom"}function K(){var T;u.value.customScale=(((T=d.value)==null?void 0:T.scale)||1)*(1-Se),s.value="custom"}function U(){s.value="fit-width"}function B(){s.value="fit-height"}te(d,async(T,M)=>{if(!T||!M||!S.value)return;const z=S.value,q=z.clientHeight/2,E=(z.scrollTop+q)/z.scrollHeight;await we();const C=z.scrollHeight*E-q;t.value=C,setTimeout(()=>{t.value=0},Ee)});const Q=X.debounce(T=>{r.value=T,ee()},Pa),ee=X.debounce(()=>{V("view-page",r.value)},wa);return(T,M)=>{const z=We,q=Xe;return F(),G("div",ca,[O("div",da,[O("div",fa,[O("div",pa,[ne(O("input",{class:"reportViewer__pageInput b--moon-gray ba ph1 mr1","onUpdate:modelValue":M[0]||(M[0]=E=>Te(l)?l.value=E:null),onKeyup:M[1]||(M[1]=Be(E=>E.target.blur(),["enter"]))},null,544),[[se,j(l),void 0,{lazy:!0}]]),Z("頁 / 共 "+Y(T.report.totalPages)+" 頁",1)]),O("div",{class:"flex items-center"},[O("button",{class:"reportViewer__button",onClick:R},[_a,Z("放大")]),O("button",{class:"reportViewer__button",onClick:K},[ga,Z("縮小")]),O("button",{class:"reportViewer__button",onClick:U},[ha,Z("滿頁寬")]),O("button",{class:"reportViewer__button",onClick:B},[ma,Z("滿頁高")])])])]),O("div",{class:"reportViewer__scrollContainer relative",ref_key:"scrollerEle",ref:S},[j(_)?(F(),G("div",va,[(F(!0),G(oe,null,le(j(i),(E,C)=>(F(),G(oe,{key:C},[E?(F(),ae(q,Ke({key:1,class:"reportViewer__page"},E.pdf,{class:[`thePage--${C+1}`],highlight:E.highlight,"page-anchor":j(t),scale:j(d).scale,onVisible:I=>j(Q)(C+1)}),null,16,["class","highlight","page-anchor","scale","onVisible"])):(F(),ae(z,{key:0,class:xe(["reportViewer__page",[`theEmpty--${C+1}`]]),style:Ge(j(v)),"page-number":C+1,onVisible:I=>j(A)(C+1)},null,8,["style","class","page-number","onVisible"]))],64))),128))])):ue("",!0)],512)])}}});const Ta=ce(xa,[["__scopeId","data-v-78ee70dc"]]),Oa={class:"crowdEditor"},Aa={class:"br b--moon-gray"},Sa={class:"crowdEditor__control pv3 ph2"},Ea={class:"main__reader"},ka=re({__name:"FieldEditor",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},isSubmission:{type:Boolean,default:!0}},emits:["complete"],setup(N,{emit:V}){const e=$(null),o=$(null),c=$([]),n=$(0);function t(s){n.value=s}function a(){V("complete")}function i(s){e.value=s,o.value={page:1,highlight:""}}function r(s){o.value=s}function l(s){c.value=s}return(s,u)=>{const d=ua,_=Ta;return F(),G("div",Oa,[O("div",Aa,[O("div",Sa,[Ce(d,{"user-id":N.userId,fields:N.fields,"focused-page":j(n),"is-submission":N.isSubmission,onReport:i,onPage:r,onMatchedPages:l,onComplete:a},null,8,["user-id","fields","focused-page","is-submission"])])]),O("div",Ea,[j(e)&&j(o)?(F(),ae(_,{key:0,year:j(e).year,company:j(e).company,page:j(o).page,highlight:j(o).highlight,"matched-pages":j(c),onViewPage:t},null,8,["year","company","page","highlight","matched-pages"])):ue("",!0)])])}}});const ja=ce(ka,[["__scopeId","data-v-06fa7a64"]]),Ia={class:"gotoVerify center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},Ra=O("h1",{class:"mt0 f4 f3-ns"},"完成一半了！",-1),Ca=O("p",null,"所有的標記任務都已完成，接下來，就輪到幫忙驗證其他人標注的資料囉～",-1),La=re({__name:"GotoVerify",emits:["continue"],setup(N,{emit:V}){function e(){V("continue")}return(o,c)=>(F(),G("div",Ia,[Ra,Ca,O("div",{class:"flex items-center mt4"},[O("button",{class:"thankYou__button br2 pv2 ph3 pointer ba b--dark-green bg-dark-green white mr3",onClick:e},"我準備好了，開始驗證資料")])]))}}),Fa={class:"thankYou center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},Ma=ze('<h1 class="mt0 f4 f3-ns" data-v-276f04be>感謝參與標記原型工具測試！</h1><p data-v-276f04be>所有任務都已經完成。在離開前，請填寫一份問卷，讓我們了解你的使用心得。</p><p data-v-276f04be>如果想要多參與一些測試，也歡迎點下「再來一輪」，我們會重新抽籤。記得使用同樣的暱稱，才能累計積分呦 🤓</p><p data-v-276f04be>如果對這個專案有更多想法，除了找我們聊聊之外，也歡迎：</p><ul data-v-276f04be><li data-v-276f04be>讀讀<a href="https://g0v.hackmd.io/@ddio-io/open-csr-report" target="_blank" rel="noopener" data-v-276f04be>專案共筆</a></li><li data-v-276f04be>翻翻<a href="https://github.com/gcaa-org-tw/company-report-toolkit/" target="_blank" rel="noopener" data-v-276f04be>Github 上的程式碼</a></li><li data-v-276f04be>查看<a href="https://airtable.com/appsREnwMpxAZmaRv/shrhubstEzdWYZWfh" target="_blank" rel="noopener" data-v-276f04be>標注狀況與問卷結果</a></li></ul>',5),$a={class:"flex items-center mv4"},Na=re({__name:"SayThanks",props:{userId:{type:String,required:!0}},emits:["start-over"],setup(N,{emit:V}){const e=N,o=J(()=>"https://airtable.com/appsREnwMpxAZmaRv/shrjkPKD0t0J5hxP2?prefill_%E4%BD%BF%E7%94%A8%E8%80%85%E6%9A%B1%E7%A8%B1="+encodeURIComponent(e.userId));function c(){V("start-over")}return(n,t)=>{const a=Ze;return F(),G("div",Fa,[Ma,O("div",$a,[O("button",{class:"thankYou__button pointer bg-green white mr3",onClick:c},"再來一輪"),Ce(a,{class:"thankYou__button bg-dark-green white no-underline",to:j(o),target:"_blank",rel:"noopener"},{default:He(()=>[Z("填寫問卷")]),_:1},8,["to"])])])}}});const Da=ce(Na,[["__scopeId","data-v-276f04be"]]),Ua={class:"crowdLanding"},Va=re({__name:"index",setup(N){const V=$(""),e=$([]),o=$(!1),c=$(!1),n=$([]),t=$(!1);function a({submissions:l,verifications:s}){e.value=l,n.value=s,l.length||(o.value=!0,c.value=!0),s.length||(c.value=!0,t.value=!0)}const i=J(()=>V.value&&(e.value.length||o.value));function r(){V.value="",e.value=[],o.value=!1,n.value=[],t.value=!1,c.value=!1}return(l,s)=>{const u=jt,d=ja,_=La,m=Da;return F(),G("div",Ua,[j(i)?j(o)?j(c)?j(t)?(F(),ae(m,{key:4,"user-id":j(V),onStartOver:r},null,8,["user-id"])):(F(),ae(d,{key:3,"user-id":j(V),fields:j(n),"is-submission":!1,onComplete:s[3]||(s[3]=p=>t.value=!0)},null,8,["user-id","fields"])):(F(),ae(_,{key:2,onContinue:s[2]||(s[2]=p=>c.value=!0)})):(F(),ae(d,{key:1,"user-id":j(V),fields:j(e),onComplete:s[1]||(s[1]=p=>o.value=!0)},null,8,["user-id","fields"])):(F(),ae(u,{key:0,onUserId:s[0]||(s[0]=p=>V.value=p),onTasks:a}))])}}});const Ya=ce(Va,[["__scopeId","data-v-156e1ccb"]]);export{Ya as default};
