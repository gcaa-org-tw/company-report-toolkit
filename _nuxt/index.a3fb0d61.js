import{j as Qs,f as un,r as Pe,k as st,o as Se,c as De,i as ue,a as te,l as lr,v as Hr,m as ec,t as Je,n as Yi,F as Un,q as hr,s as pr,d as It,x as Vt,y as tc,z as Uo,A as X_,B as Bo,p as nc,e as rc,_ as dr,C as Q_,D as eg,E as tg,G as qo,H as Ji,u as ng,I as rg,J as wn,K as ig,L as ag,b as ic,w as og,M as ug}from"./entry.84dd6267.js";import{_ as sg}from"./nuxt-link.ea04fe6e.js";var xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $o(ae){return ae&&ae.__esModule&&Object.prototype.hasOwnProperty.call(ae,"default")?ae.default:ae}function Ki(ae){throw new Error('Could not dynamically require "'+ae+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ac={exports:{}};(function(ae,ye){(function(i){ae.exports=i()})(function(){return function(){function i(g,_,f){function c(b,w){if(!_[b]){if(!g[b]){var d=typeof Ki=="function"&&Ki;if(!w&&d)return d(b,!0);if(h)return h(b,!0);var P=new Error("Cannot find module '"+b+"'");throw P.code="MODULE_NOT_FOUND",P}var O=_[b]={exports:{}};g[b][0].call(O.exports,function(C){var F=g[b][1][C];return c(F||C)},O,O.exports,i,g,_,f)}return _[b].exports}for(var h=typeof Ki=="function"&&Ki,m=0;m<f.length;m++)c(f[m]);return c}return i}()({1:[function(i,g,_){var f,c=typeof window<"u"?window:typeof self<"u"?self:null;if(!c)f=i("abort-controller");else if("signal"in new Request("https://airtable.com"))f=c.AbortController;else{var h=i("abortcontroller-polyfill/dist/cjs-ponyfill");f=h.AbortController}g.exports=f},{"abort-controller":20,"abortcontroller-polyfill/dist/cjs-ponyfill":19}],2:[function(i,g,_){var f=function(){function c(h,m,b){this.error=h,this.message=m,this.statusCode=b}return c.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},c}();g.exports=f},{}],3:[function(i,g,_){var f=this&&this.__assign||function(){return f=Object.assign||function(j){for(var U,V=1,G=arguments.length;V<G;V++){U=arguments[V];for(var z in U)Object.prototype.hasOwnProperty.call(U,z)&&(j[z]=U[z])}return j},f.apply(this,arguments)},c=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}},h=c(i("lodash/get")),m=c(i("lodash/isPlainObject")),b=c(i("lodash/keys")),w=c(i("./fetch")),d=c(i("./abort-controller")),P=c(i("./object_to_query_param_string")),O=c(i("./airtable_error")),C=c(i("./table")),F=c(i("./http_headers")),T=c(i("./run_action")),D=c(i("./package_version")),R=c(i("./exponential_backoff_with_jitter")),H="Airtable.js/"+D.default,k=function(){function j(U,V){this._airtable=U,this._id=V}return j.prototype.table=function(U){return new C.default(this,null,U)},j.prototype.makeRequest=function(U){var V=this,G;U===void 0&&(U={});var z=h.default(U,"method","GET").toUpperCase(),ne=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+h.default(U,"path","/")+"?"+P.default(h.default(U,"qs",{})),he=new d.default,je=this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,(G=U.headers)!==null&&G!==void 0?G:{})),Ue={method:z,headers:je,signal:he.signal};"body"in U&&B(z)&&(Ue.body=JSON.stringify(U.body));var le=setTimeout(function(){he.abort()},this._airtable._requestTimeout);return new Promise(function(Y,se){w.default(ne,Ue).then(function(ve){if(clearTimeout(le),ve.status===429&&!V._airtable._noRetryIfRateLimited){var ke=h.default(U,"_numAttempts",0),ee=R.default(ke);setTimeout(function(){var ce=f(f({},U),{_numAttempts:ke+1});V.makeRequest(ce).then(Y).catch(se)},ee)}else ve.json().then(function(ce){var fe=V._checkStatusForError(ve.status,ce)||q(ve.status,ce);fe?se(fe):Y({statusCode:ve.status,headers:ve.headers,body:ce})}).catch(function(){var ce=q(ve.status);se(ce)})}).catch(function(ve){clearTimeout(le),ve=new O.default("CONNECTION_ERROR",ve.message,null),se(ve)})})},j.prototype.runAction=function(U,V,G,z,ne){T.default(this,U,V,G,z,ne,0)},j.prototype._getRequestHeaders=function(U){var V=new F.default;V.set("Authorization","Bearer "+this._airtable._apiKey),V.set("User-Agent",H),V.set("Content-Type","application/json");for(var G=0,z=b.default(U);G<z.length;G++){var ne=z[G];V.set(ne,U[ne])}return V.toJSON()},j.prototype._checkStatusForError=function(U,V){var G=(V??{error:{}}).error,z=G===void 0?{}:G,ne=z.type,he=z.message;return U===401?new O.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",U):U===403?new O.default("NOT_AUTHORIZED","You are not authorized to perform this operation",U):U===404?new O.default("NOT_FOUND",he??"Could not find what you are looking for",U):U===413?new O.default("REQUEST_TOO_LARGE","Request body is too large",U):U===422?new O.default(ne??"UNPROCESSABLE_ENTITY",he??"The operation cannot be processed",U):U===429?new O.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",U):U===500?new O.default("SERVER_ERROR","Try again. If the problem persists, contact support.",U):U===503?new O.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",U):U>=400?new O.default(ne??"UNEXPECTED_ERROR",he??"An unexpected error occurred",U):null},j.prototype.doCall=function(U){return this.table(U)},j.prototype.getId=function(){return this._id},j.createFunctor=function(U,V){var G=new j(U,V),z=function(ne){return G.doCall(ne)};return z._base=G,z.table=G.table.bind(G),z.makeRequest=G.makeRequest.bind(G),z.runAction=G.runAction.bind(G),z.getId=G.getId.bind(G),z},j}();function B(j){return j!=="GET"&&j!=="DELETE"}function q(j,U){return m.default(U)?null:new O.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",j)}g.exports=k},{"./abort-controller":1,"./airtable_error":2,"./exponential_backoff_with_jitter":6,"./fetch":7,"./http_headers":9,"./object_to_query_param_string":11,"./package_version":12,"./run_action":16,"./table":17,"lodash/get":77,"lodash/isPlainObject":89,"lodash/keys":93}],4:[function(i,g,_){function f(c,h,m){return m===void 0&&(m=void 0),function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];var d;m===void 0?d=b.length>0?b.length-1:0:d=m;var P=b[d];if(typeof P=="function"){c.apply(h,b);return}else{for(var O=[],C=Math.max(b.length,d),F=0;F<C;F++)O.push(b[F]);return new Promise(function(T,D){O.push(function(R,H){R?D(R):T(H)}),c.apply(h,O)})}}}g.exports=f},{}],5:[function(i,g,_){var f={};function c(h,m,b){return function(){for(var w=[],d=0;d<arguments.length;d++)w[d]=arguments[d];f[m]||(f[m]=!0,console.warn(b)),h.apply(this,w)}}g.exports=c},{}],6:[function(i,g,_){var f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},c=f(i("./internal_config.json"));function h(m){var b=c.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,m),w=Math.min(c.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,b),d=Math.random()*w;return d}g.exports=h},{"./internal_config.json":10}],7:[function(i,g,_){var f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},c=f(i("node-fetch")),h=typeof window<"u"?window:typeof self<"u"?self:null;g.exports=h?h.fetch.bind(h):c.default},{"node-fetch":20}],8:[function(i,g,_){function f(c,h){return Object.prototype.hasOwnProperty.call(c,h)}g.exports=f},{}],9:[function(i,g,_){var f=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}},c=f(i("lodash/keys")),h=typeof window<"u",m=function(){function b(){this._headersByLowercasedKey={}}return b.prototype.set=function(w,d){var P=w.toLowerCase();P==="x-airtable-user-agent"&&(P="user-agent",w="User-Agent"),this._headersByLowercasedKey[P]={headerKey:w,headerValue:d}},b.prototype.toJSON=function(){for(var w={},d=0,P=c.default(this._headersByLowercasedKey);d<P.length;d++){var O=P[d],C=this._headersByLowercasedKey[O],F=void 0;h&&O==="user-agent"?F="X-Airtable-User-Agent":F=C.headerKey,w[F]=C.headerValue}return w},b}();g.exports=m},{"lodash/keys":93}],10:[function(i,g,_){g.exports={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5}},{}],11:[function(i,g,_){var f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},c=f(i("lodash/isArray")),h=f(i("lodash/isNil")),m=f(i("lodash/keys"));function b(d,P,O){if(c.default(P))for(var C=0;C<P.length;C++){var F=P[C];/\[\]$/.test(d)?O(d,F):b(d+"["+(typeof F=="object"&&F!==null?C:"")+"]",F,O)}else if(typeof P=="object")for(var T=0,D=m.default(P);T<D.length;T++){var R=D[T],F=P[R];b(d+"["+R+"]",F,O)}else O(d,P)}function w(d){for(var P=[],O=function(R,H){H=h.default(H)?"":H,P.push(encodeURIComponent(R)+"="+encodeURIComponent(H))},C=0,F=m.default(d);C<F.length;C++){var T=F[C],D=d[T];b(T,D,O)}return P.join("&").replace(/%20/g,"+")}g.exports=w},{"lodash/isArray":79,"lodash/isNil":85,"lodash/keys":93}],12:[function(i,g,_){g.exports="0.12.2"},{}],13:[function(i,g,_){var f=this&&this.__assign||function(){return f=Object.assign||function(R){for(var H,k=1,B=arguments.length;k<B;k++){H=arguments[k];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(R[q]=H[q])}return R},f.apply(this,arguments)},c=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}},h=c(i("lodash/isFunction")),m=c(i("lodash/keys")),b=c(i("./record")),w=c(i("./callback_to_promise")),d=c(i("./has")),P=i("./query_params"),O=c(i("./object_to_query_param_string")),C=function(){function R(H,k){this._table=H,this._params=k,this.firstPage=w.default(F,this),this.eachPage=w.default(T,this,1),this.all=w.default(D,this)}return R.validateParams=function(H){for(var k={},B=[],q=[],j=0,U=m.default(H);j<U.length;j++){var V=U[j],G=H[V];if(d.default(R.paramValidators,V)){var z=R.paramValidators[V],ne=z(G);ne.pass?k[V]=G:q.push(ne.error)}else B.push(V)}return{validParams:k,ignoredKeys:B,errors:q}},R.paramValidators=P.paramValidators,R}();function F(R){if(!h.default(R))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage(function(H){R(null,H)},function(H){R(H,null)})}function T(R,H){var k=this;if(!h.default(R))throw new Error("The first parameter to `eachPage` must be a function");if(!h.default(H)&&H!==void 0)throw new Error("The second parameter to `eachPage` must be a function or undefined");var B=f({},this._params),q="/"+this._table._urlEncodedNameOrId()+"?"+O.default(B),j={},U=null,V,G;if(B.method==="post"||q.length>P.URL_CHARACTER_LENGTH_LIMIT){U=B,V="post",G="/"+this._table._urlEncodedNameOrId()+"/listRecords";for(var z=Object.keys(B),ne=0,he=z;ne<he.length;ne++){var je=he[ne];P.shouldListRecordsParamBePassedAsParameter(je)?j[je]=B[je]:U[je]=B[je]}}else V="get",j=B,G="/"+this._table._urlEncodedNameOrId();var Ue=function(){k._table._base.runAction(V,G,j,U,function(le,Y,se){if(le)H(le,null);else{var ve=void 0;se.offset?(B.offset=se.offset,ve=Ue):ve=function(){H(null)};var ke=se.records.map(function(ee){return new b.default(k._table,null,ee)});R(ke,ve)}})};Ue()}function D(R){if(!h.default(R))throw new Error("The first parameter to `all` must be a function");var H=[];this.eachPage(function(k,B){H.push.apply(H,k),B()},function(k){k?R(k,null):R(null,H)})}g.exports=C},{"./callback_to_promise":4,"./has":8,"./object_to_query_param_string":11,"./query_params":14,"./record":15,"lodash/isFunction":83,"lodash/keys":93}],14:[function(i,g,_){var f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(_,"__esModule",{value:!0}),_.shouldListRecordsParamBePassedAsParameter=_.URL_CHARACTER_LENGTH_LIMIT=_.paramValidators=void 0;var c=f(i("./typecheck")),h=f(i("lodash/isString")),m=f(i("lodash/isNumber")),b=f(i("lodash/isPlainObject")),w=f(i("lodash/isBoolean"));_.paramValidators={fields:c.default(c.default.isArrayOf(h.default),"the value for `fields` should be an array of strings"),filterByFormula:c.default(h.default,"the value for `filterByFormula` should be a string"),maxRecords:c.default(m.default,"the value for `maxRecords` should be a number"),pageSize:c.default(m.default,"the value for `pageSize` should be a number"),offset:c.default(m.default,"the value for `offset` should be a number"),sort:c.default(c.default.isArrayOf(function(d){return b.default(d)&&h.default(d.field)&&(d.direction===void 0||["asc","desc"].includes(d.direction))}),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:c.default(h.default,"the value for `view` should be a string"),cellFormat:c.default(function(d){return h.default(d)&&["json","string"].includes(d)},'the value for `cellFormat` should be "json" or "string"'),timeZone:c.default(h.default,"the value for `timeZone` should be a string"),userLocale:c.default(h.default,"the value for `userLocale` should be a string"),method:c.default(function(d){return h.default(d)&&["get","post"].includes(d)},'the value for `method` should be "get" or "post"'),returnFieldsByFieldId:c.default(w.default,"the value for `returnFieldsByFieldId` should be a boolean"),recordMetadata:c.default(c.default.isArrayOf(h.default),"the value for `recordMetadata` should be an array of strings")},_.URL_CHARACTER_LENGTH_LIMIT=15e3,_.shouldListRecordsParamBePassedAsParameter=function(d){return d==="timeZone"||d==="userLocale"}},{"./typecheck":18,"lodash/isBoolean":81,"lodash/isNumber":86,"lodash/isPlainObject":89,"lodash/isString":90}],15:[function(i,g,_){var f=this&&this.__assign||function(){return f=Object.assign||function(C){for(var F,T=1,D=arguments.length;T<D;T++){F=arguments[T];for(var R in F)Object.prototype.hasOwnProperty.call(F,R)&&(C[R]=F[R])}return C},f.apply(this,arguments)},c=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}},h=c(i("./callback_to_promise")),m=function(){function C(F,T,D){this._table=F,this.id=T||D.id,D&&(this.commentCount=D.commentCount),this.setRawJson(D),this.save=h.default(b,this),this.patchUpdate=h.default(w,this),this.putUpdate=h.default(d,this),this.destroy=h.default(P,this),this.fetch=h.default(O,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return C.prototype.getId=function(){return this.id},C.prototype.get=function(F){return this.fields[F]},C.prototype.set=function(F,T){this.fields[F]=T},C.prototype.setRawJson=function(F){this._rawJson=F,this.fields=this._rawJson&&this._rawJson.fields||{}},C}();function b(C){this.putUpdate(this.fields,C)}function w(C,F,T){var D=this;T||(T=F,F={});var R=f({fields:C},F);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},R,function(H,k,B){if(H){T(H);return}D.setRawJson(B),T(null,D)})}function d(C,F,T){var D=this;T||(T=F,F={});var R=f({fields:C},F);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},R,function(H,k,B){if(H){T(H);return}D.setRawJson(B),T(null,D)})}function P(C){var F=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(T){if(T){C(T);return}C(null,F)})}function O(C){var F=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(T,D,R){if(T){C(T);return}F.setRawJson(R),C(null,F)})}g.exports=m},{"./callback_to_promise":4}],16:[function(i,g,_){var f=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}},c=f(i("./exponential_backoff_with_jitter")),h=f(i("./object_to_query_param_string")),m=f(i("./package_version")),b=f(i("./fetch")),w=f(i("./abort-controller")),d="Airtable.js/"+m.default;function P(O,C,F,T,D,R,H){var k=O._airtable._endpointUrl+"/v"+O._airtable._apiVersionMajor+"/"+O._id+F+"?"+h.default(T),B={authorization:"Bearer "+O._airtable._apiKey,"x-api-version":O._airtable._apiVersion,"x-airtable-application-id":O.getId(),"content-type":"application/json"},q=typeof window<"u";q?B["x-airtable-user-agent"]=d:B["User-Agent"]=d;var j=new w.default,U=C.toUpperCase(),V={method:U,headers:B,signal:j.signal};D!==null&&(U==="GET"||U==="HEAD"?console.warn("body argument to runAction are ignored with GET or HEAD requests"):V.body=JSON.stringify(D));var G=setTimeout(function(){j.abort()},O._airtable._requestTimeout);b.default(k,V).then(function(z){if(clearTimeout(G),z.status===429&&!O._airtable._noRetryIfRateLimited){var ne=c.default(H);setTimeout(function(){P(O,C,F,T,D,R,H+1)},ne)}else z.json().then(function(he){var je=O._checkStatusForError(z.status,he),Ue={};Object.keys(z).forEach(function(le){Ue[le]=z[le]}),Ue.body=he,Ue.statusCode=z.status,R(je,Ue,he)}).catch(function(){R(O._checkStatusForError(z.status))})}).catch(function(z){clearTimeout(G),R(z)})}g.exports=P},{"./abort-controller":1,"./exponential_backoff_with_jitter":6,"./fetch":7,"./object_to_query_param_string":11,"./package_version":12}],17:[function(i,g,_){var f=this&&this.__assign||function(){return f=Object.assign||function(F){for(var T,D=1,R=arguments.length;D<R;D++){T=arguments[D];for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&(F[H]=T[H])}return F},f.apply(this,arguments)},c=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}},h=c(i("lodash/isPlainObject")),m=c(i("./deprecate")),b=c(i("./query")),w=i("./query_params"),d=c(i("./object_to_query_param_string")),P=c(i("./record")),O=c(i("./callback_to_promise")),C=function(){function F(T,D,R){if(!D&&!R)throw new Error("Table name or table ID is required");this._base=T,this.id=D,this.name=R,this.find=O.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=O.default(this._createRecords,this),this.update=O.default(this._updateRecords.bind(this,!1),this),this.replace=O.default(this._updateRecords.bind(this,!0),this),this.destroy=O.default(this._destroyRecord,this),this.list=m.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=m.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return F.prototype._findRecordById=function(T,D){var R=new P.default(this,T);R.fetch(D)},F.prototype._selectRecords=function(T){if(T===void 0&&(T={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),h.default(T)){var D=b.default.validateParams(T);if(D.errors.length){var R=D.errors.map(function(H){return"  * "+H});throw new Error("Airtable: invalid parameters for `select`:\n"+R.join(`
`))}return D.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+D.ignoredKeys.join(", ")),new b.default(this,D.validParams)}else throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},F.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},F.prototype._createRecords=function(T,D,R){var H=this,k=Array.isArray(T);R||(R=D,D={});var B;k?B=f({records:T},D):B=f({fields:T},D),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},B,function(q,j,U){if(q){R(q);return}var V;k?V=U.records.map(function(G){return new P.default(H,G.id,G)}):V=new P.default(H,U.id,U),R(null,V)})},F.prototype._updateRecords=function(T,D,R,H,k){var B=this,q;if(Array.isArray(D)){var j=D;q=h.default(R)?R:{},k=H||R;var U=T?"put":"patch",V=f({records:j},q);this._base.runAction(U,"/"+this._urlEncodedNameOrId()+"/",{},V,function(he,je,Ue){if(he){k(he);return}var le=Ue.records.map(function(Y){return new P.default(B,Y.id,Y)});k(null,le)})}else{var G=D,z=R;q=h.default(H)?H:{},k=k||H;var ne=new P.default(this,G);T?ne.putUpdate(z,q,k):ne.patchUpdate(z,q,k)}},F.prototype._destroyRecord=function(T,D){var R=this;if(Array.isArray(T)){var H={records:T};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),H,null,function(B,q,j){if(B){D(B);return}var U=j.records.map(function(V){var G=V.id;return new P.default(R,G,null)});D(null,U)})}else{var k=new P.default(this,T);k.destroy(D)}},F.prototype._listRecords=function(T,D,R,H){var k=this;H||(H=R,R={});var B="/"+this._urlEncodedNameOrId()+"?"+d.default(R),q,j={},U=null,V;if(typeof R!="function"&&R.method==="post"||B.length>w.URL_CHARACTER_LENGTH_LIMIT){q="/"+this._urlEncodedNameOrId()+"/listRecords",U=f(f({},T&&{pageSize:T}),D&&{offset:D}),V="post";for(var G=Object.keys(R),z=0,ne=G;z<ne.length;z++){var he=ne[z];w.shouldListRecordsParamBePassedAsParameter(he)?j[he]=R[he]:U[he]=R[he]}}else V="get",q="/"+this._urlEncodedNameOrId()+"/",j=f({limit:T,offset:D},R);this._base.runAction(V,q,j,U,function(je,Ue,le){if(je){H(je);return}var Y=le.records.map(function(se){return new P.default(k,null,se)});H(null,Y,le.offset)})},F.prototype._forEachRecord=function(T,D,R){var H=this;arguments.length===2&&(R=D,D=T,T={});var k=F.__recordsPerPageForIteration||100,B=null,q=function(){H._listRecords(k,B,T,function(j,U,V){if(j){R(j);return}for(var G=0;G<U.length;G++)D(U[G]);V?(B=V,q()):R()})};q()},F}();g.exports=C},{"./callback_to_promise":4,"./deprecate":5,"./object_to_query_param_string":11,"./query":13,"./query_params":14,"./record":15,"lodash/isPlainObject":89}],18:[function(i,g,_){function f(c,h){return function(m){return c(m)?{pass:!0}:{pass:!1,error:h}}}f.isOneOf=function(h){return h.includes.bind(h)},f.isArrayOf=function(c){return function(h){return Array.isArray(h)&&h.every(c)}},g.exports=f},{}],19:[function(i,g,_){Object.defineProperty(_,"__esModule",{value:!0});function f(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function c(k,B){for(var q=0;q<B.length;q++){var j=B[q];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}function h(k,B,q){return B&&c(k.prototype,B),q&&c(k,q),k}function m(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(B&&B.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),B&&w(k,B)}function b(k){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},b(k)}function w(k,B){return w=Object.setPrototypeOf||function(j,U){return j.__proto__=U,j},w(k,B)}function d(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function P(k,B){return B&&(typeof B=="object"||typeof B=="function")?B:d(k)}function O(k,B){for(;!Object.prototype.hasOwnProperty.call(k,B)&&(k=b(k),k!==null););return k}function C(k,B,q){return typeof Reflect<"u"&&Reflect.get?C=Reflect.get:C=function(U,V,G){var z=O(U,V);if(z){var ne=Object.getOwnPropertyDescriptor(z,V);return ne.get?ne.get.call(G):ne.value}},C(k,B,q||k)}var F=function(){function k(){f(this,k),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return h(k,[{key:"addEventListener",value:function(q,j){q in this.listeners||(this.listeners[q]=[]),this.listeners[q].push(j)}},{key:"removeEventListener",value:function(q,j){if(q in this.listeners){for(var U=this.listeners[q],V=0,G=U.length;V<G;V++)if(U[V]===j){U.splice(V,1);return}}}},{key:"dispatchEvent",value:function(q){var j=this;if(q.type in this.listeners){for(var U=function(he){setTimeout(function(){return he.call(j,q)})},V=this.listeners[q.type],G=0,z=V.length;G<z;G++)U(V[G]);return!q.defaultPrevented}}}]),k}(),T=function(k){m(B,k);function B(){var q;return f(this,B),q=P(this,b(B).call(this)),q.listeners||F.call(d(q)),Object.defineProperty(d(q),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(d(q),"onabort",{value:null,writable:!0,configurable:!0}),q}return h(B,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(j){j.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,j)),C(b(B.prototype),"dispatchEvent",this).call(this,j)}}]),B}(F),D=function(){function k(){f(this,k),Object.defineProperty(this,"signal",{value:new T,writable:!0,configurable:!0})}return h(k,[{key:"abort",value:function(){var q;try{q=new Event("abort")}catch{typeof document<"u"?document.createEvent?(q=document.createEvent("Event"),q.initEvent("abort",!1,!1)):(q=document.createEventObject(),q.type="abort"):q={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(q)}},{key:"toString",value:function(){return"[object AbortController]"}}]),k}();typeof Symbol<"u"&&Symbol.toStringTag&&(D.prototype[Symbol.toStringTag]="AbortController",T.prototype[Symbol.toStringTag]="AbortSignal");function R(k){return k.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof k.Request=="function"&&!k.Request.prototype.hasOwnProperty("signal")||!k.AbortController}function H(k){typeof k=="function"&&(k={fetch:k});var B=k,q=B.fetch,j=B.Request,U=j===void 0?q.Request:j,V=B.AbortController,G=B.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,z=G===void 0?!1:G;if(!R({fetch:q,Request:U,AbortController:V,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:z}))return{fetch:q,Request:ne};var ne=U;(ne&&!ne.prototype.hasOwnProperty("signal")||z)&&(ne=function(le,Y){var se;Y&&Y.signal&&(se=Y.signal,delete Y.signal);var ve=new U(le,Y);return se&&Object.defineProperty(ve,"signal",{writable:!1,enumerable:!1,configurable:!0,value:se}),ve},ne.prototype=U.prototype);var he=q,je=function(le,Y){var se=ne&&ne.prototype.isPrototypeOf(le)?le.signal:Y?Y.signal:void 0;if(se){var ve;try{ve=new DOMException("Aborted","AbortError")}catch{ve=new Error("Aborted"),ve.name="AbortError"}if(se.aborted)return Promise.reject(ve);var ke=new Promise(function(ee,ce){se.addEventListener("abort",function(){return ce(ve)},{once:!0})});return Y&&Y.signal&&delete Y.signal,Promise.race([ke,he(le,Y)])}return he(le,Y)};return{fetch:je,Request:ne}}_.AbortController=D,_.AbortSignal=T,_.abortableFetch=H},{}],20:[function(i,g,_){},{}],21:[function(i,g,_){var f=i("./_hashClear"),c=i("./_hashDelete"),h=i("./_hashGet"),m=i("./_hashHas"),b=i("./_hashSet");function w(d){var P=-1,O=d==null?0:d.length;for(this.clear();++P<O;){var C=d[P];this.set(C[0],C[1])}}w.prototype.clear=f,w.prototype.delete=c,w.prototype.get=h,w.prototype.has=m,w.prototype.set=b,g.exports=w},{"./_hashClear":46,"./_hashDelete":47,"./_hashGet":48,"./_hashHas":49,"./_hashSet":50}],22:[function(i,g,_){var f=i("./_listCacheClear"),c=i("./_listCacheDelete"),h=i("./_listCacheGet"),m=i("./_listCacheHas"),b=i("./_listCacheSet");function w(d){var P=-1,O=d==null?0:d.length;for(this.clear();++P<O;){var C=d[P];this.set(C[0],C[1])}}w.prototype.clear=f,w.prototype.delete=c,w.prototype.get=h,w.prototype.has=m,w.prototype.set=b,g.exports=w},{"./_listCacheClear":56,"./_listCacheDelete":57,"./_listCacheGet":58,"./_listCacheHas":59,"./_listCacheSet":60}],23:[function(i,g,_){var f=i("./_getNative"),c=i("./_root"),h=f(c,"Map");g.exports=h},{"./_getNative":42,"./_root":72}],24:[function(i,g,_){var f=i("./_mapCacheClear"),c=i("./_mapCacheDelete"),h=i("./_mapCacheGet"),m=i("./_mapCacheHas"),b=i("./_mapCacheSet");function w(d){var P=-1,O=d==null?0:d.length;for(this.clear();++P<O;){var C=d[P];this.set(C[0],C[1])}}w.prototype.clear=f,w.prototype.delete=c,w.prototype.get=h,w.prototype.has=m,w.prototype.set=b,g.exports=w},{"./_mapCacheClear":61,"./_mapCacheDelete":62,"./_mapCacheGet":63,"./_mapCacheHas":64,"./_mapCacheSet":65}],25:[function(i,g,_){var f=i("./_root"),c=f.Symbol;g.exports=c},{"./_root":72}],26:[function(i,g,_){var f=i("./_baseTimes"),c=i("./isArguments"),h=i("./isArray"),m=i("./isBuffer"),b=i("./_isIndex"),w=i("./isTypedArray"),d=Object.prototype,P=d.hasOwnProperty;function O(C,F){var T=h(C),D=!T&&c(C),R=!T&&!D&&m(C),H=!T&&!D&&!R&&w(C),k=T||D||R||H,B=k?f(C.length,String):[],q=B.length;for(var j in C)(F||P.call(C,j))&&!(k&&(j=="length"||R&&(j=="offset"||j=="parent")||H&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||b(j,q)))&&B.push(j);return B}g.exports=O},{"./_baseTimes":35,"./_isIndex":51,"./isArguments":78,"./isArray":79,"./isBuffer":82,"./isTypedArray":92}],27:[function(i,g,_){function f(c,h){for(var m=-1,b=c==null?0:c.length,w=Array(b);++m<b;)w[m]=h(c[m],m,c);return w}g.exports=f},{}],28:[function(i,g,_){var f=i("./eq");function c(h,m){for(var b=h.length;b--;)if(f(h[b][0],m))return b;return-1}g.exports=c},{"./eq":76}],29:[function(i,g,_){var f=i("./_castPath"),c=i("./_toKey");function h(m,b){b=f(b,m);for(var w=0,d=b.length;m!=null&&w<d;)m=m[c(b[w++])];return w&&w==d?m:void 0}g.exports=h},{"./_castPath":38,"./_toKey":74}],30:[function(i,g,_){var f=i("./_Symbol"),c=i("./_getRawTag"),h=i("./_objectToString"),m="[object Null]",b="[object Undefined]",w=f?f.toStringTag:void 0;function d(P){return P==null?P===void 0?b:m:w&&w in Object(P)?c(P):h(P)}g.exports=d},{"./_Symbol":25,"./_getRawTag":44,"./_objectToString":70}],31:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isObjectLike"),h="[object Arguments]";function m(b){return c(b)&&f(b)==h}g.exports=m},{"./_baseGetTag":30,"./isObjectLike":88}],32:[function(i,g,_){var f=i("./isFunction"),c=i("./_isMasked"),h=i("./isObject"),m=i("./_toSource"),b=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,d=Function.prototype,P=Object.prototype,O=d.toString,C=P.hasOwnProperty,F=RegExp("^"+O.call(C).replace(b,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T(D){if(!h(D)||c(D))return!1;var R=f(D)?F:w;return R.test(m(D))}g.exports=T},{"./_isMasked":54,"./_toSource":75,"./isFunction":83,"./isObject":87}],33:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isLength"),h=i("./isObjectLike"),m="[object Arguments]",b="[object Array]",w="[object Boolean]",d="[object Date]",P="[object Error]",O="[object Function]",C="[object Map]",F="[object Number]",T="[object Object]",D="[object RegExp]",R="[object Set]",H="[object String]",k="[object WeakMap]",B="[object ArrayBuffer]",q="[object DataView]",j="[object Float32Array]",U="[object Float64Array]",V="[object Int8Array]",G="[object Int16Array]",z="[object Int32Array]",ne="[object Uint8Array]",he="[object Uint8ClampedArray]",je="[object Uint16Array]",Ue="[object Uint32Array]",le={};le[j]=le[U]=le[V]=le[G]=le[z]=le[ne]=le[he]=le[je]=le[Ue]=!0,le[m]=le[b]=le[B]=le[w]=le[q]=le[d]=le[P]=le[O]=le[C]=le[F]=le[T]=le[D]=le[R]=le[H]=le[k]=!1;function Y(se){return h(se)&&c(se.length)&&!!le[f(se)]}g.exports=Y},{"./_baseGetTag":30,"./isLength":84,"./isObjectLike":88}],34:[function(i,g,_){var f=i("./_isPrototype"),c=i("./_nativeKeys"),h=Object.prototype,m=h.hasOwnProperty;function b(w){if(!f(w))return c(w);var d=[];for(var P in Object(w))m.call(w,P)&&P!="constructor"&&d.push(P);return d}g.exports=b},{"./_isPrototype":55,"./_nativeKeys":68}],35:[function(i,g,_){function f(c,h){for(var m=-1,b=Array(c);++m<c;)b[m]=h(m);return b}g.exports=f},{}],36:[function(i,g,_){var f=i("./_Symbol"),c=i("./_arrayMap"),h=i("./isArray"),m=i("./isSymbol"),b=1/0,w=f?f.prototype:void 0,d=w?w.toString:void 0;function P(O){if(typeof O=="string")return O;if(h(O))return c(O,P)+"";if(m(O))return d?d.call(O):"";var C=O+"";return C=="0"&&1/O==-b?"-0":C}g.exports=P},{"./_Symbol":25,"./_arrayMap":27,"./isArray":79,"./isSymbol":91}],37:[function(i,g,_){function f(c){return function(h){return c(h)}}g.exports=f},{}],38:[function(i,g,_){var f=i("./isArray"),c=i("./_isKey"),h=i("./_stringToPath"),m=i("./toString");function b(w,d){return f(w)?w:c(w,d)?[w]:h(m(w))}g.exports=b},{"./_isKey":52,"./_stringToPath":73,"./isArray":79,"./toString":96}],39:[function(i,g,_){var f=i("./_root"),c=f["__core-js_shared__"];g.exports=c},{"./_root":72}],40:[function(i,g,_){(function(f){var c=typeof f=="object"&&f&&f.Object===Object&&f;g.exports=c}).call(this,typeof xn<"u"?xn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],41:[function(i,g,_){var f=i("./_isKeyable");function c(h,m){var b=h.__data__;return f(m)?b[typeof m=="string"?"string":"hash"]:b.map}g.exports=c},{"./_isKeyable":53}],42:[function(i,g,_){var f=i("./_baseIsNative"),c=i("./_getValue");function h(m,b){var w=c(m,b);return f(w)?w:void 0}g.exports=h},{"./_baseIsNative":32,"./_getValue":45}],43:[function(i,g,_){var f=i("./_overArg"),c=f(Object.getPrototypeOf,Object);g.exports=c},{"./_overArg":71}],44:[function(i,g,_){var f=i("./_Symbol"),c=Object.prototype,h=c.hasOwnProperty,m=c.toString,b=f?f.toStringTag:void 0;function w(d){var P=h.call(d,b),O=d[b];try{d[b]=void 0;var C=!0}catch{}var F=m.call(d);return C&&(P?d[b]=O:delete d[b]),F}g.exports=w},{"./_Symbol":25}],45:[function(i,g,_){function f(c,h){return c==null?void 0:c[h]}g.exports=f},{}],46:[function(i,g,_){var f=i("./_nativeCreate");function c(){this.__data__=f?f(null):{},this.size=0}g.exports=c},{"./_nativeCreate":67}],47:[function(i,g,_){function f(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}g.exports=f},{}],48:[function(i,g,_){var f=i("./_nativeCreate"),c="__lodash_hash_undefined__",h=Object.prototype,m=h.hasOwnProperty;function b(w){var d=this.__data__;if(f){var P=d[w];return P===c?void 0:P}return m.call(d,w)?d[w]:void 0}g.exports=b},{"./_nativeCreate":67}],49:[function(i,g,_){var f=i("./_nativeCreate"),c=Object.prototype,h=c.hasOwnProperty;function m(b){var w=this.__data__;return f?w[b]!==void 0:h.call(w,b)}g.exports=m},{"./_nativeCreate":67}],50:[function(i,g,_){var f=i("./_nativeCreate"),c="__lodash_hash_undefined__";function h(m,b){var w=this.__data__;return this.size+=this.has(m)?0:1,w[m]=f&&b===void 0?c:b,this}g.exports=h},{"./_nativeCreate":67}],51:[function(i,g,_){var f=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function h(m,b){var w=typeof m;return b=b??f,!!b&&(w=="number"||w!="symbol"&&c.test(m))&&m>-1&&m%1==0&&m<b}g.exports=h},{}],52:[function(i,g,_){var f=i("./isArray"),c=i("./isSymbol"),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function b(w,d){if(f(w))return!1;var P=typeof w;return P=="number"||P=="symbol"||P=="boolean"||w==null||c(w)?!0:m.test(w)||!h.test(w)||d!=null&&w in Object(d)}g.exports=b},{"./isArray":79,"./isSymbol":91}],53:[function(i,g,_){function f(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}g.exports=f},{}],54:[function(i,g,_){var f=i("./_coreJsData"),c=function(){var m=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();function h(m){return!!c&&c in m}g.exports=h},{"./_coreJsData":39}],55:[function(i,g,_){var f=Object.prototype;function c(h){var m=h&&h.constructor,b=typeof m=="function"&&m.prototype||f;return h===b}g.exports=c},{}],56:[function(i,g,_){function f(){this.__data__=[],this.size=0}g.exports=f},{}],57:[function(i,g,_){var f=i("./_assocIndexOf"),c=Array.prototype,h=c.splice;function m(b){var w=this.__data__,d=f(w,b);if(d<0)return!1;var P=w.length-1;return d==P?w.pop():h.call(w,d,1),--this.size,!0}g.exports=m},{"./_assocIndexOf":28}],58:[function(i,g,_){var f=i("./_assocIndexOf");function c(h){var m=this.__data__,b=f(m,h);return b<0?void 0:m[b][1]}g.exports=c},{"./_assocIndexOf":28}],59:[function(i,g,_){var f=i("./_assocIndexOf");function c(h){return f(this.__data__,h)>-1}g.exports=c},{"./_assocIndexOf":28}],60:[function(i,g,_){var f=i("./_assocIndexOf");function c(h,m){var b=this.__data__,w=f(b,h);return w<0?(++this.size,b.push([h,m])):b[w][1]=m,this}g.exports=c},{"./_assocIndexOf":28}],61:[function(i,g,_){var f=i("./_Hash"),c=i("./_ListCache"),h=i("./_Map");function m(){this.size=0,this.__data__={hash:new f,map:new(h||c),string:new f}}g.exports=m},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],62:[function(i,g,_){var f=i("./_getMapData");function c(h){var m=f(this,h).delete(h);return this.size-=m?1:0,m}g.exports=c},{"./_getMapData":41}],63:[function(i,g,_){var f=i("./_getMapData");function c(h){return f(this,h).get(h)}g.exports=c},{"./_getMapData":41}],64:[function(i,g,_){var f=i("./_getMapData");function c(h){return f(this,h).has(h)}g.exports=c},{"./_getMapData":41}],65:[function(i,g,_){var f=i("./_getMapData");function c(h,m){var b=f(this,h),w=b.size;return b.set(h,m),this.size+=b.size==w?0:1,this}g.exports=c},{"./_getMapData":41}],66:[function(i,g,_){var f=i("./memoize"),c=500;function h(m){var b=f(m,function(d){return w.size===c&&w.clear(),d}),w=b.cache;return b}g.exports=h},{"./memoize":94}],67:[function(i,g,_){var f=i("./_getNative"),c=f(Object,"create");g.exports=c},{"./_getNative":42}],68:[function(i,g,_){var f=i("./_overArg"),c=f(Object.keys,Object);g.exports=c},{"./_overArg":71}],69:[function(i,g,_){var f=i("./_freeGlobal"),c=typeof _=="object"&&_&&!_.nodeType&&_,h=c&&typeof g=="object"&&g&&!g.nodeType&&g,m=h&&h.exports===c,b=m&&f.process,w=function(){try{var d=h&&h.require&&h.require("util").types;return d||b&&b.binding&&b.binding("util")}catch{}}();g.exports=w},{"./_freeGlobal":40}],70:[function(i,g,_){var f=Object.prototype,c=f.toString;function h(m){return c.call(m)}g.exports=h},{}],71:[function(i,g,_){function f(c,h){return function(m){return c(h(m))}}g.exports=f},{}],72:[function(i,g,_){var f=i("./_freeGlobal"),c=typeof self=="object"&&self&&self.Object===Object&&self,h=f||c||Function("return this")();g.exports=h},{"./_freeGlobal":40}],73:[function(i,g,_){var f=i("./_memoizeCapped"),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,m=f(function(b){var w=[];return b.charCodeAt(0)===46&&w.push(""),b.replace(c,function(d,P,O,C){w.push(O?C.replace(h,"$1"):P||d)}),w});g.exports=m},{"./_memoizeCapped":66}],74:[function(i,g,_){var f=i("./isSymbol"),c=1/0;function h(m){if(typeof m=="string"||f(m))return m;var b=m+"";return b=="0"&&1/m==-c?"-0":b}g.exports=h},{"./isSymbol":91}],75:[function(i,g,_){var f=Function.prototype,c=f.toString;function h(m){if(m!=null){try{return c.call(m)}catch{}try{return m+""}catch{}}return""}g.exports=h},{}],76:[function(i,g,_){function f(c,h){return c===h||c!==c&&h!==h}g.exports=f},{}],77:[function(i,g,_){var f=i("./_baseGet");function c(h,m,b){var w=h==null?void 0:f(h,m);return w===void 0?b:w}g.exports=c},{"./_baseGet":29}],78:[function(i,g,_){var f=i("./_baseIsArguments"),c=i("./isObjectLike"),h=Object.prototype,m=h.hasOwnProperty,b=h.propertyIsEnumerable,w=f(function(){return arguments}())?f:function(d){return c(d)&&m.call(d,"callee")&&!b.call(d,"callee")};g.exports=w},{"./_baseIsArguments":31,"./isObjectLike":88}],79:[function(i,g,_){var f=Array.isArray;g.exports=f},{}],80:[function(i,g,_){var f=i("./isFunction"),c=i("./isLength");function h(m){return m!=null&&c(m.length)&&!f(m)}g.exports=h},{"./isFunction":83,"./isLength":84}],81:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isObjectLike"),h="[object Boolean]";function m(b){return b===!0||b===!1||c(b)&&f(b)==h}g.exports=m},{"./_baseGetTag":30,"./isObjectLike":88}],82:[function(i,g,_){var f=i("./_root"),c=i("./stubFalse"),h=typeof _=="object"&&_&&!_.nodeType&&_,m=h&&typeof g=="object"&&g&&!g.nodeType&&g,b=m&&m.exports===h,w=b?f.Buffer:void 0,d=w?w.isBuffer:void 0,P=d||c;g.exports=P},{"./_root":72,"./stubFalse":95}],83:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isObject"),h="[object AsyncFunction]",m="[object Function]",b="[object GeneratorFunction]",w="[object Proxy]";function d(P){if(!c(P))return!1;var O=f(P);return O==m||O==b||O==h||O==w}g.exports=d},{"./_baseGetTag":30,"./isObject":87}],84:[function(i,g,_){var f=9007199254740991;function c(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=f}g.exports=c},{}],85:[function(i,g,_){function f(c){return c==null}g.exports=f},{}],86:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isObjectLike"),h="[object Number]";function m(b){return typeof b=="number"||c(b)&&f(b)==h}g.exports=m},{"./_baseGetTag":30,"./isObjectLike":88}],87:[function(i,g,_){function f(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}g.exports=f},{}],88:[function(i,g,_){function f(c){return c!=null&&typeof c=="object"}g.exports=f},{}],89:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./_getPrototype"),h=i("./isObjectLike"),m="[object Object]",b=Function.prototype,w=Object.prototype,d=b.toString,P=w.hasOwnProperty,O=d.call(Object);function C(F){if(!h(F)||f(F)!=m)return!1;var T=c(F);if(T===null)return!0;var D=P.call(T,"constructor")&&T.constructor;return typeof D=="function"&&D instanceof D&&d.call(D)==O}g.exports=C},{"./_baseGetTag":30,"./_getPrototype":43,"./isObjectLike":88}],90:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isArray"),h=i("./isObjectLike"),m="[object String]";function b(w){return typeof w=="string"||!c(w)&&h(w)&&f(w)==m}g.exports=b},{"./_baseGetTag":30,"./isArray":79,"./isObjectLike":88}],91:[function(i,g,_){var f=i("./_baseGetTag"),c=i("./isObjectLike"),h="[object Symbol]";function m(b){return typeof b=="symbol"||c(b)&&f(b)==h}g.exports=m},{"./_baseGetTag":30,"./isObjectLike":88}],92:[function(i,g,_){var f=i("./_baseIsTypedArray"),c=i("./_baseUnary"),h=i("./_nodeUtil"),m=h&&h.isTypedArray,b=m?c(m):f;g.exports=b},{"./_baseIsTypedArray":33,"./_baseUnary":37,"./_nodeUtil":69}],93:[function(i,g,_){var f=i("./_arrayLikeKeys"),c=i("./_baseKeys"),h=i("./isArrayLike");function m(b){return h(b)?f(b):c(b)}g.exports=m},{"./_arrayLikeKeys":26,"./_baseKeys":34,"./isArrayLike":80}],94:[function(i,g,_){var f=i("./_MapCache"),c="Expected a function";function h(m,b){if(typeof m!="function"||b!=null&&typeof b!="function")throw new TypeError(c);var w=function(){var d=arguments,P=b?b.apply(this,d):d[0],O=w.cache;if(O.has(P))return O.get(P);var C=m.apply(this,d);return w.cache=O.set(P,C)||O,C};return w.cache=new(h.Cache||f),w}h.Cache=f,g.exports=h},{"./_MapCache":24}],95:[function(i,g,_){function f(){return!1}g.exports=f},{}],96:[function(i,g,_){var f=i("./_baseToString");function c(h){return h==null?"":f(h)}g.exports=c},{"./_baseToString":36}],airtable:[function(i,g,_){var f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},c=f(i("./base")),h=f(i("./record")),m=f(i("./table")),b=f(i("./airtable_error")),w=function(){function d(P){P===void 0&&(P={});var O=d.default_config(),C=P.apiVersion||d.apiVersion||O.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:P.apiKey||d.apiKey||O.apiKey},_apiVersion:{value:C},_apiVersionMajor:{value:C.split(".")[0]},_customHeaders:{value:P.customHeaders||{}},_endpointUrl:{value:P.endpointUrl||d.endpointUrl||O.endpointUrl},_noRetryIfRateLimited:{value:P.noRetryIfRateLimited||d.noRetryIfRateLimited||O.noRetryIfRateLimited},_requestTimeout:{value:P.requestTimeout||d.requestTimeout||O.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return d.prototype.base=function(P){return c.default.createFunctor(this,P)},d.default_config=function(){return{endpointUrl:"https://api.airtable.com",apiVersion:"0.1.0",apiKey:"",noRetryIfRateLimited:!1,requestTimeout:300*1e3}},d.configure=function(P){var O=P.apiKey,C=P.endpointUrl,F=P.apiVersion,T=P.noRetryIfRateLimited,D=P.requestTimeout;d.apiKey=O,d.endpointUrl=C,d.apiVersion=F,d.noRetryIfRateLimited=T,d.requestTimeout=D},d.base=function(P){return new d().base(P)},d.Base=c.default,d.Record=h.default,d.Table=m.default,d.Error=b.default,d}();g.exports=w},{"./airtable_error":2,"./base":3,"./record":15,"./table":17}]},{},["airtable"])("airtable")})})(ac);var cg=ac.exports;const fg=$o(cg),lg="欄位填答統計",Js="填答紀錄",hg="驗證紀錄",oc=()=>{const{public:{airtableBase:ae,airtableKey:ye}}=Qs(),i=new fg({apiKey:ye}).base(ae);return{base:i,getPendingFields:h=>new Promise((m,b)=>{i(lg).select({view:"尚待驗證"}).firstPage((w,d)=>{if(w){b(w);return}const P=d==null?void 0:d.filter(O=>{const C=O.get("相關填答者");return!C||!C.every(F=>F===h)});m(P)})}),getPendingVerifications:h=>new Promise((m,b)=>{i(Js).select({view:"待驗證紀錄"}).firstPage((w,d)=>{if(w){b(w);return}const P=d==null?void 0:d.filter(O=>(O.get("填答者暱稱")||"")!==h);m(P)})}),submitField:({userId:h,companyId:m,year:b,field:w,value:d,unit:P="",notes:O="",page:C=0,keyword:F=""})=>{const T={填答者暱稱:h,公司統編:m,報告書年份:b,欄位標籤:w,數值:d};return P&&(T.單位=P),O&&(T.補充資訊=O),C&&(T.答案頁次=C),F&&(T.答案關鍵字=F),new Promise((D,R)=>{i(Js).create([{fields:T}],(H,k)=>{H?R(H):D(k[0])})})},verifyField:({userId:h,submissionId:m,result:b})=>{const w={驗證者暱稱:h,填答紀錄:[m],驗證結果:b};return new Promise((d,P)=>{i(hg).create([{fields:w}],(O,C)=>{O?P(O):d(C[0])})})}}};var Zi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Zi.exports;(function(ae,ye){(function(){var i,g="4.17.21",_=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",b=500,w="__lodash_placeholder__",d=1,P=2,O=4,C=1,F=2,T=1,D=2,R=4,H=8,k=16,B=32,q=64,j=128,U=256,V=512,G=30,z="...",ne=800,he=16,je=1,Ue=2,le=3,Y=1/0,se=9007199254740991,ve=17976931348623157e292,ke=0/0,ee=4294967295,ce=ee-1,fe=ee>>>1,it=[["ary",j],["bind",T],["bindKey",D],["curry",H],["curryRight",k],["flip",V],["partial",B],["partialRight",q],["rearg",U]],ct="[object Arguments]",mt="[object Array]",An="[object AsyncFunction]",yt="[object Boolean]",Yt="[object Date]",Xi="[object DOMException]",Bn="[object Error]",qn="[object Function]",Tn="[object GeneratorFunction]",bt="[object Map]",On="[object Number]",Qi="[object Null]",jt="[object Object]",zr="[object Promise]",ea="[object Proxy]",Ut="[object RegExp]",pt="[object Set]",Sn="[object String]",$n="[object Symbol]",ta="[object Undefined]",Pn="[object WeakMap]",na="[object WeakSet]",Bt="[object ArrayBuffer]",sn="[object DataView]",_r="[object Float32Array]",gr="[object Float64Array]",vr="[object Int8Array]",mr="[object Int16Array]",yr="[object Int32Array]",br="[object Uint8Array]",Gn="[object Uint8ClampedArray]",Wn="[object Uint16Array]",wr="[object Uint32Array]",ra=/\b__p \+= '';/g,ia=/\b(__p \+=) '' \+/g,aa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,oa=RegExp(Vr.source),ua=RegExp(Yr.source),cn=/<%-([\s\S]+?)%>/g,Jr=/<%([\s\S]+?)%>/g,Zr=/<%=([\s\S]+?)%>/g,sa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ca=/^\w*$/,xr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ar=/[\\^$.*+?()[\]{}|]/g,fa=RegExp(Ar.source),Tr=/^\s+/,la=/\s/,ha=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pa=/\{\n\/\* \[wrapped with (.+)\] \*/,Xr=/,? & /,da=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_a=/[()=,{}\[\]\/\s]/,ga=/\\(\\)?/g,va=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qr=/\w*$/,ma=/^[-+]0x[0-9a-f]+$/i,ya=/^0b[01]+$/i,ba=/^\[object .+?Constructor\]$/,wa=/^0o[0-7]+$/i,ei=/^(?:0|[1-9]\d*)$/,xa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hn=/($^)/,ti=/['\n\r\u2028\u2029\\]/g,Kn="\\ud800-\\udfff",Aa="\\u0300-\\u036f",Ta="\\ufe20-\\ufe2f",Oa="\\u20d0-\\u20ff",zn=Aa+Ta+Oa,ni="\\u2700-\\u27bf",Vn="a-z\\xdf-\\xf6\\xf8-\\xff",Sa="\\xac\\xb1\\xd7\\xf7",Or="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ri="\\u2000-\\u206f",ii=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sr="A-Z\\xc0-\\xd6\\xd8-\\xde",Pr="\\ufe0e\\ufe0f",ai=Sa+Or+ri+ii,We="['’]",fn="["+Kn+"]",Yn="["+ai+"]",Jn="["+zn+"]",oi="\\d+",Pa="["+ni+"]",Ir="["+Vn+"]",o="[^"+Kn+ai+oi+ni+Vn+Sr+"]",l="\\ud83c[\\udffb-\\udfff]",p="(?:"+Jn+"|"+l+")",y="[^"+Kn+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",K="[\\ud800-\\udbff][\\udc00-\\udfff]",J="["+Sr+"]",$="\\u200d",Z="(?:"+Ir+"|"+o+")",ie="(?:"+J+"|"+o+")",X="(?:"+We+"(?:d|ll|m|re|s|t|ve))?",me="(?:"+We+"(?:D|LL|M|RE|S|T|VE))?",ge=p+"?",Ie="["+Pr+"]?",xe="(?:"+$+"(?:"+[y,I,K].join("|")+")"+Ie+ge+")*",Me="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tt=Ie+ge+xe,In="(?:"+[Pa,I,K].join("|")+")"+tt,at="(?:"+[y+Jn+"?",Jn,I,K,fn].join("|")+")",Qe=RegExp(We,"g"),Jt=RegExp(Jn,"g"),Et=RegExp(l+"(?="+l+")|"+at+tt,"g"),ln=RegExp([J+"?"+Ir+"+"+X+"(?="+[Yn,J,"$"].join("|")+")",ie+"+"+me+"(?="+[Yn,J+Z,"$"].join("|")+")",J+"?"+Z+"+"+X,J+"+"+me,$e,Me,oi,In].join("|"),"g"),En=RegExp("["+$+Kn+zn+Pr+"]"),Zn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Er=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ia=-1,Ge={};Ge[_r]=Ge[gr]=Ge[vr]=Ge[mr]=Ge[yr]=Ge[br]=Ge[Gn]=Ge[Wn]=Ge[wr]=!0,Ge[ct]=Ge[mt]=Ge[Bt]=Ge[yt]=Ge[sn]=Ge[Yt]=Ge[Bn]=Ge[qn]=Ge[bt]=Ge[On]=Ge[jt]=Ge[Ut]=Ge[pt]=Ge[Sn]=Ge[Pn]=!1;var qe={};qe[ct]=qe[mt]=qe[Bt]=qe[sn]=qe[yt]=qe[Yt]=qe[_r]=qe[gr]=qe[vr]=qe[mr]=qe[yr]=qe[bt]=qe[On]=qe[jt]=qe[Ut]=qe[pt]=qe[Sn]=qe[$n]=qe[br]=qe[Gn]=qe[Wn]=qe[wr]=!0,qe[Bn]=qe[qn]=qe[Pn]=!1;var pc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},dc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vc=parseFloat,mc=parseInt,Go=typeof xn=="object"&&xn&&xn.Object===Object&&xn,yc=typeof self=="object"&&self&&self.Object===Object&&self,nt=Go||yc||Function("return this")(),Ea=ye&&!ye.nodeType&&ye,Rn=Ea&&!0&&ae&&!ae.nodeType&&ae,Wo=Rn&&Rn.exports===Ea,Ra=Wo&&Go.process,Rt=function(){try{var A=Rn&&Rn.require&&Rn.require("util").types;return A||Ra&&Ra.binding&&Ra.binding("util")}catch{}}(),Ho=Rt&&Rt.isArrayBuffer,Ko=Rt&&Rt.isDate,zo=Rt&&Rt.isMap,Vo=Rt&&Rt.isRegExp,Yo=Rt&&Rt.isSet,Jo=Rt&&Rt.isTypedArray;function wt(A,L,E){switch(E.length){case 0:return A.call(L);case 1:return A.call(L,E[0]);case 2:return A.call(L,E[0],E[1]);case 3:return A.call(L,E[0],E[1],E[2])}return A.apply(L,E)}function bc(A,L,E,re){for(var be=-1,Le=A==null?0:A.length;++be<Le;){var Ze=A[be];L(re,Ze,E(Ze),A)}return re}function Ct(A,L){for(var E=-1,re=A==null?0:A.length;++E<re&&L(A[E],E,A)!==!1;);return A}function wc(A,L){for(var E=A==null?0:A.length;E--&&L(A[E],E,A)!==!1;);return A}function Zo(A,L){for(var E=-1,re=A==null?0:A.length;++E<re;)if(!L(A[E],E,A))return!1;return!0}function hn(A,L){for(var E=-1,re=A==null?0:A.length,be=0,Le=[];++E<re;){var Ze=A[E];L(Ze,E,A)&&(Le[be++]=Ze)}return Le}function ui(A,L){var E=A==null?0:A.length;return!!E&&Xn(A,L,0)>-1}function Ca(A,L,E){for(var re=-1,be=A==null?0:A.length;++re<be;)if(E(L,A[re]))return!0;return!1}function He(A,L){for(var E=-1,re=A==null?0:A.length,be=Array(re);++E<re;)be[E]=L(A[E],E,A);return be}function pn(A,L){for(var E=-1,re=L.length,be=A.length;++E<re;)A[be+E]=L[E];return A}function La(A,L,E,re){var be=-1,Le=A==null?0:A.length;for(re&&Le&&(E=A[++be]);++be<Le;)E=L(E,A[be],be,A);return E}function xc(A,L,E,re){var be=A==null?0:A.length;for(re&&be&&(E=A[--be]);be--;)E=L(E,A[be],be,A);return E}function Da(A,L){for(var E=-1,re=A==null?0:A.length;++E<re;)if(L(A[E],E,A))return!0;return!1}var Ac=ka("length");function Tc(A){return A.split("")}function Oc(A){return A.match(da)||[]}function Xo(A,L,E){var re;return E(A,function(be,Le,Ze){if(L(be,Le,Ze))return re=Le,!1}),re}function si(A,L,E,re){for(var be=A.length,Le=E+(re?1:-1);re?Le--:++Le<be;)if(L(A[Le],Le,A))return Le;return-1}function Xn(A,L,E){return L===L?Mc(A,L,E):si(A,Qo,E)}function Sc(A,L,E,re){for(var be=E-1,Le=A.length;++be<Le;)if(re(A[be],L))return be;return-1}function Qo(A){return A!==A}function eu(A,L){var E=A==null?0:A.length;return E?Fa(A,L)/E:ke}function ka(A){return function(L){return L==null?i:L[A]}}function Na(A){return function(L){return A==null?i:A[L]}}function tu(A,L,E,re,be){return be(A,function(Le,Ze,Be){E=re?(re=!1,Le):L(E,Le,Ze,Be)}),E}function Pc(A,L){var E=A.length;for(A.sort(L);E--;)A[E]=A[E].value;return A}function Fa(A,L){for(var E,re=-1,be=A.length;++re<be;){var Le=L(A[re]);Le!==i&&(E=E===i?Le:E+Le)}return E}function Ma(A,L){for(var E=-1,re=Array(A);++E<A;)re[E]=L(E);return re}function Ic(A,L){return He(L,function(E){return[E,A[E]]})}function nu(A){return A&&A.slice(0,ou(A)+1).replace(Tr,"")}function xt(A){return function(L){return A(L)}}function ja(A,L){return He(L,function(E){return A[E]})}function Rr(A,L){return A.has(L)}function ru(A,L){for(var E=-1,re=A.length;++E<re&&Xn(L,A[E],0)>-1;);return E}function iu(A,L){for(var E=A.length;E--&&Xn(L,A[E],0)>-1;);return E}function Ec(A,L){for(var E=A.length,re=0;E--;)A[E]===L&&++re;return re}var Rc=Na(pc),Cc=Na(dc);function Lc(A){return"\\"+gc[A]}function Dc(A,L){return A==null?i:A[L]}function Qn(A){return En.test(A)}function kc(A){return Zn.test(A)}function Nc(A){for(var L,E=[];!(L=A.next()).done;)E.push(L.value);return E}function Ua(A){var L=-1,E=Array(A.size);return A.forEach(function(re,be){E[++L]=[be,re]}),E}function au(A,L){return function(E){return A(L(E))}}function dn(A,L){for(var E=-1,re=A.length,be=0,Le=[];++E<re;){var Ze=A[E];(Ze===L||Ze===w)&&(A[E]=w,Le[be++]=E)}return Le}function ci(A){var L=-1,E=Array(A.size);return A.forEach(function(re){E[++L]=re}),E}function Fc(A){var L=-1,E=Array(A.size);return A.forEach(function(re){E[++L]=[re,re]}),E}function Mc(A,L,E){for(var re=E-1,be=A.length;++re<be;)if(A[re]===L)return re;return-1}function jc(A,L,E){for(var re=E+1;re--;)if(A[re]===L)return re;return re}function er(A){return Qn(A)?Bc(A):Ac(A)}function qt(A){return Qn(A)?qc(A):Tc(A)}function ou(A){for(var L=A.length;L--&&la.test(A.charAt(L)););return L}var Uc=Na(_c);function Bc(A){for(var L=Et.lastIndex=0;Et.test(A);)++L;return L}function qc(A){return A.match(Et)||[]}function $c(A){return A.match(ln)||[]}var Gc=function A(L){L=L==null?nt:tr.defaults(nt.Object(),L,tr.pick(nt,Er));var E=L.Array,re=L.Date,be=L.Error,Le=L.Function,Ze=L.Math,Be=L.Object,Ba=L.RegExp,Wc=L.String,Lt=L.TypeError,fi=E.prototype,Hc=Le.prototype,nr=Be.prototype,li=L["__core-js_shared__"],hi=Hc.toString,Fe=nr.hasOwnProperty,Kc=0,uu=function(){var e=/[^.]+$/.exec(li&&li.keys&&li.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pi=nr.toString,zc=hi.call(Be),Vc=nt._,Yc=Ba("^"+hi.call(Fe).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),di=Wo?L.Buffer:i,_n=L.Symbol,_i=L.Uint8Array,su=di?di.allocUnsafe:i,gi=au(Be.getPrototypeOf,Be),cu=Be.create,fu=nr.propertyIsEnumerable,vi=fi.splice,lu=_n?_n.isConcatSpreadable:i,Cr=_n?_n.iterator:i,Cn=_n?_n.toStringTag:i,mi=function(){try{var e=Fn(Be,"defineProperty");return e({},"",{}),e}catch{}}(),Jc=L.clearTimeout!==nt.clearTimeout&&L.clearTimeout,Zc=re&&re.now!==nt.Date.now&&re.now,Xc=L.setTimeout!==nt.setTimeout&&L.setTimeout,yi=Ze.ceil,bi=Ze.floor,qa=Be.getOwnPropertySymbols,Qc=di?di.isBuffer:i,hu=L.isFinite,ef=fi.join,tf=au(Be.keys,Be),Xe=Ze.max,ot=Ze.min,nf=re.now,rf=L.parseInt,pu=Ze.random,af=fi.reverse,$a=Fn(L,"DataView"),Lr=Fn(L,"Map"),Ga=Fn(L,"Promise"),rr=Fn(L,"Set"),Dr=Fn(L,"WeakMap"),kr=Fn(Be,"create"),wi=Dr&&new Dr,ir={},of=Mn($a),uf=Mn(Lr),sf=Mn(Ga),cf=Mn(rr),ff=Mn(Dr),xi=_n?_n.prototype:i,Nr=xi?xi.valueOf:i,du=xi?xi.toString:i;function u(e){if(ze(e)&&!we(e)&&!(e instanceof Re)){if(e instanceof Dt)return e;if(Fe.call(e,"__wrapped__"))return _s(e)}return new Dt(e)}var ar=function(){function e(){}return function(t){if(!Ke(t))return{};if(cu)return cu(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Ai(){}function Dt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}u.templateSettings={escape:cn,evaluate:Jr,interpolate:Zr,variable:"",imports:{_:u}},u.prototype=Ai.prototype,u.prototype.constructor=u,Dt.prototype=ar(Ai.prototype),Dt.prototype.constructor=Dt;function Re(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function lf(){var e=new Re(this.__wrapped__);return e.__actions__=dt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=dt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=dt(this.__views__),e}function hf(){if(this.__filtered__){var e=new Re(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function pf(){var e=this.__wrapped__.value(),t=this.__dir__,n=we(e),r=t<0,a=n?e.length:0,s=Ol(0,a,this.__views__),v=s.start,x=s.end,S=x-v,N=r?x:v-1,M=this.__iteratees__,W=M.length,Q=0,oe=ot(S,this.__takeCount__);if(!n||!r&&a==S&&oe==S)return ju(e,this.__actions__);var de=[];e:for(;S--&&Q<oe;){N+=t;for(var Te=-1,_e=e[N];++Te<W;){var Ee=M[Te],Ce=Ee.iteratee,Ot=Ee.type,ht=Ce(_e);if(Ot==Ue)_e=ht;else if(!ht){if(Ot==je)continue e;break e}}de[Q++]=_e}return de}Re.prototype=ar(Ai.prototype),Re.prototype.constructor=Re;function Ln(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function df(){this.__data__=kr?kr(null):{},this.size=0}function _f(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function gf(e){var t=this.__data__;if(kr){var n=t[e];return n===m?i:n}return Fe.call(t,e)?t[e]:i}function vf(e){var t=this.__data__;return kr?t[e]!==i:Fe.call(t,e)}function mf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kr&&t===i?m:t,this}Ln.prototype.clear=df,Ln.prototype.delete=_f,Ln.prototype.get=gf,Ln.prototype.has=vf,Ln.prototype.set=mf;function Zt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yf(){this.__data__=[],this.size=0}function bf(e){var t=this.__data__,n=Ti(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():vi.call(t,n,1),--this.size,!0}function wf(e){var t=this.__data__,n=Ti(t,e);return n<0?i:t[n][1]}function xf(e){return Ti(this.__data__,e)>-1}function Af(e,t){var n=this.__data__,r=Ti(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Zt.prototype.clear=yf,Zt.prototype.delete=bf,Zt.prototype.get=wf,Zt.prototype.has=xf,Zt.prototype.set=Af;function Xt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Tf(){this.size=0,this.__data__={hash:new Ln,map:new(Lr||Zt),string:new Ln}}function Of(e){var t=Fi(this,e).delete(e);return this.size-=t?1:0,t}function Sf(e){return Fi(this,e).get(e)}function Pf(e){return Fi(this,e).has(e)}function If(e,t){var n=Fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Xt.prototype.clear=Tf,Xt.prototype.delete=Of,Xt.prototype.get=Sf,Xt.prototype.has=Pf,Xt.prototype.set=If;function Dn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Xt;++t<n;)this.add(e[t])}function Ef(e){return this.__data__.set(e,m),this}function Rf(e){return this.__data__.has(e)}Dn.prototype.add=Dn.prototype.push=Ef,Dn.prototype.has=Rf;function $t(e){var t=this.__data__=new Zt(e);this.size=t.size}function Cf(){this.__data__=new Zt,this.size=0}function Lf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Df(e){return this.__data__.get(e)}function kf(e){return this.__data__.has(e)}function Nf(e,t){var n=this.__data__;if(n instanceof Zt){var r=n.__data__;if(!Lr||r.length<_-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xt(r)}return n.set(e,t),this.size=n.size,this}$t.prototype.clear=Cf,$t.prototype.delete=Lf,$t.prototype.get=Df,$t.prototype.has=kf,$t.prototype.set=Nf;function _u(e,t){var n=we(e),r=!n&&jn(e),a=!n&&!r&&bn(e),s=!n&&!r&&!a&&cr(e),v=n||r||a||s,x=v?Ma(e.length,Wc):[],S=x.length;for(var N in e)(t||Fe.call(e,N))&&!(v&&(N=="length"||a&&(N=="offset"||N=="parent")||s&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||nn(N,S)))&&x.push(N);return x}function gu(e){var t=e.length;return t?e[eo(0,t-1)]:i}function Ff(e,t){return Mi(dt(e),kn(t,0,e.length))}function Mf(e){return Mi(dt(e))}function Wa(e,t,n){(n!==i&&!Gt(e[t],n)||n===i&&!(t in e))&&Qt(e,t,n)}function Fr(e,t,n){var r=e[t];(!(Fe.call(e,t)&&Gt(r,n))||n===i&&!(t in e))&&Qt(e,t,n)}function Ti(e,t){for(var n=e.length;n--;)if(Gt(e[n][0],t))return n;return-1}function jf(e,t,n,r){return gn(e,function(a,s,v){t(r,a,n(a),v)}),r}function vu(e,t){return e&&Kt(t,et(t),e)}function Uf(e,t){return e&&Kt(t,gt(t),e)}function Qt(e,t,n){t=="__proto__"&&mi?mi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ha(e,t){for(var n=-1,r=t.length,a=E(r),s=e==null;++n<r;)a[n]=s?i:So(e,t[n]);return a}function kn(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function kt(e,t,n,r,a,s){var v,x=t&d,S=t&P,N=t&O;if(n&&(v=a?n(e,r,a,s):n(e)),v!==i)return v;if(!Ke(e))return e;var M=we(e);if(M){if(v=Pl(e),!x)return dt(e,v)}else{var W=ut(e),Q=W==qn||W==Tn;if(bn(e))return qu(e,x);if(W==jt||W==ct||Q&&!a){if(v=S||Q?{}:os(e),!x)return S?gl(e,Uf(v,e)):_l(e,vu(v,e))}else{if(!qe[W])return a?e:{};v=Il(e,W,x)}}s||(s=new $t);var oe=s.get(e);if(oe)return oe;s.set(e,v),Ns(e)?e.forEach(function(_e){v.add(kt(_e,t,n,_e,e,s))}):Ds(e)&&e.forEach(function(_e,Ee){v.set(Ee,kt(_e,t,n,Ee,e,s))});var de=N?S?lo:fo:S?gt:et,Te=M?i:de(e);return Ct(Te||e,function(_e,Ee){Te&&(Ee=_e,_e=e[Ee]),Fr(v,Ee,kt(_e,t,n,Ee,e,s))}),v}function Bf(e){var t=et(e);return function(n){return mu(n,e,t)}}function mu(e,t,n){var r=n.length;if(e==null)return!r;for(e=Be(e);r--;){var a=n[r],s=t[a],v=e[a];if(v===i&&!(a in e)||!s(v))return!1}return!0}function yu(e,t,n){if(typeof e!="function")throw new Lt(c);return Gr(function(){e.apply(i,n)},t)}function Mr(e,t,n,r){var a=-1,s=ui,v=!0,x=e.length,S=[],N=t.length;if(!x)return S;n&&(t=He(t,xt(n))),r?(s=Ca,v=!1):t.length>=_&&(s=Rr,v=!1,t=new Dn(t));e:for(;++a<x;){var M=e[a],W=n==null?M:n(M);if(M=r||M!==0?M:0,v&&W===W){for(var Q=N;Q--;)if(t[Q]===W)continue e;S.push(M)}else s(t,W,r)||S.push(M)}return S}var gn=Ku(Ht),bu=Ku(za,!0);function qf(e,t){var n=!0;return gn(e,function(r,a,s){return n=!!t(r,a,s),n}),n}function Oi(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],v=t(s);if(v!=null&&(x===i?v===v&&!Tt(v):n(v,x)))var x=v,S=s}return S}function $f(e,t,n,r){var a=e.length;for(n=Ae(n),n<0&&(n=-n>a?0:a+n),r=r===i||r>a?a:Ae(r),r<0&&(r+=a),r=n>r?0:Ms(r);n<r;)e[n++]=t;return e}function wu(e,t){var n=[];return gn(e,function(r,a,s){t(r,a,s)&&n.push(r)}),n}function rt(e,t,n,r,a){var s=-1,v=e.length;for(n||(n=Rl),a||(a=[]);++s<v;){var x=e[s];t>0&&n(x)?t>1?rt(x,t-1,n,r,a):pn(a,x):r||(a[a.length]=x)}return a}var Ka=zu(),xu=zu(!0);function Ht(e,t){return e&&Ka(e,t,et)}function za(e,t){return e&&xu(e,t,et)}function Si(e,t){return hn(t,function(n){return rn(e[n])})}function Nn(e,t){t=mn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[zt(t[n++])];return n&&n==r?e:i}function Au(e,t,n){var r=t(e);return we(e)?r:pn(r,n(e))}function ft(e){return e==null?e===i?ta:Qi:Cn&&Cn in Be(e)?Tl(e):Ml(e)}function Va(e,t){return e>t}function Gf(e,t){return e!=null&&Fe.call(e,t)}function Wf(e,t){return e!=null&&t in Be(e)}function Hf(e,t,n){return e>=ot(t,n)&&e<Xe(t,n)}function Ya(e,t,n){for(var r=n?Ca:ui,a=e[0].length,s=e.length,v=s,x=E(s),S=1/0,N=[];v--;){var M=e[v];v&&t&&(M=He(M,xt(t))),S=ot(M.length,S),x[v]=!n&&(t||a>=120&&M.length>=120)?new Dn(v&&M):i}M=e[0];var W=-1,Q=x[0];e:for(;++W<a&&N.length<S;){var oe=M[W],de=t?t(oe):oe;if(oe=n||oe!==0?oe:0,!(Q?Rr(Q,de):r(N,de,n))){for(v=s;--v;){var Te=x[v];if(!(Te?Rr(Te,de):r(e[v],de,n)))continue e}Q&&Q.push(de),N.push(oe)}}return N}function Kf(e,t,n,r){return Ht(e,function(a,s,v){t(r,n(a),s,v)}),r}function jr(e,t,n){t=mn(t,e),e=fs(e,t);var r=e==null?e:e[zt(Ft(t))];return r==null?i:wt(r,e,n)}function Tu(e){return ze(e)&&ft(e)==ct}function zf(e){return ze(e)&&ft(e)==Bt}function Vf(e){return ze(e)&&ft(e)==Yt}function Ur(e,t,n,r,a){return e===t?!0:e==null||t==null||!ze(e)&&!ze(t)?e!==e&&t!==t:Yf(e,t,n,r,Ur,a)}function Yf(e,t,n,r,a,s){var v=we(e),x=we(t),S=v?mt:ut(e),N=x?mt:ut(t);S=S==ct?jt:S,N=N==ct?jt:N;var M=S==jt,W=N==jt,Q=S==N;if(Q&&bn(e)){if(!bn(t))return!1;v=!0,M=!1}if(Q&&!M)return s||(s=new $t),v||cr(e)?rs(e,t,n,r,a,s):xl(e,t,S,n,r,a,s);if(!(n&C)){var oe=M&&Fe.call(e,"__wrapped__"),de=W&&Fe.call(t,"__wrapped__");if(oe||de){var Te=oe?e.value():e,_e=de?t.value():t;return s||(s=new $t),a(Te,_e,n,r,s)}}return Q?(s||(s=new $t),Al(e,t,n,r,a,s)):!1}function Jf(e){return ze(e)&&ut(e)==bt}function Ja(e,t,n,r){var a=n.length,s=a,v=!r;if(e==null)return!s;for(e=Be(e);a--;){var x=n[a];if(v&&x[2]?x[1]!==e[x[0]]:!(x[0]in e))return!1}for(;++a<s;){x=n[a];var S=x[0],N=e[S],M=x[1];if(v&&x[2]){if(N===i&&!(S in e))return!1}else{var W=new $t;if(r)var Q=r(N,M,S,e,t,W);if(!(Q===i?Ur(M,N,C|F,r,W):Q))return!1}}return!0}function Ou(e){if(!Ke(e)||Ll(e))return!1;var t=rn(e)?Yc:ba;return t.test(Mn(e))}function Zf(e){return ze(e)&&ft(e)==Ut}function Xf(e){return ze(e)&&ut(e)==pt}function Qf(e){return ze(e)&&Gi(e.length)&&!!Ge[ft(e)]}function Su(e){return typeof e=="function"?e:e==null?vt:typeof e=="object"?we(e)?Eu(e[0],e[1]):Iu(e):Vs(e)}function Za(e){if(!$r(e))return tf(e);var t=[];for(var n in Be(e))Fe.call(e,n)&&n!="constructor"&&t.push(n);return t}function el(e){if(!Ke(e))return Fl(e);var t=$r(e),n=[];for(var r in e)r=="constructor"&&(t||!Fe.call(e,r))||n.push(r);return n}function Xa(e,t){return e<t}function Pu(e,t){var n=-1,r=_t(e)?E(e.length):[];return gn(e,function(a,s,v){r[++n]=t(a,s,v)}),r}function Iu(e){var t=po(e);return t.length==1&&t[0][2]?ss(t[0][0],t[0][1]):function(n){return n===e||Ja(n,e,t)}}function Eu(e,t){return go(e)&&us(t)?ss(zt(e),t):function(n){var r=So(n,e);return r===i&&r===t?Po(n,e):Ur(t,r,C|F)}}function Pi(e,t,n,r,a){e!==t&&Ka(t,function(s,v){if(a||(a=new $t),Ke(s))tl(e,t,v,n,Pi,r,a);else{var x=r?r(mo(e,v),s,v+"",e,t,a):i;x===i&&(x=s),Wa(e,v,x)}},gt)}function tl(e,t,n,r,a,s,v){var x=mo(e,n),S=mo(t,n),N=v.get(S);if(N){Wa(e,n,N);return}var M=s?s(x,S,n+"",e,t,v):i,W=M===i;if(W){var Q=we(S),oe=!Q&&bn(S),de=!Q&&!oe&&cr(S);M=S,Q||oe||de?we(x)?M=x:Ve(x)?M=dt(x):oe?(W=!1,M=qu(S,!0)):de?(W=!1,M=$u(S,!0)):M=[]:Wr(S)||jn(S)?(M=x,jn(x)?M=js(x):(!Ke(x)||rn(x))&&(M=os(S))):W=!1}W&&(v.set(S,M),a(M,S,r,s,v),v.delete(S)),Wa(e,n,M)}function Ru(e,t){var n=e.length;if(n)return t+=t<0?n:0,nn(t,n)?e[t]:i}function Cu(e,t,n){t.length?t=He(t,function(s){return we(s)?function(v){return Nn(v,s.length===1?s[0]:s)}:s}):t=[vt];var r=-1;t=He(t,xt(pe()));var a=Pu(e,function(s,v,x){var S=He(t,function(N){return N(s)});return{criteria:S,index:++r,value:s}});return Pc(a,function(s,v){return dl(s,v,n)})}function nl(e,t){return Lu(e,t,function(n,r){return Po(e,r)})}function Lu(e,t,n){for(var r=-1,a=t.length,s={};++r<a;){var v=t[r],x=Nn(e,v);n(x,v)&&Br(s,mn(v,e),x)}return s}function rl(e){return function(t){return Nn(t,e)}}function Qa(e,t,n,r){var a=r?Sc:Xn,s=-1,v=t.length,x=e;for(e===t&&(t=dt(t)),n&&(x=He(e,xt(n)));++s<v;)for(var S=0,N=t[s],M=n?n(N):N;(S=a(x,M,S,r))>-1;)x!==e&&vi.call(x,S,1),vi.call(e,S,1);return e}function Du(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==s){var s=a;nn(a)?vi.call(e,a,1):ro(e,a)}}return e}function eo(e,t){return e+bi(pu()*(t-e+1))}function il(e,t,n,r){for(var a=-1,s=Xe(yi((t-e)/(n||1)),0),v=E(s);s--;)v[r?s:++a]=e,e+=n;return v}function to(e,t){var n="";if(!e||t<1||t>se)return n;do t%2&&(n+=e),t=bi(t/2),t&&(e+=e);while(t);return n}function Oe(e,t){return yo(cs(e,t,vt),e+"")}function al(e){return gu(fr(e))}function ol(e,t){var n=fr(e);return Mi(n,kn(t,0,n.length))}function Br(e,t,n,r){if(!Ke(e))return e;t=mn(t,e);for(var a=-1,s=t.length,v=s-1,x=e;x!=null&&++a<s;){var S=zt(t[a]),N=n;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(a!=v){var M=x[S];N=r?r(M,S,x):i,N===i&&(N=Ke(M)?M:nn(t[a+1])?[]:{})}Fr(x,S,N),x=x[S]}return e}var ku=wi?function(e,t){return wi.set(e,t),e}:vt,ul=mi?function(e,t){return mi(e,"toString",{configurable:!0,enumerable:!1,value:Eo(t),writable:!0})}:vt;function sl(e){return Mi(fr(e))}function Nt(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=E(a);++r<a;)s[r]=e[r+t];return s}function cl(e,t){var n;return gn(e,function(r,a,s){return n=t(r,a,s),!n}),!!n}function Ii(e,t,n){var r=0,a=e==null?r:e.length;if(typeof t=="number"&&t===t&&a<=fe){for(;r<a;){var s=r+a>>>1,v=e[s];v!==null&&!Tt(v)&&(n?v<=t:v<t)?r=s+1:a=s}return a}return no(e,t,vt,n)}function no(e,t,n,r){var a=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var v=t!==t,x=t===null,S=Tt(t),N=t===i;a<s;){var M=bi((a+s)/2),W=n(e[M]),Q=W!==i,oe=W===null,de=W===W,Te=Tt(W);if(v)var _e=r||de;else N?_e=de&&(r||Q):x?_e=de&&Q&&(r||!oe):S?_e=de&&Q&&!oe&&(r||!Te):oe||Te?_e=!1:_e=r?W<=t:W<t;_e?a=M+1:s=M}return ot(s,ce)}function Nu(e,t){for(var n=-1,r=e.length,a=0,s=[];++n<r;){var v=e[n],x=t?t(v):v;if(!n||!Gt(x,S)){var S=x;s[a++]=v===0?0:v}}return s}function Fu(e){return typeof e=="number"?e:Tt(e)?ke:+e}function At(e){if(typeof e=="string")return e;if(we(e))return He(e,At)+"";if(Tt(e))return du?du.call(e):"";var t=e+"";return t=="0"&&1/e==-Y?"-0":t}function vn(e,t,n){var r=-1,a=ui,s=e.length,v=!0,x=[],S=x;if(n)v=!1,a=Ca;else if(s>=_){var N=t?null:bl(e);if(N)return ci(N);v=!1,a=Rr,S=new Dn}else S=t?[]:x;e:for(;++r<s;){var M=e[r],W=t?t(M):M;if(M=n||M!==0?M:0,v&&W===W){for(var Q=S.length;Q--;)if(S[Q]===W)continue e;t&&S.push(W),x.push(M)}else a(S,W,n)||(S!==x&&S.push(W),x.push(M))}return x}function ro(e,t){return t=mn(t,e),e=fs(e,t),e==null||delete e[zt(Ft(t))]}function Mu(e,t,n,r){return Br(e,t,n(Nn(e,t)),r)}function Ei(e,t,n,r){for(var a=e.length,s=r?a:-1;(r?s--:++s<a)&&t(e[s],s,e););return n?Nt(e,r?0:s,r?s+1:a):Nt(e,r?s+1:0,r?a:s)}function ju(e,t){var n=e;return n instanceof Re&&(n=n.value()),La(t,function(r,a){return a.func.apply(a.thisArg,pn([r],a.args))},n)}function io(e,t,n){var r=e.length;if(r<2)return r?vn(e[0]):[];for(var a=-1,s=E(r);++a<r;)for(var v=e[a],x=-1;++x<r;)x!=a&&(s[a]=Mr(s[a]||v,e[x],t,n));return vn(rt(s,1),t,n)}function Uu(e,t,n){for(var r=-1,a=e.length,s=t.length,v={};++r<a;){var x=r<s?t[r]:i;n(v,e[r],x)}return v}function ao(e){return Ve(e)?e:[]}function oo(e){return typeof e=="function"?e:vt}function mn(e,t){return we(e)?e:go(e,t)?[e]:ds(Ne(e))}var fl=Oe;function yn(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Nt(e,t,n)}var Bu=Jc||function(e){return nt.clearTimeout(e)};function qu(e,t){if(t)return e.slice();var n=e.length,r=su?su(n):new e.constructor(n);return e.copy(r),r}function uo(e){var t=new e.constructor(e.byteLength);return new _i(t).set(new _i(e)),t}function ll(e,t){var n=t?uo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function hl(e){var t=new e.constructor(e.source,Qr.exec(e));return t.lastIndex=e.lastIndex,t}function pl(e){return Nr?Be(Nr.call(e)):{}}function $u(e,t){var n=t?uo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Gu(e,t){if(e!==t){var n=e!==i,r=e===null,a=e===e,s=Tt(e),v=t!==i,x=t===null,S=t===t,N=Tt(t);if(!x&&!N&&!s&&e>t||s&&v&&S&&!x&&!N||r&&v&&S||!n&&S||!a)return 1;if(!r&&!s&&!N&&e<t||N&&n&&a&&!r&&!s||x&&n&&a||!v&&a||!S)return-1}return 0}function dl(e,t,n){for(var r=-1,a=e.criteria,s=t.criteria,v=a.length,x=n.length;++r<v;){var S=Gu(a[r],s[r]);if(S){if(r>=x)return S;var N=n[r];return S*(N=="desc"?-1:1)}}return e.index-t.index}function Wu(e,t,n,r){for(var a=-1,s=e.length,v=n.length,x=-1,S=t.length,N=Xe(s-v,0),M=E(S+N),W=!r;++x<S;)M[x]=t[x];for(;++a<v;)(W||a<s)&&(M[n[a]]=e[a]);for(;N--;)M[x++]=e[a++];return M}function Hu(e,t,n,r){for(var a=-1,s=e.length,v=-1,x=n.length,S=-1,N=t.length,M=Xe(s-x,0),W=E(M+N),Q=!r;++a<M;)W[a]=e[a];for(var oe=a;++S<N;)W[oe+S]=t[S];for(;++v<x;)(Q||a<s)&&(W[oe+n[v]]=e[a++]);return W}function dt(e,t){var n=-1,r=e.length;for(t||(t=E(r));++n<r;)t[n]=e[n];return t}function Kt(e,t,n,r){var a=!n;n||(n={});for(var s=-1,v=t.length;++s<v;){var x=t[s],S=r?r(n[x],e[x],x,n,e):i;S===i&&(S=e[x]),a?Qt(n,x,S):Fr(n,x,S)}return n}function _l(e,t){return Kt(e,_o(e),t)}function gl(e,t){return Kt(e,is(e),t)}function Ri(e,t){return function(n,r){var a=we(n)?bc:jf,s=t?t():{};return a(n,e,pe(r,2),s)}}function or(e){return Oe(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:i,v=a>2?n[2]:i;for(s=e.length>3&&typeof s=="function"?(a--,s):i,v&&lt(n[0],n[1],v)&&(s=a<3?i:s,a=1),t=Be(t);++r<a;){var x=n[r];x&&e(t,x,r,s)}return t})}function Ku(e,t){return function(n,r){if(n==null)return n;if(!_t(n))return e(n,r);for(var a=n.length,s=t?a:-1,v=Be(n);(t?s--:++s<a)&&r(v[s],s,v)!==!1;);return n}}function zu(e){return function(t,n,r){for(var a=-1,s=Be(t),v=r(t),x=v.length;x--;){var S=v[e?x:++a];if(n(s[S],S,s)===!1)break}return t}}function vl(e,t,n){var r=t&T,a=qr(e);function s(){var v=this&&this!==nt&&this instanceof s?a:e;return v.apply(r?n:this,arguments)}return s}function Vu(e){return function(t){t=Ne(t);var n=Qn(t)?qt(t):i,r=n?n[0]:t.charAt(0),a=n?yn(n,1).join(""):t.slice(1);return r[e]()+a}}function ur(e){return function(t){return La(Ks(Hs(t).replace(Qe,"")),e,"")}}function qr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ar(e.prototype),r=e.apply(n,t);return Ke(r)?r:n}}function ml(e,t,n){var r=qr(e);function a(){for(var s=arguments.length,v=E(s),x=s,S=sr(a);x--;)v[x]=arguments[x];var N=s<3&&v[0]!==S&&v[s-1]!==S?[]:dn(v,S);if(s-=N.length,s<n)return Qu(e,t,Ci,a.placeholder,i,v,N,i,i,n-s);var M=this&&this!==nt&&this instanceof a?r:e;return wt(M,this,v)}return a}function Yu(e){return function(t,n,r){var a=Be(t);if(!_t(t)){var s=pe(n,3);t=et(t),n=function(x){return s(a[x],x,a)}}var v=e(t,n,r);return v>-1?a[s?t[v]:v]:i}}function Ju(e){return tn(function(t){var n=t.length,r=n,a=Dt.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new Lt(c);if(a&&!v&&Ni(s)=="wrapper")var v=new Dt([],!0)}for(r=v?r:n;++r<n;){s=t[r];var x=Ni(s),S=x=="wrapper"?ho(s):i;S&&vo(S[0])&&S[1]==(j|H|B|U)&&!S[4].length&&S[9]==1?v=v[Ni(S[0])].apply(v,S[3]):v=s.length==1&&vo(s)?v[x]():v.thru(s)}return function(){var N=arguments,M=N[0];if(v&&N.length==1&&we(M))return v.plant(M).value();for(var W=0,Q=n?t[W].apply(this,N):M;++W<n;)Q=t[W].call(this,Q);return Q}})}function Ci(e,t,n,r,a,s,v,x,S,N){var M=t&j,W=t&T,Q=t&D,oe=t&(H|k),de=t&V,Te=Q?i:qr(e);function _e(){for(var Ee=arguments.length,Ce=E(Ee),Ot=Ee;Ot--;)Ce[Ot]=arguments[Ot];if(oe)var ht=sr(_e),St=Ec(Ce,ht);if(r&&(Ce=Wu(Ce,r,a,oe)),s&&(Ce=Hu(Ce,s,v,oe)),Ee-=St,oe&&Ee<N){var Ye=dn(Ce,ht);return Qu(e,t,Ci,_e.placeholder,n,Ce,Ye,x,S,N-Ee)}var Wt=W?n:this,on=Q?Wt[e]:e;return Ee=Ce.length,x?Ce=jl(Ce,x):de&&Ee>1&&Ce.reverse(),M&&S<Ee&&(Ce.length=S),this&&this!==nt&&this instanceof _e&&(on=Te||qr(on)),on.apply(Wt,Ce)}return _e}function Zu(e,t){return function(n,r){return Kf(n,e,t(r),{})}}function Li(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;typeof n=="string"||typeof r=="string"?(n=At(n),r=At(r)):(n=Fu(n),r=Fu(r)),a=e(n,r)}return a}}function so(e){return tn(function(t){return t=He(t,xt(pe())),Oe(function(n){var r=this;return e(t,function(a){return wt(a,r,n)})})})}function Di(e,t){t=t===i?" ":At(t);var n=t.length;if(n<2)return n?to(t,e):t;var r=to(t,yi(e/er(t)));return Qn(t)?yn(qt(r),0,e).join(""):r.slice(0,e)}function yl(e,t,n,r){var a=t&T,s=qr(e);function v(){for(var x=-1,S=arguments.length,N=-1,M=r.length,W=E(M+S),Q=this&&this!==nt&&this instanceof v?s:e;++N<M;)W[N]=r[N];for(;S--;)W[N++]=arguments[++x];return wt(Q,a?n:this,W)}return v}function Xu(e){return function(t,n,r){return r&&typeof r!="number"&&lt(t,n,r)&&(n=r=i),t=an(t),n===i?(n=t,t=0):n=an(n),r=r===i?t<n?1:-1:an(r),il(t,n,r,e)}}function ki(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Mt(t),n=Mt(n)),e(t,n)}}function Qu(e,t,n,r,a,s,v,x,S,N){var M=t&H,W=M?v:i,Q=M?i:v,oe=M?s:i,de=M?i:s;t|=M?B:q,t&=~(M?q:B),t&R||(t&=~(T|D));var Te=[e,t,a,oe,W,de,Q,x,S,N],_e=n.apply(i,Te);return vo(e)&&ls(_e,Te),_e.placeholder=r,hs(_e,e,t)}function co(e){var t=Ze[e];return function(n,r){if(n=Mt(n),r=r==null?0:ot(Ae(r),292),r&&hu(n)){var a=(Ne(n)+"e").split("e"),s=t(a[0]+"e"+(+a[1]+r));return a=(Ne(s)+"e").split("e"),+(a[0]+"e"+(+a[1]-r))}return t(n)}}var bl=rr&&1/ci(new rr([,-0]))[1]==Y?function(e){return new rr(e)}:Lo;function es(e){return function(t){var n=ut(t);return n==bt?Ua(t):n==pt?Fc(t):Ic(t,e(t))}}function en(e,t,n,r,a,s,v,x){var S=t&D;if(!S&&typeof e!="function")throw new Lt(c);var N=r?r.length:0;if(N||(t&=~(B|q),r=a=i),v=v===i?v:Xe(Ae(v),0),x=x===i?x:Ae(x),N-=a?a.length:0,t&q){var M=r,W=a;r=a=i}var Q=S?i:ho(e),oe=[e,t,n,r,a,M,W,s,v,x];if(Q&&Nl(oe,Q),e=oe[0],t=oe[1],n=oe[2],r=oe[3],a=oe[4],x=oe[9]=oe[9]===i?S?0:e.length:Xe(oe[9]-N,0),!x&&t&(H|k)&&(t&=~(H|k)),!t||t==T)var de=vl(e,t,n);else t==H||t==k?de=ml(e,t,x):(t==B||t==(T|B))&&!a.length?de=yl(e,t,n,r):de=Ci.apply(i,oe);var Te=Q?ku:ls;return hs(Te(de,oe),e,t)}function ts(e,t,n,r){return e===i||Gt(e,nr[n])&&!Fe.call(r,n)?t:e}function ns(e,t,n,r,a,s){return Ke(e)&&Ke(t)&&(s.set(t,e),Pi(e,t,i,ns,s),s.delete(t)),e}function wl(e){return Wr(e)?i:e}function rs(e,t,n,r,a,s){var v=n&C,x=e.length,S=t.length;if(x!=S&&!(v&&S>x))return!1;var N=s.get(e),M=s.get(t);if(N&&M)return N==t&&M==e;var W=-1,Q=!0,oe=n&F?new Dn:i;for(s.set(e,t),s.set(t,e);++W<x;){var de=e[W],Te=t[W];if(r)var _e=v?r(Te,de,W,t,e,s):r(de,Te,W,e,t,s);if(_e!==i){if(_e)continue;Q=!1;break}if(oe){if(!Da(t,function(Ee,Ce){if(!Rr(oe,Ce)&&(de===Ee||a(de,Ee,n,r,s)))return oe.push(Ce)})){Q=!1;break}}else if(!(de===Te||a(de,Te,n,r,s))){Q=!1;break}}return s.delete(e),s.delete(t),Q}function xl(e,t,n,r,a,s,v){switch(n){case sn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Bt:return!(e.byteLength!=t.byteLength||!s(new _i(e),new _i(t)));case yt:case Yt:case On:return Gt(+e,+t);case Bn:return e.name==t.name&&e.message==t.message;case Ut:case Sn:return e==t+"";case bt:var x=Ua;case pt:var S=r&C;if(x||(x=ci),e.size!=t.size&&!S)return!1;var N=v.get(e);if(N)return N==t;r|=F,v.set(e,t);var M=rs(x(e),x(t),r,a,s,v);return v.delete(e),M;case $n:if(Nr)return Nr.call(e)==Nr.call(t)}return!1}function Al(e,t,n,r,a,s){var v=n&C,x=fo(e),S=x.length,N=fo(t),M=N.length;if(S!=M&&!v)return!1;for(var W=S;W--;){var Q=x[W];if(!(v?Q in t:Fe.call(t,Q)))return!1}var oe=s.get(e),de=s.get(t);if(oe&&de)return oe==t&&de==e;var Te=!0;s.set(e,t),s.set(t,e);for(var _e=v;++W<S;){Q=x[W];var Ee=e[Q],Ce=t[Q];if(r)var Ot=v?r(Ce,Ee,Q,t,e,s):r(Ee,Ce,Q,e,t,s);if(!(Ot===i?Ee===Ce||a(Ee,Ce,n,r,s):Ot)){Te=!1;break}_e||(_e=Q=="constructor")}if(Te&&!_e){var ht=e.constructor,St=t.constructor;ht!=St&&"constructor"in e&&"constructor"in t&&!(typeof ht=="function"&&ht instanceof ht&&typeof St=="function"&&St instanceof St)&&(Te=!1)}return s.delete(e),s.delete(t),Te}function tn(e){return yo(cs(e,i,ms),e+"")}function fo(e){return Au(e,et,_o)}function lo(e){return Au(e,gt,is)}var ho=wi?function(e){return wi.get(e)}:Lo;function Ni(e){for(var t=e.name+"",n=ir[t],r=Fe.call(ir,t)?n.length:0;r--;){var a=n[r],s=a.func;if(s==null||s==e)return a.name}return t}function sr(e){var t=Fe.call(u,"placeholder")?u:e;return t.placeholder}function pe(){var e=u.iteratee||Ro;return e=e===Ro?Su:e,arguments.length?e(arguments[0],arguments[1]):e}function Fi(e,t){var n=e.__data__;return Cl(t)?n[typeof t=="string"?"string":"hash"]:n.map}function po(e){for(var t=et(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,us(a)]}return t}function Fn(e,t){var n=Dc(e,t);return Ou(n)?n:i}function Tl(e){var t=Fe.call(e,Cn),n=e[Cn];try{e[Cn]=i;var r=!0}catch{}var a=pi.call(e);return r&&(t?e[Cn]=n:delete e[Cn]),a}var _o=qa?function(e){return e==null?[]:(e=Be(e),hn(qa(e),function(t){return fu.call(e,t)}))}:Do,is=qa?function(e){for(var t=[];e;)pn(t,_o(e)),e=gi(e);return t}:Do,ut=ft;($a&&ut(new $a(new ArrayBuffer(1)))!=sn||Lr&&ut(new Lr)!=bt||Ga&&ut(Ga.resolve())!=zr||rr&&ut(new rr)!=pt||Dr&&ut(new Dr)!=Pn)&&(ut=function(e){var t=ft(e),n=t==jt?e.constructor:i,r=n?Mn(n):"";if(r)switch(r){case of:return sn;case uf:return bt;case sf:return zr;case cf:return pt;case ff:return Pn}return t});function Ol(e,t,n){for(var r=-1,a=n.length;++r<a;){var s=n[r],v=s.size;switch(s.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=ot(t,e+v);break;case"takeRight":e=Xe(e,t-v);break}}return{start:e,end:t}}function Sl(e){var t=e.match(pa);return t?t[1].split(Xr):[]}function as(e,t,n){t=mn(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var v=zt(t[r]);if(!(s=e!=null&&n(e,v)))break;e=e[v]}return s||++r!=a?s:(a=e==null?0:e.length,!!a&&Gi(a)&&nn(v,a)&&(we(e)||jn(e)))}function Pl(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function os(e){return typeof e.constructor=="function"&&!$r(e)?ar(gi(e)):{}}function Il(e,t,n){var r=e.constructor;switch(t){case Bt:return uo(e);case yt:case Yt:return new r(+e);case sn:return ll(e,n);case _r:case gr:case vr:case mr:case yr:case br:case Gn:case Wn:case wr:return $u(e,n);case bt:return new r;case On:case Sn:return new r(e);case Ut:return hl(e);case pt:return new r;case $n:return pl(e)}}function El(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ha,`{
/* [wrapped with `+t+`] */
`)}function Rl(e){return we(e)||jn(e)||!!(lu&&e&&e[lu])}function nn(e,t){var n=typeof e;return t=t??se,!!t&&(n=="number"||n!="symbol"&&ei.test(e))&&e>-1&&e%1==0&&e<t}function lt(e,t,n){if(!Ke(n))return!1;var r=typeof t;return(r=="number"?_t(n)&&nn(t,n.length):r=="string"&&t in n)?Gt(n[t],e):!1}function go(e,t){if(we(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Tt(e)?!0:ca.test(e)||!sa.test(e)||t!=null&&e in Be(t)}function Cl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function vo(e){var t=Ni(e),n=u[t];if(typeof n!="function"||!(t in Re.prototype))return!1;if(e===n)return!0;var r=ho(n);return!!r&&e===r[0]}function Ll(e){return!!uu&&uu in e}var Dl=li?rn:ko;function $r(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||nr;return e===n}function us(e){return e===e&&!Ke(e)}function ss(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Be(n))}}function kl(e){var t=qi(e,function(r){return n.size===b&&n.clear(),r}),n=t.cache;return t}function Nl(e,t){var n=e[1],r=t[1],a=n|r,s=a<(T|D|j),v=r==j&&n==H||r==j&&n==U&&e[7].length<=t[8]||r==(j|U)&&t[7].length<=t[8]&&n==H;if(!(s||v))return e;r&T&&(e[2]=t[2],a|=n&T?0:R);var x=t[3];if(x){var S=e[3];e[3]=S?Wu(S,x,t[4]):x,e[4]=S?dn(e[3],w):t[4]}return x=t[5],x&&(S=e[5],e[5]=S?Hu(S,x,t[6]):x,e[6]=S?dn(e[5],w):t[6]),x=t[7],x&&(e[7]=x),r&j&&(e[8]=e[8]==null?t[8]:ot(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function Fl(e){var t=[];if(e!=null)for(var n in Be(e))t.push(n);return t}function Ml(e){return pi.call(e)}function cs(e,t,n){return t=Xe(t===i?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=Xe(r.length-t,0),v=E(s);++a<s;)v[a]=r[t+a];a=-1;for(var x=E(t+1);++a<t;)x[a]=r[a];return x[t]=n(v),wt(e,this,x)}}function fs(e,t){return t.length<2?e:Nn(e,Nt(t,0,-1))}function jl(e,t){for(var n=e.length,r=ot(t.length,n),a=dt(e);r--;){var s=t[r];e[r]=nn(s,n)?a[s]:i}return e}function mo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ls=ps(ku),Gr=Xc||function(e,t){return nt.setTimeout(e,t)},yo=ps(ul);function hs(e,t,n){var r=t+"";return yo(e,El(r,Ul(Sl(r),n)))}function ps(e){var t=0,n=0;return function(){var r=nf(),a=he-(r-n);if(n=r,a>0){if(++t>=ne)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Mi(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var s=eo(n,a),v=e[s];e[s]=e[n],e[n]=v}return e.length=t,e}var ds=kl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xr,function(n,r,a,s){t.push(a?s.replace(ga,"$1"):r||n)}),t});function zt(e){if(typeof e=="string"||Tt(e))return e;var t=e+"";return t=="0"&&1/e==-Y?"-0":t}function Mn(e){if(e!=null){try{return hi.call(e)}catch{}try{return e+""}catch{}}return""}function Ul(e,t){return Ct(it,function(n){var r="_."+n[0];t&n[1]&&!ui(e,r)&&e.push(r)}),e.sort()}function _s(e){if(e instanceof Re)return e.clone();var t=new Dt(e.__wrapped__,e.__chain__);return t.__actions__=dt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Bl(e,t,n){(n?lt(e,t,n):t===i)?t=1:t=Xe(Ae(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,s=0,v=E(yi(r/t));a<r;)v[s++]=Nt(e,a,a+=t);return v}function ql(e){for(var t=-1,n=e==null?0:e.length,r=0,a=[];++t<n;){var s=e[t];s&&(a[r++]=s)}return a}function $l(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pn(we(n)?dt(n):[n],rt(t,1))}var Gl=Oe(function(e,t){return Ve(e)?Mr(e,rt(t,1,Ve,!0)):[]}),Wl=Oe(function(e,t){var n=Ft(t);return Ve(n)&&(n=i),Ve(e)?Mr(e,rt(t,1,Ve,!0),pe(n,2)):[]}),Hl=Oe(function(e,t){var n=Ft(t);return Ve(n)&&(n=i),Ve(e)?Mr(e,rt(t,1,Ve,!0),i,n):[]});function Kl(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:Ae(t),Nt(e,t<0?0:t,r)):[]}function zl(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:Ae(t),t=r-t,Nt(e,0,t<0?0:t)):[]}function Vl(e,t){return e&&e.length?Ei(e,pe(t,3),!0,!0):[]}function Yl(e,t){return e&&e.length?Ei(e,pe(t,3),!0):[]}function Jl(e,t,n,r){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&lt(e,t,n)&&(n=0,r=a),$f(e,t,n,r)):[]}function gs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:Ae(n);return a<0&&(a=Xe(r+a,0)),si(e,pe(t,3),a)}function vs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=Ae(n),a=n<0?Xe(r+a,0):ot(a,r-1)),si(e,pe(t,3),a,!0)}function ms(e){var t=e==null?0:e.length;return t?rt(e,1):[]}function Zl(e){var t=e==null?0:e.length;return t?rt(e,Y):[]}function Xl(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:Ae(t),rt(e,t)):[]}function Ql(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function ys(e){return e&&e.length?e[0]:i}function eh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:Ae(n);return a<0&&(a=Xe(r+a,0)),Xn(e,t,a)}function th(e){var t=e==null?0:e.length;return t?Nt(e,0,-1):[]}var nh=Oe(function(e){var t=He(e,ao);return t.length&&t[0]===e[0]?Ya(t):[]}),rh=Oe(function(e){var t=Ft(e),n=He(e,ao);return t===Ft(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ya(n,pe(t,2)):[]}),ih=Oe(function(e){var t=Ft(e),n=He(e,ao);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?Ya(n,i,t):[]});function ah(e,t){return e==null?"":ef.call(e,t)}function Ft(e){var t=e==null?0:e.length;return t?e[t-1]:i}function oh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=Ae(n),a=a<0?Xe(r+a,0):ot(a,r-1)),t===t?jc(e,t,a):si(e,Qo,a,!0)}function uh(e,t){return e&&e.length?Ru(e,Ae(t)):i}var sh=Oe(bs);function bs(e,t){return e&&e.length&&t&&t.length?Qa(e,t):e}function ch(e,t,n){return e&&e.length&&t&&t.length?Qa(e,t,pe(n,2)):e}function fh(e,t,n){return e&&e.length&&t&&t.length?Qa(e,t,i,n):e}var lh=tn(function(e,t){var n=e==null?0:e.length,r=Ha(e,t);return Du(e,He(t,function(a){return nn(a,n)?+a:a}).sort(Gu)),r});function hh(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,a=[],s=e.length;for(t=pe(t,3);++r<s;){var v=e[r];t(v,r,e)&&(n.push(v),a.push(r))}return Du(e,a),n}function bo(e){return e==null?e:af.call(e)}function ph(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&lt(e,t,n)?(t=0,n=r):(t=t==null?0:Ae(t),n=n===i?r:Ae(n)),Nt(e,t,n)):[]}function dh(e,t){return Ii(e,t)}function _h(e,t,n){return no(e,t,pe(n,2))}function gh(e,t){var n=e==null?0:e.length;if(n){var r=Ii(e,t);if(r<n&&Gt(e[r],t))return r}return-1}function vh(e,t){return Ii(e,t,!0)}function mh(e,t,n){return no(e,t,pe(n,2),!0)}function yh(e,t){var n=e==null?0:e.length;if(n){var r=Ii(e,t,!0)-1;if(Gt(e[r],t))return r}return-1}function bh(e){return e&&e.length?Nu(e):[]}function wh(e,t){return e&&e.length?Nu(e,pe(t,2)):[]}function xh(e){var t=e==null?0:e.length;return t?Nt(e,1,t):[]}function Ah(e,t,n){return e&&e.length?(t=n||t===i?1:Ae(t),Nt(e,0,t<0?0:t)):[]}function Th(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:Ae(t),t=r-t,Nt(e,t<0?0:t,r)):[]}function Oh(e,t){return e&&e.length?Ei(e,pe(t,3),!1,!0):[]}function Sh(e,t){return e&&e.length?Ei(e,pe(t,3)):[]}var Ph=Oe(function(e){return vn(rt(e,1,Ve,!0))}),Ih=Oe(function(e){var t=Ft(e);return Ve(t)&&(t=i),vn(rt(e,1,Ve,!0),pe(t,2))}),Eh=Oe(function(e){var t=Ft(e);return t=typeof t=="function"?t:i,vn(rt(e,1,Ve,!0),i,t)});function Rh(e){return e&&e.length?vn(e):[]}function Ch(e,t){return e&&e.length?vn(e,pe(t,2)):[]}function Lh(e,t){return t=typeof t=="function"?t:i,e&&e.length?vn(e,i,t):[]}function wo(e){if(!(e&&e.length))return[];var t=0;return e=hn(e,function(n){if(Ve(n))return t=Xe(n.length,t),!0}),Ma(t,function(n){return He(e,ka(n))})}function ws(e,t){if(!(e&&e.length))return[];var n=wo(e);return t==null?n:He(n,function(r){return wt(t,i,r)})}var Dh=Oe(function(e,t){return Ve(e)?Mr(e,t):[]}),kh=Oe(function(e){return io(hn(e,Ve))}),Nh=Oe(function(e){var t=Ft(e);return Ve(t)&&(t=i),io(hn(e,Ve),pe(t,2))}),Fh=Oe(function(e){var t=Ft(e);return t=typeof t=="function"?t:i,io(hn(e,Ve),i,t)}),Mh=Oe(wo);function jh(e,t){return Uu(e||[],t||[],Fr)}function Uh(e,t){return Uu(e||[],t||[],Br)}var Bh=Oe(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,ws(e,n)});function xs(e){var t=u(e);return t.__chain__=!0,t}function qh(e,t){return t(e),e}function ji(e,t){return t(e)}var $h=tn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(s){return Ha(s,e)};return t>1||this.__actions__.length||!(r instanceof Re)||!nn(n)?this.thru(a):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ji,args:[a],thisArg:i}),new Dt(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(i),s}))});function Gh(){return xs(this)}function Wh(){return new Dt(this.value(),this.__chain__)}function Hh(){this.__values__===i&&(this.__values__=Fs(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Kh(){return this}function zh(e){for(var t,n=this;n instanceof Ai;){var r=_s(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t}function Vh(){var e=this.__wrapped__;if(e instanceof Re){var t=e;return this.__actions__.length&&(t=new Re(this)),t=t.reverse(),t.__actions__.push({func:ji,args:[bo],thisArg:i}),new Dt(t,this.__chain__)}return this.thru(bo)}function Yh(){return ju(this.__wrapped__,this.__actions__)}var Jh=Ri(function(e,t,n){Fe.call(e,n)?++e[n]:Qt(e,n,1)});function Zh(e,t,n){var r=we(e)?Zo:qf;return n&&lt(e,t,n)&&(t=i),r(e,pe(t,3))}function Xh(e,t){var n=we(e)?hn:wu;return n(e,pe(t,3))}var Qh=Yu(gs),ep=Yu(vs);function tp(e,t){return rt(Ui(e,t),1)}function np(e,t){return rt(Ui(e,t),Y)}function rp(e,t,n){return n=n===i?1:Ae(n),rt(Ui(e,t),n)}function As(e,t){var n=we(e)?Ct:gn;return n(e,pe(t,3))}function Ts(e,t){var n=we(e)?wc:bu;return n(e,pe(t,3))}var ip=Ri(function(e,t,n){Fe.call(e,n)?e[n].push(t):Qt(e,n,[t])});function ap(e,t,n,r){e=_t(e)?e:fr(e),n=n&&!r?Ae(n):0;var a=e.length;return n<0&&(n=Xe(a+n,0)),Wi(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Xn(e,t,n)>-1}var op=Oe(function(e,t,n){var r=-1,a=typeof t=="function",s=_t(e)?E(e.length):[];return gn(e,function(v){s[++r]=a?wt(t,v,n):jr(v,t,n)}),s}),up=Ri(function(e,t,n){Qt(e,n,t)});function Ui(e,t){var n=we(e)?He:Pu;return n(e,pe(t,3))}function sp(e,t,n,r){return e==null?[]:(we(t)||(t=t==null?[]:[t]),n=r?i:n,we(n)||(n=n==null?[]:[n]),Cu(e,t,n))}var cp=Ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function fp(e,t,n){var r=we(e)?La:tu,a=arguments.length<3;return r(e,pe(t,4),n,a,gn)}function lp(e,t,n){var r=we(e)?xc:tu,a=arguments.length<3;return r(e,pe(t,4),n,a,bu)}function hp(e,t){var n=we(e)?hn:wu;return n(e,$i(pe(t,3)))}function pp(e){var t=we(e)?gu:al;return t(e)}function dp(e,t,n){(n?lt(e,t,n):t===i)?t=1:t=Ae(t);var r=we(e)?Ff:ol;return r(e,t)}function _p(e){var t=we(e)?Mf:sl;return t(e)}function gp(e){if(e==null)return 0;if(_t(e))return Wi(e)?er(e):e.length;var t=ut(e);return t==bt||t==pt?e.size:Za(e).length}function vp(e,t,n){var r=we(e)?Da:cl;return n&&lt(e,t,n)&&(t=i),r(e,pe(t,3))}var mp=Oe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&lt(e,t[0],t[1])?t=[]:n>2&&lt(t[0],t[1],t[2])&&(t=[t[0]]),Cu(e,rt(t,1),[])}),Bi=Zc||function(){return nt.Date.now()};function yp(e,t){if(typeof t!="function")throw new Lt(c);return e=Ae(e),function(){if(--e<1)return t.apply(this,arguments)}}function Os(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,en(e,j,i,i,i,i,t)}function Ss(e,t){var n;if(typeof t!="function")throw new Lt(c);return e=Ae(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var xo=Oe(function(e,t,n){var r=T;if(n.length){var a=dn(n,sr(xo));r|=B}return en(e,r,t,n,a)}),Ps=Oe(function(e,t,n){var r=T|D;if(n.length){var a=dn(n,sr(Ps));r|=B}return en(t,r,e,n,a)});function Is(e,t,n){t=n?i:t;var r=en(e,H,i,i,i,i,i,t);return r.placeholder=Is.placeholder,r}function Es(e,t,n){t=n?i:t;var r=en(e,k,i,i,i,i,i,t);return r.placeholder=Es.placeholder,r}function Rs(e,t,n){var r,a,s,v,x,S,N=0,M=!1,W=!1,Q=!0;if(typeof e!="function")throw new Lt(c);t=Mt(t)||0,Ke(n)&&(M=!!n.leading,W="maxWait"in n,s=W?Xe(Mt(n.maxWait)||0,t):s,Q="trailing"in n?!!n.trailing:Q);function oe(Ye){var Wt=r,on=a;return r=a=i,N=Ye,v=e.apply(on,Wt),v}function de(Ye){return N=Ye,x=Gr(Ee,t),M?oe(Ye):v}function Te(Ye){var Wt=Ye-S,on=Ye-N,Ys=t-Wt;return W?ot(Ys,s-on):Ys}function _e(Ye){var Wt=Ye-S,on=Ye-N;return S===i||Wt>=t||Wt<0||W&&on>=s}function Ee(){var Ye=Bi();if(_e(Ye))return Ce(Ye);x=Gr(Ee,Te(Ye))}function Ce(Ye){return x=i,Q&&r?oe(Ye):(r=a=i,v)}function Ot(){x!==i&&Bu(x),N=0,r=S=a=x=i}function ht(){return x===i?v:Ce(Bi())}function St(){var Ye=Bi(),Wt=_e(Ye);if(r=arguments,a=this,S=Ye,Wt){if(x===i)return de(S);if(W)return Bu(x),x=Gr(Ee,t),oe(S)}return x===i&&(x=Gr(Ee,t)),v}return St.cancel=Ot,St.flush=ht,St}var bp=Oe(function(e,t){return yu(e,1,t)}),wp=Oe(function(e,t,n){return yu(e,Mt(t)||0,n)});function xp(e){return en(e,V)}function qi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Lt(c);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var v=e.apply(this,r);return n.cache=s.set(a,v)||s,v};return n.cache=new(qi.Cache||Xt),n}qi.Cache=Xt;function $i(e){if(typeof e!="function")throw new Lt(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ap(e){return Ss(2,e)}var Tp=fl(function(e,t){t=t.length==1&&we(t[0])?He(t[0],xt(pe())):He(rt(t,1),xt(pe()));var n=t.length;return Oe(function(r){for(var a=-1,s=ot(r.length,n);++a<s;)r[a]=t[a].call(this,r[a]);return wt(e,this,r)})}),Ao=Oe(function(e,t){var n=dn(t,sr(Ao));return en(e,B,i,t,n)}),Cs=Oe(function(e,t){var n=dn(t,sr(Cs));return en(e,q,i,t,n)}),Op=tn(function(e,t){return en(e,U,i,i,i,t)});function Sp(e,t){if(typeof e!="function")throw new Lt(c);return t=t===i?t:Ae(t),Oe(e,t)}function Pp(e,t){if(typeof e!="function")throw new Lt(c);return t=t==null?0:Xe(Ae(t),0),Oe(function(n){var r=n[t],a=yn(n,0,t);return r&&pn(a,r),wt(e,this,a)})}function Ip(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new Lt(c);return Ke(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Rs(e,t,{leading:r,maxWait:t,trailing:a})}function Ep(e){return Os(e,1)}function Rp(e,t){return Ao(oo(t),e)}function Cp(){if(!arguments.length)return[];var e=arguments[0];return we(e)?e:[e]}function Lp(e){return kt(e,O)}function Dp(e,t){return t=typeof t=="function"?t:i,kt(e,O,t)}function kp(e){return kt(e,d|O)}function Np(e,t){return t=typeof t=="function"?t:i,kt(e,d|O,t)}function Fp(e,t){return t==null||mu(e,t,et(t))}function Gt(e,t){return e===t||e!==e&&t!==t}var Mp=ki(Va),jp=ki(function(e,t){return e>=t}),jn=Tu(function(){return arguments}())?Tu:function(e){return ze(e)&&Fe.call(e,"callee")&&!fu.call(e,"callee")},we=E.isArray,Up=Ho?xt(Ho):zf;function _t(e){return e!=null&&Gi(e.length)&&!rn(e)}function Ve(e){return ze(e)&&_t(e)}function Bp(e){return e===!0||e===!1||ze(e)&&ft(e)==yt}var bn=Qc||ko,qp=Ko?xt(Ko):Vf;function $p(e){return ze(e)&&e.nodeType===1&&!Wr(e)}function Gp(e){if(e==null)return!0;if(_t(e)&&(we(e)||typeof e=="string"||typeof e.splice=="function"||bn(e)||cr(e)||jn(e)))return!e.length;var t=ut(e);if(t==bt||t==pt)return!e.size;if($r(e))return!Za(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0}function Wp(e,t){return Ur(e,t)}function Hp(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Ur(e,t,i,n):!!r}function To(e){if(!ze(e))return!1;var t=ft(e);return t==Bn||t==Xi||typeof e.message=="string"&&typeof e.name=="string"&&!Wr(e)}function Kp(e){return typeof e=="number"&&hu(e)}function rn(e){if(!Ke(e))return!1;var t=ft(e);return t==qn||t==Tn||t==An||t==ea}function Ls(e){return typeof e=="number"&&e==Ae(e)}function Gi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=se}function Ke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ze(e){return e!=null&&typeof e=="object"}var Ds=zo?xt(zo):Jf;function zp(e,t){return e===t||Ja(e,t,po(t))}function Vp(e,t,n){return n=typeof n=="function"?n:i,Ja(e,t,po(t),n)}function Yp(e){return ks(e)&&e!=+e}function Jp(e){if(Dl(e))throw new be(f);return Ou(e)}function Zp(e){return e===null}function Xp(e){return e==null}function ks(e){return typeof e=="number"||ze(e)&&ft(e)==On}function Wr(e){if(!ze(e)||ft(e)!=jt)return!1;var t=gi(e);if(t===null)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&hi.call(n)==zc}var Oo=Vo?xt(Vo):Zf;function Qp(e){return Ls(e)&&e>=-se&&e<=se}var Ns=Yo?xt(Yo):Xf;function Wi(e){return typeof e=="string"||!we(e)&&ze(e)&&ft(e)==Sn}function Tt(e){return typeof e=="symbol"||ze(e)&&ft(e)==$n}var cr=Jo?xt(Jo):Qf;function ed(e){return e===i}function td(e){return ze(e)&&ut(e)==Pn}function nd(e){return ze(e)&&ft(e)==na}var rd=ki(Xa),id=ki(function(e,t){return e<=t});function Fs(e){if(!e)return[];if(_t(e))return Wi(e)?qt(e):dt(e);if(Cr&&e[Cr])return Nc(e[Cr]());var t=ut(e),n=t==bt?Ua:t==pt?ci:fr;return n(e)}function an(e){if(!e)return e===0?e:0;if(e=Mt(e),e===Y||e===-Y){var t=e<0?-1:1;return t*ve}return e===e?e:0}function Ae(e){var t=an(e),n=t%1;return t===t?n?t-n:t:0}function Ms(e){return e?kn(Ae(e),0,ee):0}function Mt(e){if(typeof e=="number")return e;if(Tt(e))return ke;if(Ke(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ke(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nu(e);var n=ya.test(e);return n||wa.test(e)?mc(e.slice(2),n?2:8):ma.test(e)?ke:+e}function js(e){return Kt(e,gt(e))}function ad(e){return e?kn(Ae(e),-se,se):e===0?e:0}function Ne(e){return e==null?"":At(e)}var od=or(function(e,t){if($r(t)||_t(t)){Kt(t,et(t),e);return}for(var n in t)Fe.call(t,n)&&Fr(e,n,t[n])}),Us=or(function(e,t){Kt(t,gt(t),e)}),Hi=or(function(e,t,n,r){Kt(t,gt(t),e,r)}),ud=or(function(e,t,n,r){Kt(t,et(t),e,r)}),sd=tn(Ha);function cd(e,t){var n=ar(e);return t==null?n:vu(n,t)}var fd=Oe(function(e,t){e=Be(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&lt(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],v=gt(s),x=-1,S=v.length;++x<S;){var N=v[x],M=e[N];(M===i||Gt(M,nr[N])&&!Fe.call(e,N))&&(e[N]=s[N])}return e}),ld=Oe(function(e){return e.push(i,ns),wt(Bs,i,e)});function hd(e,t){return Xo(e,pe(t,3),Ht)}function pd(e,t){return Xo(e,pe(t,3),za)}function dd(e,t){return e==null?e:Ka(e,pe(t,3),gt)}function _d(e,t){return e==null?e:xu(e,pe(t,3),gt)}function gd(e,t){return e&&Ht(e,pe(t,3))}function vd(e,t){return e&&za(e,pe(t,3))}function md(e){return e==null?[]:Si(e,et(e))}function yd(e){return e==null?[]:Si(e,gt(e))}function So(e,t,n){var r=e==null?i:Nn(e,t);return r===i?n:r}function bd(e,t){return e!=null&&as(e,t,Gf)}function Po(e,t){return e!=null&&as(e,t,Wf)}var wd=Zu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=pi.call(t)),e[t]=n},Eo(vt)),xd=Zu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=pi.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]},pe),Ad=Oe(jr);function et(e){return _t(e)?_u(e):Za(e)}function gt(e){return _t(e)?_u(e,!0):el(e)}function Td(e,t){var n={};return t=pe(t,3),Ht(e,function(r,a,s){Qt(n,t(r,a,s),r)}),n}function Od(e,t){var n={};return t=pe(t,3),Ht(e,function(r,a,s){Qt(n,a,t(r,a,s))}),n}var Sd=or(function(e,t,n){Pi(e,t,n)}),Bs=or(function(e,t,n,r){Pi(e,t,n,r)}),Pd=tn(function(e,t){var n={};if(e==null)return n;var r=!1;t=He(t,function(s){return s=mn(s,e),r||(r=s.length>1),s}),Kt(e,lo(e),n),r&&(n=kt(n,d|P|O,wl));for(var a=t.length;a--;)ro(n,t[a]);return n});function Id(e,t){return qs(e,$i(pe(t)))}var Ed=tn(function(e,t){return e==null?{}:nl(e,t)});function qs(e,t){if(e==null)return{};var n=He(lo(e),function(r){return[r]});return t=pe(t),Lu(e,n,function(r,a){return t(r,a[0])})}function Rd(e,t,n){t=mn(t,e);var r=-1,a=t.length;for(a||(a=1,e=i);++r<a;){var s=e==null?i:e[zt(t[r])];s===i&&(r=a,s=n),e=rn(s)?s.call(e):s}return e}function Cd(e,t,n){return e==null?e:Br(e,t,n)}function Ld(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Br(e,t,n,r)}var $s=es(et),Gs=es(gt);function Dd(e,t,n){var r=we(e),a=r||bn(e)||cr(e);if(t=pe(t,4),n==null){var s=e&&e.constructor;a?n=r?new s:[]:Ke(e)?n=rn(s)?ar(gi(e)):{}:n={}}return(a?Ct:Ht)(e,function(v,x,S){return t(n,v,x,S)}),n}function kd(e,t){return e==null?!0:ro(e,t)}function Nd(e,t,n){return e==null?e:Mu(e,t,oo(n))}function Fd(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Mu(e,t,oo(n),r)}function fr(e){return e==null?[]:ja(e,et(e))}function Md(e){return e==null?[]:ja(e,gt(e))}function jd(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Mt(n),n=n===n?n:0),t!==i&&(t=Mt(t),t=t===t?t:0),kn(Mt(e),t,n)}function Ud(e,t,n){return t=an(t),n===i?(n=t,t=0):n=an(n),e=Mt(e),Hf(e,t,n)}function Bd(e,t,n){if(n&&typeof n!="boolean"&&lt(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=an(e),t===i?(t=e,e=0):t=an(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=pu();return ot(e+a*(t-e+vc("1e-"+((a+"").length-1))),t)}return eo(e,t)}var qd=ur(function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)});function Ws(e){return Io(Ne(e).toLowerCase())}function Hs(e){return e=Ne(e),e&&e.replace(xa,Rc).replace(Jt,"")}function $d(e,t,n){e=Ne(e),t=At(t);var r=e.length;n=n===i?r:kn(Ae(n),0,r);var a=n;return n-=t.length,n>=0&&e.slice(n,a)==t}function Gd(e){return e=Ne(e),e&&ua.test(e)?e.replace(Yr,Cc):e}function Wd(e){return e=Ne(e),e&&fa.test(e)?e.replace(Ar,"\\$&"):e}var Hd=ur(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Kd=ur(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),zd=Vu("toLowerCase");function Vd(e,t,n){e=Ne(e),t=Ae(t);var r=t?er(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Di(bi(a),n)+e+Di(yi(a),n)}function Yd(e,t,n){e=Ne(e),t=Ae(t);var r=t?er(e):0;return t&&r<t?e+Di(t-r,n):e}function Jd(e,t,n){e=Ne(e),t=Ae(t);var r=t?er(e):0;return t&&r<t?Di(t-r,n)+e:e}function Zd(e,t,n){return n||t==null?t=0:t&&(t=+t),rf(Ne(e).replace(Tr,""),t||0)}function Xd(e,t,n){return(n?lt(e,t,n):t===i)?t=1:t=Ae(t),to(Ne(e),t)}function Qd(){var e=arguments,t=Ne(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var e_=ur(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function t_(e,t,n){return n&&typeof n!="number"&&lt(e,t,n)&&(t=n=i),n=n===i?ee:n>>>0,n?(e=Ne(e),e&&(typeof t=="string"||t!=null&&!Oo(t))&&(t=At(t),!t&&Qn(e))?yn(qt(e),0,n):e.split(t,n)):[]}var n_=ur(function(e,t,n){return e+(n?" ":"")+Io(t)});function r_(e,t,n){return e=Ne(e),n=n==null?0:kn(Ae(n),0,e.length),t=At(t),e.slice(n,n+t.length)==t}function i_(e,t,n){var r=u.templateSettings;n&&lt(e,t,n)&&(t=i),e=Ne(e),t=Hi({},t,r,ts);var a=Hi({},t.imports,r.imports,ts),s=et(a),v=ja(a,s),x,S,N=0,M=t.interpolate||Hn,W="__p += '",Q=Ba((t.escape||Hn).source+"|"+M.source+"|"+(M===Zr?va:Hn).source+"|"+(t.evaluate||Hn).source+"|$","g"),oe="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ia+"]")+`
`;e.replace(Q,function(_e,Ee,Ce,Ot,ht,St){return Ce||(Ce=Ot),W+=e.slice(N,St).replace(ti,Lc),Ee&&(x=!0,W+=`' +
__e(`+Ee+`) +
'`),ht&&(S=!0,W+=`';
`+ht+`;
__p += '`),Ce&&(W+=`' +
((__t = (`+Ce+`)) == null ? '' : __t) +
'`),N=St+_e.length,_e}),W+=`';
`;var de=Fe.call(t,"variable")&&t.variable;if(!de)W=`with (obj) {
`+W+`
}
`;else if(_a.test(de))throw new be(h);W=(S?W.replace(ra,""):W).replace(ia,"$1").replace(aa,"$1;"),W="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var Te=zs(function(){return Le(s,oe+"return "+W).apply(i,v)});if(Te.source=W,To(Te))throw Te;return Te}function a_(e){return Ne(e).toLowerCase()}function o_(e){return Ne(e).toUpperCase()}function u_(e,t,n){if(e=Ne(e),e&&(n||t===i))return nu(e);if(!e||!(t=At(t)))return e;var r=qt(e),a=qt(t),s=ru(r,a),v=iu(r,a)+1;return yn(r,s,v).join("")}function s_(e,t,n){if(e=Ne(e),e&&(n||t===i))return e.slice(0,ou(e)+1);if(!e||!(t=At(t)))return e;var r=qt(e),a=iu(r,qt(t))+1;return yn(r,0,a).join("")}function c_(e,t,n){if(e=Ne(e),e&&(n||t===i))return e.replace(Tr,"");if(!e||!(t=At(t)))return e;var r=qt(e),a=ru(r,qt(t));return yn(r,a).join("")}function f_(e,t){var n=G,r=z;if(Ke(t)){var a="separator"in t?t.separator:a;n="length"in t?Ae(t.length):n,r="omission"in t?At(t.omission):r}e=Ne(e);var s=e.length;if(Qn(e)){var v=qt(e);s=v.length}if(n>=s)return e;var x=n-er(r);if(x<1)return r;var S=v?yn(v,0,x).join(""):e.slice(0,x);if(a===i)return S+r;if(v&&(x+=S.length-x),Oo(a)){if(e.slice(x).search(a)){var N,M=S;for(a.global||(a=Ba(a.source,Ne(Qr.exec(a))+"g")),a.lastIndex=0;N=a.exec(M);)var W=N.index;S=S.slice(0,W===i?x:W)}}else if(e.indexOf(At(a),x)!=x){var Q=S.lastIndexOf(a);Q>-1&&(S=S.slice(0,Q))}return S+r}function l_(e){return e=Ne(e),e&&oa.test(e)?e.replace(Vr,Uc):e}var h_=ur(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Io=Vu("toUpperCase");function Ks(e,t,n){return e=Ne(e),t=n?i:t,t===i?kc(e)?$c(e):Oc(e):e.match(t)||[]}var zs=Oe(function(e,t){try{return wt(e,i,t)}catch(n){return To(n)?n:new be(n)}}),p_=tn(function(e,t){return Ct(t,function(n){n=zt(n),Qt(e,n,xo(e[n],e))}),e});function d_(e){var t=e==null?0:e.length,n=pe();return e=t?He(e,function(r){if(typeof r[1]!="function")throw new Lt(c);return[n(r[0]),r[1]]}):[],Oe(function(r){for(var a=-1;++a<t;){var s=e[a];if(wt(s[0],this,r))return wt(s[1],this,r)}})}function __(e){return Bf(kt(e,d))}function Eo(e){return function(){return e}}function g_(e,t){return e==null||e!==e?t:e}var v_=Ju(),m_=Ju(!0);function vt(e){return e}function Ro(e){return Su(typeof e=="function"?e:kt(e,d))}function y_(e){return Iu(kt(e,d))}function b_(e,t){return Eu(e,kt(t,d))}var w_=Oe(function(e,t){return function(n){return jr(n,e,t)}}),x_=Oe(function(e,t){return function(n){return jr(e,n,t)}});function Co(e,t,n){var r=et(t),a=Si(t,r);n==null&&!(Ke(t)&&(a.length||!r.length))&&(n=t,t=e,e=this,a=Si(t,et(t)));var s=!(Ke(n)&&"chain"in n)||!!n.chain,v=rn(e);return Ct(a,function(x){var S=t[x];e[x]=S,v&&(e.prototype[x]=function(){var N=this.__chain__;if(s||N){var M=e(this.__wrapped__),W=M.__actions__=dt(this.__actions__);return W.push({func:S,args:arguments,thisArg:e}),M.__chain__=N,M}return S.apply(e,pn([this.value()],arguments))})}),e}function A_(){return nt._===this&&(nt._=Vc),this}function Lo(){}function T_(e){return e=Ae(e),Oe(function(t){return Ru(t,e)})}var O_=so(He),S_=so(Zo),P_=so(Da);function Vs(e){return go(e)?ka(zt(e)):rl(e)}function I_(e){return function(t){return e==null?i:Nn(e,t)}}var E_=Xu(),R_=Xu(!0);function Do(){return[]}function ko(){return!1}function C_(){return{}}function L_(){return""}function D_(){return!0}function k_(e,t){if(e=Ae(e),e<1||e>se)return[];var n=ee,r=ot(e,ee);t=pe(t),e-=ee;for(var a=Ma(r,t);++n<e;)t(n);return a}function N_(e){return we(e)?He(e,zt):Tt(e)?[e]:dt(ds(Ne(e)))}function F_(e){var t=++Kc;return Ne(e)+t}var M_=Li(function(e,t){return e+t},0),j_=co("ceil"),U_=Li(function(e,t){return e/t},1),B_=co("floor");function q_(e){return e&&e.length?Oi(e,vt,Va):i}function $_(e,t){return e&&e.length?Oi(e,pe(t,2),Va):i}function G_(e){return eu(e,vt)}function W_(e,t){return eu(e,pe(t,2))}function H_(e){return e&&e.length?Oi(e,vt,Xa):i}function K_(e,t){return e&&e.length?Oi(e,pe(t,2),Xa):i}var z_=Li(function(e,t){return e*t},1),V_=co("round"),Y_=Li(function(e,t){return e-t},0);function J_(e){return e&&e.length?Fa(e,vt):0}function Z_(e,t){return e&&e.length?Fa(e,pe(t,2)):0}return u.after=yp,u.ary=Os,u.assign=od,u.assignIn=Us,u.assignInWith=Hi,u.assignWith=ud,u.at=sd,u.before=Ss,u.bind=xo,u.bindAll=p_,u.bindKey=Ps,u.castArray=Cp,u.chain=xs,u.chunk=Bl,u.compact=ql,u.concat=$l,u.cond=d_,u.conforms=__,u.constant=Eo,u.countBy=Jh,u.create=cd,u.curry=Is,u.curryRight=Es,u.debounce=Rs,u.defaults=fd,u.defaultsDeep=ld,u.defer=bp,u.delay=wp,u.difference=Gl,u.differenceBy=Wl,u.differenceWith=Hl,u.drop=Kl,u.dropRight=zl,u.dropRightWhile=Vl,u.dropWhile=Yl,u.fill=Jl,u.filter=Xh,u.flatMap=tp,u.flatMapDeep=np,u.flatMapDepth=rp,u.flatten=ms,u.flattenDeep=Zl,u.flattenDepth=Xl,u.flip=xp,u.flow=v_,u.flowRight=m_,u.fromPairs=Ql,u.functions=md,u.functionsIn=yd,u.groupBy=ip,u.initial=th,u.intersection=nh,u.intersectionBy=rh,u.intersectionWith=ih,u.invert=wd,u.invertBy=xd,u.invokeMap=op,u.iteratee=Ro,u.keyBy=up,u.keys=et,u.keysIn=gt,u.map=Ui,u.mapKeys=Td,u.mapValues=Od,u.matches=y_,u.matchesProperty=b_,u.memoize=qi,u.merge=Sd,u.mergeWith=Bs,u.method=w_,u.methodOf=x_,u.mixin=Co,u.negate=$i,u.nthArg=T_,u.omit=Pd,u.omitBy=Id,u.once=Ap,u.orderBy=sp,u.over=O_,u.overArgs=Tp,u.overEvery=S_,u.overSome=P_,u.partial=Ao,u.partialRight=Cs,u.partition=cp,u.pick=Ed,u.pickBy=qs,u.property=Vs,u.propertyOf=I_,u.pull=sh,u.pullAll=bs,u.pullAllBy=ch,u.pullAllWith=fh,u.pullAt=lh,u.range=E_,u.rangeRight=R_,u.rearg=Op,u.reject=hp,u.remove=hh,u.rest=Sp,u.reverse=bo,u.sampleSize=dp,u.set=Cd,u.setWith=Ld,u.shuffle=_p,u.slice=ph,u.sortBy=mp,u.sortedUniq=bh,u.sortedUniqBy=wh,u.split=t_,u.spread=Pp,u.tail=xh,u.take=Ah,u.takeRight=Th,u.takeRightWhile=Oh,u.takeWhile=Sh,u.tap=qh,u.throttle=Ip,u.thru=ji,u.toArray=Fs,u.toPairs=$s,u.toPairsIn=Gs,u.toPath=N_,u.toPlainObject=js,u.transform=Dd,u.unary=Ep,u.union=Ph,u.unionBy=Ih,u.unionWith=Eh,u.uniq=Rh,u.uniqBy=Ch,u.uniqWith=Lh,u.unset=kd,u.unzip=wo,u.unzipWith=ws,u.update=Nd,u.updateWith=Fd,u.values=fr,u.valuesIn=Md,u.without=Dh,u.words=Ks,u.wrap=Rp,u.xor=kh,u.xorBy=Nh,u.xorWith=Fh,u.zip=Mh,u.zipObject=jh,u.zipObjectDeep=Uh,u.zipWith=Bh,u.entries=$s,u.entriesIn=Gs,u.extend=Us,u.extendWith=Hi,Co(u,u),u.add=M_,u.attempt=zs,u.camelCase=qd,u.capitalize=Ws,u.ceil=j_,u.clamp=jd,u.clone=Lp,u.cloneDeep=kp,u.cloneDeepWith=Np,u.cloneWith=Dp,u.conformsTo=Fp,u.deburr=Hs,u.defaultTo=g_,u.divide=U_,u.endsWith=$d,u.eq=Gt,u.escape=Gd,u.escapeRegExp=Wd,u.every=Zh,u.find=Qh,u.findIndex=gs,u.findKey=hd,u.findLast=ep,u.findLastIndex=vs,u.findLastKey=pd,u.floor=B_,u.forEach=As,u.forEachRight=Ts,u.forIn=dd,u.forInRight=_d,u.forOwn=gd,u.forOwnRight=vd,u.get=So,u.gt=Mp,u.gte=jp,u.has=bd,u.hasIn=Po,u.head=ys,u.identity=vt,u.includes=ap,u.indexOf=eh,u.inRange=Ud,u.invoke=Ad,u.isArguments=jn,u.isArray=we,u.isArrayBuffer=Up,u.isArrayLike=_t,u.isArrayLikeObject=Ve,u.isBoolean=Bp,u.isBuffer=bn,u.isDate=qp,u.isElement=$p,u.isEmpty=Gp,u.isEqual=Wp,u.isEqualWith=Hp,u.isError=To,u.isFinite=Kp,u.isFunction=rn,u.isInteger=Ls,u.isLength=Gi,u.isMap=Ds,u.isMatch=zp,u.isMatchWith=Vp,u.isNaN=Yp,u.isNative=Jp,u.isNil=Xp,u.isNull=Zp,u.isNumber=ks,u.isObject=Ke,u.isObjectLike=ze,u.isPlainObject=Wr,u.isRegExp=Oo,u.isSafeInteger=Qp,u.isSet=Ns,u.isString=Wi,u.isSymbol=Tt,u.isTypedArray=cr,u.isUndefined=ed,u.isWeakMap=td,u.isWeakSet=nd,u.join=ah,u.kebabCase=Hd,u.last=Ft,u.lastIndexOf=oh,u.lowerCase=Kd,u.lowerFirst=zd,u.lt=rd,u.lte=id,u.max=q_,u.maxBy=$_,u.mean=G_,u.meanBy=W_,u.min=H_,u.minBy=K_,u.stubArray=Do,u.stubFalse=ko,u.stubObject=C_,u.stubString=L_,u.stubTrue=D_,u.multiply=z_,u.nth=uh,u.noConflict=A_,u.noop=Lo,u.now=Bi,u.pad=Vd,u.padEnd=Yd,u.padStart=Jd,u.parseInt=Zd,u.random=Bd,u.reduce=fp,u.reduceRight=lp,u.repeat=Xd,u.replace=Qd,u.result=Rd,u.round=V_,u.runInContext=A,u.sample=pp,u.size=gp,u.snakeCase=e_,u.some=vp,u.sortedIndex=dh,u.sortedIndexBy=_h,u.sortedIndexOf=gh,u.sortedLastIndex=vh,u.sortedLastIndexBy=mh,u.sortedLastIndexOf=yh,u.startCase=n_,u.startsWith=r_,u.subtract=Y_,u.sum=J_,u.sumBy=Z_,u.template=i_,u.times=k_,u.toFinite=an,u.toInteger=Ae,u.toLength=Ms,u.toLower=a_,u.toNumber=Mt,u.toSafeInteger=ad,u.toString=Ne,u.toUpper=o_,u.trim=u_,u.trimEnd=s_,u.trimStart=c_,u.truncate=f_,u.unescape=l_,u.uniqueId=F_,u.upperCase=h_,u.upperFirst=Io,u.each=As,u.eachRight=Ts,u.first=ys,Co(u,function(){var e={};return Ht(u,function(t,n){Fe.call(u.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),u.VERSION=g,Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),Ct(["drop","take"],function(e,t){Re.prototype[e]=function(n){n=n===i?1:Xe(Ae(n),0);var r=this.__filtered__&&!t?new Re(this):this.clone();return r.__filtered__?r.__takeCount__=ot(n,r.__takeCount__):r.__views__.push({size:ot(n,ee),type:e+(r.__dir__<0?"Right":"")}),r},Re.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ct(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==je||n==le;Re.prototype[e]=function(a){var s=this.clone();return s.__iteratees__.push({iteratee:pe(a,3),type:n}),s.__filtered__=s.__filtered__||r,s}}),Ct(["head","last"],function(e,t){var n="take"+(t?"Right":"");Re.prototype[e]=function(){return this[n](1).value()[0]}}),Ct(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Re.prototype[e]=function(){return this.__filtered__?new Re(this):this[n](1)}}),Re.prototype.compact=function(){return this.filter(vt)},Re.prototype.find=function(e){return this.filter(e).head()},Re.prototype.findLast=function(e){return this.reverse().find(e)},Re.prototype.invokeMap=Oe(function(e,t){return typeof e=="function"?new Re(this):this.map(function(n){return jr(n,e,t)})}),Re.prototype.reject=function(e){return this.filter($i(pe(e)))},Re.prototype.slice=function(e,t){e=Ae(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Re(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=Ae(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Re.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Re.prototype.toArray=function(){return this.take(ee)},Ht(Re.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=u[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);a&&(u.prototype[t]=function(){var v=this.__wrapped__,x=r?[1]:arguments,S=v instanceof Re,N=x[0],M=S||we(v),W=function(Ee){var Ce=a.apply(u,pn([Ee],x));return r&&Q?Ce[0]:Ce};M&&n&&typeof N=="function"&&N.length!=1&&(S=M=!1);var Q=this.__chain__,oe=!!this.__actions__.length,de=s&&!Q,Te=S&&!oe;if(!s&&M){v=Te?v:new Re(this);var _e=e.apply(v,x);return _e.__actions__.push({func:ji,args:[W],thisArg:i}),new Dt(_e,Q)}return de&&Te?e.apply(this,x):(_e=this.thru(W),de?r?_e.value()[0]:_e.value():_e)})}),Ct(["pop","push","shift","sort","splice","unshift"],function(e){var t=fi[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var a=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(we(s)?s:[],a)}return this[n](function(v){return t.apply(we(v)?v:[],a)})}}),Ht(Re.prototype,function(e,t){var n=u[t];if(n){var r=n.name+"";Fe.call(ir,r)||(ir[r]=[]),ir[r].push({name:t,func:n})}}),ir[Ci(i,D).name]=[{name:"wrapper",func:i}],Re.prototype.clone=lf,Re.prototype.reverse=hf,Re.prototype.value=pf,u.prototype.at=$h,u.prototype.chain=Gh,u.prototype.commit=Wh,u.prototype.next=Hh,u.prototype.plant=zh,u.prototype.reverse=Vh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Yh,u.prototype.first=u.prototype.head,Cr&&(u.prototype[Cr]=Kh),u},tr=Gc();Rn?((Rn.exports=tr)._=tr,Ea._=tr):nt._=tr}).call(xn)})(Zi,Zi.exports);var pg=Zi.exports;const Pt=$o(pg),dg=[{category:"環境",fields:[{label:"是否根據 ISO 14064",type:"boolean",level:1,keywords:["14064"]},{label:"範疇一（值）",type:"number",keywords:["範疇一","類別一","溫室氣體","二氧化碳當量"],level:3,notes:"要抓的是台灣全場的，可能會有各工廠、或是全世界，單位：公噸CO2e"},{label:"範疇二（值）",type:"number",level:3,keywords:["範疇二","類別二","溫室氣體","二氧化碳當量"],notes:"要抓的是台灣全場的，可能會有各工廠、或是全世界，單位：公噸CO2e"},{label:"年度總用電量",type:"number",level:8,keywords:["外購電力","用電量","能源"],notes:"單位：千度，電力只看電力欄位，因為可能會有其他石化燃料等"},{label:"再生能源裝置容量",type:"number",level:3,keywords:["裝置容量","再生能源"],notes:"單位：KW ，可能是寫「沒有使用」"},{label:"總取水量",type:"number",level:3,keywords:["取水量","水資源"],notes:"單位：噸"},{label:"耗用水量",type:"number",level:3,keywords:["耗用水","耗水量","水資源"]},{label:"一般事業廢棄物",type:"number",level:1,keywords:["事業廢棄物","廢棄物"],notes:"單位：噸"}]},{category:"社會",fields:[{label:"正式人員",type:"number",level:1,keywords:["正式","正職","不定期","人力","勞動"]},{label:"男性正式員工",type:"number",level:1,keywords:["男性員工","人力","勞動"]},{label:"女性正式員工",type:"number",level:1,keywords:["女性員工","人力","勞動"]},{label:"新進人數",type:"number",level:1,keywords:["新進"]},{label:"離職人數",type:"number",level:1,keywords:["離職"]},{label:"職災事件數",type:"number",level:1,keywords:["職災","受傷","死亡"],notes:"單位：件數"},{label:"工安意外細節",type:"string",level:8,keywords:["火災","事故"],notes:"文字質性描述，例如「揭露南極工廠火災事件」"}]},{category:"治理",fields:[{label:"營利事業所得稅繳納金額",type:"number",level:8,keywords:["所得稅","繳納","營收","支付政府款項"],notes:"單位：元"},{label:"是否揭露政府補助（GRI-201-4）",type:"boolean",level:5,keywords:["GRI 201","補貼","補助"]},{label:"研發經費投入金額",type:"number",level:3,keywords:["研發","研發費用"],notes:"單位：元"},{label:"ISO 14001（環境管理系統）",type:"boolean",level:1,keywords:["14001"]},{label:"ISO 45001（職業安全衛生管理系統）",type:"boolean",level:1,keywords:["45001"]}]}],_g=dg,zi=[{year:2021,reports:[{id:"03707901",name:"中油",totalPage:225},{id:"84613756",name:"中龍鋼鐵",totalPage:128},{id:"03244509",name:"亞泥",totalPage:148},{id:"28112667",name:"力積電",totalPage:195},{id:"86522210",name:"台塑化",totalPage:142,pageOffset:-2},{id:"28518076",name:"台灣美光記憶體",totalPage:85},{id:"11914002",name:"台玻",totalPage:124,pageOffset:-2},{id:"22099131",name:"台積電",totalPage:235},{id:"34202841",name:"榮成",totalPage:147,pageOffset:-4},{id:"85066002",name:"永豐餘",totalPage:74,pageOffset:-2},{id:"12800225",name:"群創",totalPage:179,pageOffset:-1},{id:"55389357",name:"豐興",totalPage:104,pageOffset:-2},{id:"11384806",name:"長春石化",totalPage:161,pageOffset:-1}]}],gg={class:"onboardCrowd center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},vg={key:0,class:"onboardCrowd__init"},mg=te("h1",{class:"mt0 f4 f3-ns"},"歡迎參與標記原型工具測試！",-1),yg=te("p",null,[It("接下來，我們將隨機挑選幾個 ESG 裡的重要欄位，例如碳排放、員工人數，請你協助從報告書中，找到答案。 另外，我們也會找一些其他人已經標記過的欄位，請你確認他們的標記是否正確。 這些欄位的難度不一，有些非常簡單，有些則需要費心判讀，所以如果發現找不到答案，請不要灰心，可以跳到下一題。"),te("strong",null,"在今天活動結束後，我們會計算所有人的積分，並且發放紀念品給前幾名的參與者。")],-1),bg=te("p",null,'由於測試需要閱讀 PDF，請盡量使用 12" 螢幕以上的裝置，才能順利操作標記工具。 如果你手邊的螢幕太小，也歡迎直接來找我們借用筆電。',-1),wg=te("p",null,"在填答結束後，會請你填寫使用心得的問卷，問卷的填答資料，會以 CC0 的方式授權公開，請記得不要填寫敏感資訊 🥹。 最後，除了問卷外，也歡迎隨時找我們聊聊，提供你的使用心得，或是對於工具的建議。",-1),xg=te("div",{class:"bb ph4 b--moon-gray mv4"},null,-1),Ag=["onSubmit"],Tg={class:"db mb3",for:"userId"},Og=te("div",{class:"dark-gray f6 mb1"},"請輸入你的暱稱，作為統計積分計算使用",-1),Sg=["disabled"],Pg={key:1,class:"onboardCrowd__empty"},Ig=te("h1",{class:"mt0 f4 f3-ns"},"所有題目都已經被標記完成！",-1),Eg=te("p",null,"請期待本日的成果報告，或來找我們聊聊你的使用心得。",-1),Rg=[Ig,Eg],Cg={key:2,class:"onboardCrowd__ready"},Lg=te("h1",{class:"mt0 f4 f3-ns"},"抽籤完成！以下是想請你協助標記的題目：",-1),Dg={key:0,class:"mv3"},kg=te("div",{class:"mb2 f4"},[It("要"),te("strong",null,"標記"),It("的報告書與欄位")],-1),Ng={class:"flex-none mr2 fw5"},Fg={class:"flex-auto b"},Mg={key:1,class:"mv4"},jg=te("div",{class:"mb2 f4"},[It("要"),te("strong",null,"驗證"),It("的報告書與欄位")],-1),Ug={class:"flex-none mr2 fw5"},Bg={class:"flex-auto b"},qg=un({__name:"OnboardCrowd",emits:["userId","tasks"],setup(ae,{emit:ye}){const i=oc(),g=Pe(!0),_=Pe(!1),f=Pe(!1),c=Pe(""),h=Pe([]),m=Pe([]),b=st(()=>_.value?"機器人正在幫忙抽籤中... 🤖":"載入題庫"),w=st(()=>c.value.length>0);async function d(){_.value=!0;let T=[];try{T=await i.getPendingFields(c.value)}catch(k){alert(k)}await new Promise(k=>{setTimeout(k,300+Math.random()*2e3)});let D=[];try{D=await i.getPendingVerifications(c.value)}catch(k){alert(k)}const R=C(T),H=O(D);g.value=!1,!R.length&&!H.length?f.value=!0:(h.value=R,m.value=H),_.value=!1}const P=_g.flatMap(T=>T.fields.map(D=>({category:T.category,...D})));function O(T,D=6){const R=Pt.shuffle(T.slice(0,D*3)),k=Pt.uniq(R.map(q=>q.get("公司統編"))).reduce((q,j,U)=>(q[j]=U,q),{});return R.sort((q,j)=>k[q.get("公司統編")]-k[j.get("公司統編")]),R.slice(0,D).map(q=>{const j=zi[0].reports.find(V=>V.id===q.get("公司統編")),U=P.find(V=>V.label===q.get("欄位標籤"));return{company:j,year:q.get("報告書年份"),data:q,...U}})}function C(T,D=2){const R=Pt.shuffle(Pt.uniq(T.map(ne=>ne.get("公司統編")))),H=zi[0].year,k=zi[0].reports.map(ne=>ne.id),B=Pt.shuffle(Pt.difference(k,R)),j=(B.length?B:R)[0],U=T.filter(ne=>ne.get("公司統編")===j).map(ne=>ne.get("欄位標籤")),V=Pt.shuffle(Pt.difference(P,U)),G=zi[0].reports.find(ne=>ne.id===j);return V.slice(0,D).map(ne=>({company:G,year:H,...ne}))}function F(){ye("userId",c.value),ye("tasks",{submissions:h.value,verifications:m.value})}return(T,D)=>(Se(),De("div",gg,[ue(g)?(Se(),De("div",vg,[mg,yg,bg,wg,xg,te("form",{onSubmit:Yi(d,["prevent"])},[te("label",Tg,[Og,lr(te("input",{"onUpdate:modelValue":D[0]||(D[0]=R=>ec(c)?c.value=R:null),type:"text"},null,512),[[Hr,ue(c),void 0,{trim:!0}]])]),te("button",{class:"pv2 ph4",type:"submit",disabled:!ue(w)||ue(_)},Je(ue(b)),9,Sg)],40,Ag)])):ue(f)?(Se(),De("div",Pg,Rg)):(Se(),De("div",Cg,[Lg,ue(h).length?(Se(),De("div",Dg,[kg,(Se(!0),De(Un,null,hr(ue(h),R=>(Se(),De("div",{class:"flex items-center f6 gray",key:R.label},[te("div",Ng,Je(R.company.name),1),te("div",Fg,Je(R.category)+" | "+Je(R.label),1)]))),128))])):pr("",!0),ue(m).length?(Se(),De("div",Mg,[jg,(Se(!0),De(Un,null,hr(ue(m),R=>(Se(),De("div",{class:"flex items-center f6 gray",key:R.label},[te("div",Ug,Je(R.company.name),1),te("div",Bg,Je(R.category)+" | "+Je(R.label),1)]))),128))])):pr("",!0),te("button",{class:"pv2 ph4",onClick:F},"開始標記與驗證")]))]))}});var uc={exports:{}};/*! algoliasearch.umd.js | 4.19.1 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(ae,ye){(function(i,g){ae.exports=g()})(xn,function(){function i(o,l,p){return l in o?Object.defineProperty(o,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[l]=p,o}function g(o,l){var p=Object.keys(o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);l&&(y=y.filter(function(I){return Object.getOwnPropertyDescriptor(o,I).enumerable})),p.push.apply(p,y)}return p}function _(o){for(var l=1;l<arguments.length;l++){var p=arguments[l]!=null?arguments[l]:{};l%2?g(Object(p),!0).forEach(function(y){i(o,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):g(Object(p)).forEach(function(y){Object.defineProperty(o,y,Object.getOwnPropertyDescriptor(p,y))})}return o}function f(o,l){if(o==null)return{};var p,y,I=function(J,$){if(J==null)return{};var Z,ie,X={},me=Object.keys(J);for(ie=0;ie<me.length;ie++)Z=me[ie],$.indexOf(Z)>=0||(X[Z]=J[Z]);return X}(o,l);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(o);for(y=0;y<K.length;y++)p=K[y],l.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(o,p)&&(I[p]=o[p])}return I}function c(o,l){return function(p){if(Array.isArray(p))return p}(o)||function(p,y){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]"){var I=[],K=!0,J=!1,$=void 0;try{for(var Z,ie=p[Symbol.iterator]();!(K=(Z=ie.next()).done)&&(I.push(Z.value),!y||I.length!==y);K=!0);}catch(X){J=!0,$=X}finally{try{K||ie.return==null||ie.return()}finally{if(J)throw $}}return I}}(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(o){return function(l){if(Array.isArray(l)){for(var p=0,y=new Array(l.length);p<l.length;p++)y[p]=l[p];return y}}(o)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(o){var l,p="algoliasearch-client-js-".concat(o.key),y=function(){return l===void 0&&(l=o.localStorage||window.localStorage),l},I=function(){return JSON.parse(y().getItem(p)||"{}")},K=function($){y().setItem(p,JSON.stringify($))},J=function(){var $=o.timeToLive?1e3*o.timeToLive:null,Z=I(),ie=Object.fromEntries(Object.entries(Z).filter(function(me){return c(me,2)[1].timestamp!==void 0}));if(K(ie),$){var X=Object.fromEntries(Object.entries(ie).filter(function(me){var ge=c(me,2)[1],Ie=new Date().getTime();return!(ge.timestamp+$<Ie)}));K(X)}};return{get:function($,Z){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){J();var X=JSON.stringify($);return I()[X]}).then(function(X){return Promise.all([X?X.value:Z(),X!==void 0])}).then(function(X){var me=c(X,2),ge=me[0],Ie=me[1];return Promise.all([ge,Ie||ie.miss(ge)])}).then(function(X){return c(X,1)[0]})},set:function($,Z){return Promise.resolve().then(function(){var ie=I();return ie[JSON.stringify($)]={timestamp:new Date().getTime(),value:Z},y().setItem(p,JSON.stringify(ie)),Z})},delete:function($){return Promise.resolve().then(function(){var Z=I();delete Z[JSON.stringify($)],y().setItem(p,JSON.stringify(Z))})},clear:function(){return Promise.resolve().then(function(){y().removeItem(p)})}}}function b(o){var l=h(o.caches),p=l.shift();return p===void 0?{get:function(y,I){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},J=I();return J.then(function($){return Promise.all([$,K.miss($)])}).then(function($){return c($,1)[0]})},set:function(y,I){return Promise.resolve(I)},delete:function(y){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(y,I){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return p.get(y,I,K).catch(function(){return b({caches:l}).get(y,I,K)})},set:function(y,I){return p.set(y,I).catch(function(){return b({caches:l}).set(y,I)})},delete:function(y){return p.delete(y).catch(function(){return b({caches:l}).delete(y)})},clear:function(){return p.clear().catch(function(){return b({caches:l}).clear()})}}}function w(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},l={};return{get:function(p,y){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},K=JSON.stringify(p);if(K in l)return Promise.resolve(o.serializable?JSON.parse(l[K]):l[K]);var J=y(),$=I&&I.miss||function(){return Promise.resolve()};return J.then(function(Z){return $(Z)}).then(function(){return J})},set:function(p,y){return l[JSON.stringify(p)]=o.serializable?JSON.stringify(y):y,Promise.resolve(y)},delete:function(p){return delete l[JSON.stringify(p)],Promise.resolve()},clear:function(){return l={},Promise.resolve()}}}function d(o,l,p){var y={"x-algolia-api-key":p,"x-algolia-application-id":l};return{headers:function(){return o===D.WithinHeaders?y:{}},queryParameters:function(){return o===D.WithinQueryParameters?y:{}}}}function P(o){var l=0;return o(function p(){return l++,new Promise(function(y){setTimeout(function(){y(o(p))},Math.min(100*l,1e3))})})}function O(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(p,y){return Promise.resolve()};return Object.assign(o,{wait:function(p){return O(o.then(function(y){return Promise.all([l(y,p),y])}).then(function(y){return y[1]}))}})}function C(o){for(var l=o.length-1;l>0;l--){var p=Math.floor(Math.random()*(l+1)),y=o[l];o[l]=o[p],o[p]=y}return o}function F(o,l){return l&&Object.keys(l).forEach(function(p){o[p]=l[p](o)}),o}function T(o){for(var l=arguments.length,p=new Array(l>1?l-1:0),y=1;y<l;y++)p[y-1]=arguments[y];var I=0;return o.replace(/%s/g,function(){return encodeURIComponent(p[I++])})}var D={WithinQueryParameters:0,WithinHeaders:1};function R(o,l){var p=o||{},y=p.data||{};return Object.keys(p).forEach(function(I){["timeout","headers","queryParameters","data","cacheable"].indexOf(I)===-1&&(y[I]=p[I])}),{data:Object.entries(y).length>0?y:void 0,timeout:p.timeout||l,headers:p.headers||{},queryParameters:p.queryParameters||{},cacheable:p.cacheable}}var H={Read:1,Write:2,Any:3},k=1,B=2,q=3;function j(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k;return _(_({},o),{},{status:l,lastUpdate:Date.now()})}function U(o){return typeof o=="string"?{protocol:"https",url:o,accept:H.Any}:{protocol:o.protocol||"https",url:o.url,accept:o.accept||H.Any}}var V="DELETE",G="GET",z="POST",ne="PUT";function he(o,l){return Promise.all(l.map(function(p){return o.get(p,function(){return Promise.resolve(j(p))})})).then(function(p){var y=p.filter(function(J){return function($){return $.status===k||Date.now()-$.lastUpdate>12e4}(J)}),I=p.filter(function(J){return function($){return $.status===q&&Date.now()-$.lastUpdate<=12e4}(J)}),K=[].concat(h(y),h(I));return{getTimeout:function(J,$){return(I.length===0&&J===0?1:I.length+3+J)*$},statelessHosts:K.length>0?K.map(function(J){return U(J)}):l}})}function je(o,l,p,y){var I=[],K=function(ge,Ie){if(!(ge.method===G||ge.data===void 0&&Ie.data===void 0)){var xe=Array.isArray(ge.data)?ge.data:_(_({},ge.data),Ie.data);return JSON.stringify(xe)}}(p,y),J=function(ge,Ie){var xe=_(_({},ge.headers),Ie.headers),Me={};return Object.keys(xe).forEach(function($e){var tt=xe[$e];Me[$e.toLowerCase()]=tt}),Me}(o,y),$=p.method,Z=p.method!==G?{}:_(_({},p.data),y.data),ie=_(_(_({"x-algolia-agent":o.userAgent.value},o.queryParameters),Z),y.queryParameters),X=0,me=function ge(Ie,xe){var Me=Ie.pop();if(Me===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:ve(I)};var $e={data:K,headers:J,method:$,url:Y(Me,p.path,ie),connectTimeout:xe(X,o.timeouts.connect),responseTimeout:xe(X,y.timeout)},tt=function(at){var Qe={request:$e,response:at,host:Me,triesLeft:Ie.length};return I.push(Qe),Qe},In={onSuccess:function(at){return function(Qe){try{return JSON.parse(Qe.content)}catch(Jt){throw function(Et,ln){return{name:"DeserializationError",message:Et,response:ln}}(Jt.message,Qe)}}(at)},onRetry:function(at){var Qe=tt(at);return at.isTimedOut&&X++,Promise.all([o.logger.info("Retryable failure",ke(Qe)),o.hostsCache.set(Me,j(Me,at.isTimedOut?q:B))]).then(function(){return ge(Ie,xe)})},onFail:function(at){throw tt(at),function(Qe,Jt){var Et=Qe.content,ln=Qe.status,En=Et;try{En=JSON.parse(Et).message}catch{}return function(Zn,Er,Ia){return{name:"ApiError",message:Zn,status:Er,transporterStackTrace:Ia}}(En,ln,Jt)}(at,ve(I))}};return o.requester.send($e).then(function(at){return function(Qe,Jt){return function(Et){var ln=Et.status;return Et.isTimedOut||function(En){var Zn=En.isTimedOut,Er=En.status;return!Zn&&~~Er==0}(Et)||~~(ln/100)!=2&&~~(ln/100)!=4}(Qe)?Jt.onRetry(Qe):~~(Qe.status/100)==2?Jt.onSuccess(Qe):Jt.onFail(Qe)}(at,In)})};return he(o.hostsCache,l).then(function(ge){return me(h(ge.statelessHosts).reverse(),ge.getTimeout)})}function Ue(o){var l=o.hostsCache,p=o.logger,y=o.requester,I=o.requestsCache,K=o.responsesCache,J=o.timeouts,$=o.userAgent,Z=o.hosts,ie=o.queryParameters,X={hostsCache:l,logger:p,requester:y,requestsCache:I,responsesCache:K,timeouts:J,userAgent:$,headers:o.headers,queryParameters:ie,hosts:Z.map(function(me){return U(me)}),read:function(me,ge){var Ie=R(ge,X.timeouts.read),xe=function(){return je(X,X.hosts.filter(function($e){return($e.accept&H.Read)!=0}),me,Ie)};if((Ie.cacheable!==void 0?Ie.cacheable:me.cacheable)!==!0)return xe();var Me={request:me,mappedRequestOptions:Ie,transporter:{queryParameters:X.queryParameters,headers:X.headers}};return X.responsesCache.get(Me,function(){return X.requestsCache.get(Me,function(){return X.requestsCache.set(Me,xe()).then(function($e){return Promise.all([X.requestsCache.delete(Me),$e])},function($e){return Promise.all([X.requestsCache.delete(Me),Promise.reject($e)])}).then(function($e){var tt=c($e,2);return tt[0],tt[1]})})},{miss:function($e){return X.responsesCache.set(Me,$e)}})},write:function(me,ge){return je(X,X.hosts.filter(function(Ie){return(Ie.accept&H.Write)!=0}),me,R(ge,X.timeouts.write))}};return X}function le(o){var l={value:"Algolia for JavaScript (".concat(o,")"),add:function(p){var y="; ".concat(p.segment).concat(p.version!==void 0?" (".concat(p.version,")"):"");return l.value.indexOf(y)===-1&&(l.value="".concat(l.value).concat(y)),l}};return l}function Y(o,l,p){var y=se(p),I="".concat(o.protocol,"://").concat(o.url,"/").concat(l.charAt(0)==="/"?l.substr(1):l);return y.length&&(I+="?".concat(y)),I}function se(o){return Object.keys(o).map(function(l){return T("%s=%s",l,(p=o[l],Object.prototype.toString.call(p)==="[object Object]"||Object.prototype.toString.call(p)==="[object Array]"?JSON.stringify(o[l]):o[l]));var p}).join("&")}function ve(o){return o.map(function(l){return ke(l)})}function ke(o){var l=o.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return _(_({},o),{},{request:_(_({},o.request),{},{headers:_(_({},o.request.headers),l)})})}var ee=function(o){return function(l,p){return o.transporter.write({method:z,path:"2/abtests",data:l},p)}},ce=function(o){return function(l,p){return o.transporter.write({method:V,path:T("2/abtests/%s",l)},p)}},fe=function(o){return function(l,p){return o.transporter.read({method:G,path:T("2/abtests/%s",l)},p)}},it=function(o){return function(l){return o.transporter.read({method:G,path:"2/abtests"},l)}},ct=function(o){return function(l,p){return o.transporter.write({method:z,path:T("2/abtests/%s/stop",l)},p)}},mt=function(o){return function(l){return o.transporter.read({method:G,path:"1/strategies/personalization"},l)}},An=function(o){return function(l,p){return o.transporter.write({method:z,path:"1/strategies/personalization",data:l},p)}};function yt(o){return function l(p){return o.request(p).then(function(y){if(o.batch!==void 0&&o.batch(y.hits),!o.shouldStop(y))return y.cursor?l({cursor:y.cursor}):l({page:(p.page||0)+1})})}({})}var Yt=function(o){return function(l,p){var y=p||{},I=y.queryParameters,K=f(y,["queryParameters"]),J=_({acl:l},I!==void 0?{queryParameters:I}:{});return O(o.transporter.write({method:z,path:"1/keys",data:J},K),function($,Z){return P(function(ie){return Ut(o)($.key,Z).catch(function(X){if(X.status!==404)throw X;return ie()})})})}},Xi=function(o){return function(l,p,y){var I=R(y);return I.queryParameters["X-Algolia-User-ID"]=l,o.transporter.write({method:z,path:"1/clusters/mapping",data:{cluster:p}},I)}},Bn=function(o){return function(l,p,y){return o.transporter.write({method:z,path:"1/clusters/mapping/batch",data:{users:l,cluster:p}},y)}},qn=function(o){return function(l,p){return O(o.transporter.write({method:z,path:T("/1/dictionaries/%s/batch",l),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},p),function(y,I){return cn(o)(y.taskID,I)})}},Tn=function(o){return function(l,p,y){return O(o.transporter.write({method:z,path:T("1/indexes/%s/operation",l),data:{operation:"copy",destination:p}},y),function(I,K){return Bt(o)(l,{methods:{waitTask:We}}).waitTask(I.taskID,K)})}},bt=function(o){return function(l,p,y){return Tn(o)(l,p,_(_({},y),{},{scope:[Yn.Rules]}))}},On=function(o){return function(l,p,y){return Tn(o)(l,p,_(_({},y),{},{scope:[Yn.Settings]}))}},Qi=function(o){return function(l,p,y){return Tn(o)(l,p,_(_({},y),{},{scope:[Yn.Synonyms]}))}},jt=function(o){return function(l,p){return l.method===G?o.transporter.read(l,p):o.transporter.write(l,p)}},zr=function(o){return function(l,p){return O(o.transporter.write({method:V,path:T("1/keys/%s",l)},p),function(y,I){return P(function(K){return Ut(o)(l,I).then(K).catch(function(J){if(J.status!==404)throw J})})})}},ea=function(o){return function(l,p,y){var I=p.map(function(K){return{action:"deleteEntry",body:{objectID:K}}});return O(o.transporter.write({method:z,path:T("/1/dictionaries/%s/batch",l),data:{clearExistingDictionaryEntries:!1,requests:I}},y),function(K,J){return cn(o)(K.taskID,J)})}},Ut=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/keys/%s",l)},p)}},pt=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/task/%s",l.toString())},p)}},Sn=function(o){return function(l){return o.transporter.read({method:G,path:"/1/dictionaries/*/settings"},l)}},$n=function(o){return function(l){return o.transporter.read({method:G,path:"1/logs"},l)}},ta=function(o){return function(l){return o.transporter.read({method:G,path:"1/clusters/mapping/top"},l)}},Pn=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/clusters/mapping/%s",l)},p)}},na=function(o){return function(l){var p=l||{},y=p.retrieveMappings,I=f(p,["retrieveMappings"]);return y===!0&&(I.getClusters=!0),o.transporter.read({method:G,path:"1/clusters/mapping/pending"},I)}},Bt=function(o){return function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={transporter:o.transporter,appId:o.appId,indexName:l};return F(y,p.methods)}},sn=function(o){return function(l){return o.transporter.read({method:G,path:"1/keys"},l)}},_r=function(o){return function(l){return o.transporter.read({method:G,path:"1/clusters"},l)}},gr=function(o){return function(l){return o.transporter.read({method:G,path:"1/indexes"},l)}},vr=function(o){return function(l){return o.transporter.read({method:G,path:"1/clusters/mapping"},l)}},mr=function(o){return function(l,p,y){return O(o.transporter.write({method:z,path:T("1/indexes/%s/operation",l),data:{operation:"move",destination:p}},y),function(I,K){return Bt(o)(l,{methods:{waitTask:We}}).waitTask(I.taskID,K)})}},yr=function(o){return function(l,p){return O(o.transporter.write({method:z,path:"1/indexes/*/batch",data:{requests:l}},p),function(y,I){return Promise.all(Object.keys(y.taskID).map(function(K){return Bt(o)(K,{methods:{waitTask:We}}).waitTask(y.taskID[K],I)}))})}},br=function(o){return function(l,p){return o.transporter.read({method:z,path:"1/indexes/*/objects",data:{requests:l}},p)}},Gn=function(o){return function(l,p){var y=l.map(function(I){return _(_({},I),{},{params:se(I.params||{})})});return o.transporter.read({method:z,path:"1/indexes/*/queries",data:{requests:y},cacheable:!0},p)}},Wn=function(o){return function(l,p){return Promise.all(l.map(function(y){var I=y.params,K=I.facetName,J=I.facetQuery,$=f(I,["facetName","facetQuery"]);return Bt(o)(y.indexName,{methods:{searchForFacetValues:ii}}).searchForFacetValues(K,J,_(_({},p),$))}))}},wr=function(o){return function(l,p){var y=R(p);return y.queryParameters["X-Algolia-User-ID"]=l,o.transporter.write({method:V,path:"1/clusters/mapping"},y)}},ra=function(o){return function(l,p,y){var I=p.map(function(K){return{action:"addEntry",body:K}});return O(o.transporter.write({method:z,path:T("/1/dictionaries/%s/batch",l),data:{clearExistingDictionaryEntries:!0,requests:I}},y),function(K,J){return cn(o)(K.taskID,J)})}},ia=function(o){return function(l,p){return O(o.transporter.write({method:z,path:T("1/keys/%s/restore",l)},p),function(y,I){return P(function(K){return Ut(o)(l,I).catch(function(J){if(J.status!==404)throw J;return K()})})})}},aa=function(o){return function(l,p,y){var I=p.map(function(K){return{action:"addEntry",body:K}});return O(o.transporter.write({method:z,path:T("/1/dictionaries/%s/batch",l),data:{clearExistingDictionaryEntries:!1,requests:I}},y),function(K,J){return cn(o)(K.taskID,J)})}},Vr=function(o){return function(l,p,y){return o.transporter.read({method:z,path:T("/1/dictionaries/%s/search",l),data:{query:p},cacheable:!0},y)}},Yr=function(o){return function(l,p){return o.transporter.read({method:z,path:"1/clusters/mapping/search",data:{query:l}},p)}},oa=function(o){return function(l,p){return O(o.transporter.write({method:ne,path:"/1/dictionaries/*/settings",data:l},p),function(y,I){return cn(o)(y.taskID,I)})}},ua=function(o){return function(l,p){var y=Object.assign({},p),I=p||{},K=I.queryParameters,J=f(I,["queryParameters"]),$=K?{queryParameters:K}:{},Z=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return O(o.transporter.write({method:ne,path:T("1/keys/%s",l),data:$},J),function(ie,X){return P(function(me){return Ut(o)(l,X).then(function(ge){return function(Ie){return Object.keys(y).filter(function(xe){return Z.indexOf(xe)!==-1}).every(function(xe){if(Array.isArray(Ie[xe])&&Array.isArray(y[xe])){var Me=Ie[xe];return Me.length===y[xe].length&&Me.every(function($e,tt){return $e===y[xe][tt]})}return Ie[xe]===y[xe]})}(ge)?Promise.resolve():me()})})})}},cn=function(o){return function(l,p){return P(function(y){return pt(o)(l,p).then(function(I){return I.status!=="published"?y():void 0})})}},Jr=function(o){return function(l,p){return O(o.transporter.write({method:z,path:T("1/indexes/%s/batch",o.indexName),data:{requests:l}},p),function(y,I){return We(o)(y.taskID,I)})}},Zr=function(o){return function(l){return yt(_(_({shouldStop:function(p){return p.cursor===void 0}},l),{},{request:function(p){return o.transporter.read({method:z,path:T("1/indexes/%s/browse",o.indexName),data:p},l)}}))}},sa=function(o){return function(l){var p=_({hitsPerPage:1e3},l);return yt(_(_({shouldStop:function(y){return y.hits.length<p.hitsPerPage}},p),{},{request:function(y){return Sr(o)("",_(_({},p),y)).then(function(I){return _(_({},I),{},{hits:I.hits.map(function(K){return delete K._highlightResult,K})})})}}))}},ca=function(o){return function(l){var p=_({hitsPerPage:1e3},l);return yt(_(_({shouldStop:function(y){return y.hits.length<p.hitsPerPage}},p),{},{request:function(y){return Pr(o)("",_(_({},p),y)).then(function(I){return _(_({},I),{},{hits:I.hits.map(function(K){return delete K._highlightResult,K})})})}}))}},xr=function(o){return function(l,p,y){var I=y||{},K=I.batchSize,J=f(I,["batchSize"]),$={taskIDs:[],objectIDs:[]};return O(function Z(){var ie,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,me=[];for(ie=X;ie<l.length&&(me.push(l[ie]),me.length!==(K||1e3));ie++);return me.length===0?Promise.resolve($):Jr(o)(me.map(function(ge){return{action:p,body:ge}}),J).then(function(ge){return $.objectIDs=$.objectIDs.concat(ge.objectIDs),$.taskIDs.push(ge.taskID),ie++,Z(ie)})}(),function(Z,ie){return Promise.all(Z.taskIDs.map(function(X){return We(o)(X,ie)}))})}},Ar=function(o){return function(l){return O(o.transporter.write({method:z,path:T("1/indexes/%s/clear",o.indexName)},l),function(p,y){return We(o)(p.taskID,y)})}},fa=function(o){return function(l){var p=l||{},y=p.forwardToReplicas,I=R(f(p,["forwardToReplicas"]));return y&&(I.queryParameters.forwardToReplicas=1),O(o.transporter.write({method:z,path:T("1/indexes/%s/rules/clear",o.indexName)},I),function(K,J){return We(o)(K.taskID,J)})}},Tr=function(o){return function(l){var p=l||{},y=p.forwardToReplicas,I=R(f(p,["forwardToReplicas"]));return y&&(I.queryParameters.forwardToReplicas=1),O(o.transporter.write({method:z,path:T("1/indexes/%s/synonyms/clear",o.indexName)},I),function(K,J){return We(o)(K.taskID,J)})}},la=function(o){return function(l,p){return O(o.transporter.write({method:z,path:T("1/indexes/%s/deleteByQuery",o.indexName),data:l},p),function(y,I){return We(o)(y.taskID,I)})}},ha=function(o){return function(l){return O(o.transporter.write({method:V,path:T("1/indexes/%s",o.indexName)},l),function(p,y){return We(o)(p.taskID,y)})}},pa=function(o){return function(l,p){return O(Xr(o)([l],p).then(function(y){return{taskID:y.taskIDs[0]}}),function(y,I){return We(o)(y.taskID,I)})}},Xr=function(o){return function(l,p){var y=l.map(function(I){return{objectID:I}});return xr(o)(y,fn.DeleteObject,p)}},da=function(o){return function(l,p){var y=p||{},I=y.forwardToReplicas,K=R(f(y,["forwardToReplicas"]));return I&&(K.queryParameters.forwardToReplicas=1),O(o.transporter.write({method:V,path:T("1/indexes/%s/rules/%s",o.indexName,l)},K),function(J,$){return We(o)(J.taskID,$)})}},_a=function(o){return function(l,p){var y=p||{},I=y.forwardToReplicas,K=R(f(y,["forwardToReplicas"]));return I&&(K.queryParameters.forwardToReplicas=1),O(o.transporter.write({method:V,path:T("1/indexes/%s/synonyms/%s",o.indexName,l)},K),function(J,$){return We(o)(J.taskID,$)})}},ga=function(o){return function(l){return ei(o)(l).then(function(){return!0}).catch(function(p){if(p.status!==404)throw p;return!1})}},va=function(o){return function(l,p,y){return o.transporter.read({method:z,path:T("1/answers/%s/prediction",o.indexName),data:{query:l,queryLanguages:p},cacheable:!0},y)}},Qr=function(o){return function(l,p){var y=p||{},I=y.query,K=y.paginate,J=f(y,["query","paginate"]),$=0;return function Z(){return ri(o)(I||"",_(_({},J),{},{page:$})).then(function(ie){for(var X=0,me=Object.entries(ie.hits);X<me.length;X++){var ge=c(me[X],2),Ie=ge[0],xe=ge[1];if(l(xe))return{object:xe,position:parseInt(Ie,10),page:$}}if($++,K===!1||$>=ie.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return Z()})}()}},ma=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/indexes/%s/%s",o.indexName,l)},p)}},ya=function(){return function(o,l){for(var p=0,y=Object.entries(o.hits);p<y.length;p++){var I=c(y[p],2),K=I[0];if(I[1].objectID===l)return parseInt(K,10)}return-1}},ba=function(o){return function(l,p){var y=p||{},I=y.attributesToRetrieve,K=f(y,["attributesToRetrieve"]),J=l.map(function($){return _({indexName:o.indexName,objectID:$},I?{attributesToRetrieve:I}:{})});return o.transporter.read({method:z,path:"1/indexes/*/objects",data:{requests:J}},K)}},wa=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/indexes/%s/rules/%s",o.indexName,l)},p)}},ei=function(o){return function(l){return o.transporter.read({method:G,path:T("1/indexes/%s/settings",o.indexName),data:{getVersion:2}},l)}},xa=function(o){return function(l,p){return o.transporter.read({method:G,path:T("1/indexes/%s/synonyms/%s",o.indexName,l)},p)}},Hn=function(o){return function(l,p){return O(ti(o)([l],p).then(function(y){return{objectID:y.objectIDs[0],taskID:y.taskIDs[0]}}),function(y,I){return We(o)(y.taskID,I)})}},ti=function(o){return function(l,p){var y=p||{},I=y.createIfNotExists,K=f(y,["createIfNotExists"]),J=I?fn.PartialUpdateObject:fn.PartialUpdateObjectNoCreate;return xr(o)(l,J,K)}},Kn=function(o){return function(l,p){var y=p||{},I=y.safe,K=y.autoGenerateObjectIDIfNotExist,J=y.batchSize,$=f(y,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),Z=function(xe,Me,$e,tt){return O(o.transporter.write({method:z,path:T("1/indexes/%s/operation",xe),data:{operation:$e,destination:Me}},tt),function(In,at){return We(o)(In.taskID,at)})},ie=Math.random().toString(36).substring(7),X="".concat(o.indexName,"_tmp_").concat(ie),me=zn({appId:o.appId,transporter:o.transporter,indexName:X}),ge=[],Ie=Z(o.indexName,X,"copy",_(_({},$),{},{scope:["settings","synonyms","rules"]}));return ge.push(Ie),O((I?Ie.wait($):Ie).then(function(){var xe=me(l,_(_({},$),{},{autoGenerateObjectIDIfNotExist:K,batchSize:J}));return ge.push(xe),I?xe.wait($):xe}).then(function(){var xe=Z(X,o.indexName,"move",$);return ge.push(xe),I?xe.wait($):xe}).then(function(){return Promise.all(ge)}).then(function(xe){var Me=c(xe,3),$e=Me[0],tt=Me[1],In=Me[2];return{objectIDs:tt.objectIDs,taskIDs:[$e.taskID].concat(h(tt.taskIDs),[In.taskID])}}),function(xe,Me){return Promise.all(ge.map(function($e){return $e.wait(Me)}))})}},Aa=function(o){return function(l,p){return Vn(o)(l,_(_({},p),{},{clearExistingRules:!0}))}},Ta=function(o){return function(l,p){return Or(o)(l,_(_({},p),{},{clearExistingSynonyms:!0}))}},Oa=function(o){return function(l,p){return O(zn(o)([l],p).then(function(y){return{objectID:y.objectIDs[0],taskID:y.taskIDs[0]}}),function(y,I){return We(o)(y.taskID,I)})}},zn=function(o){return function(l,p){var y=p||{},I=y.autoGenerateObjectIDIfNotExist,K=f(y,["autoGenerateObjectIDIfNotExist"]),J=I?fn.AddObject:fn.UpdateObject;if(J===fn.UpdateObject){var $=!0,Z=!1,ie=void 0;try{for(var X,me=l[Symbol.iterator]();!($=(X=me.next()).done);$=!0)if(X.value.objectID===void 0)return O(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(ge){Z=!0,ie=ge}finally{try{$||me.return==null||me.return()}finally{if(Z)throw ie}}}return xr(o)(l,J,K)}},ni=function(o){return function(l,p){return Vn(o)([l],p)}},Vn=function(o){return function(l,p){var y=p||{},I=y.forwardToReplicas,K=y.clearExistingRules,J=R(f(y,["forwardToReplicas","clearExistingRules"]));return I&&(J.queryParameters.forwardToReplicas=1),K&&(J.queryParameters.clearExistingRules=1),O(o.transporter.write({method:z,path:T("1/indexes/%s/rules/batch",o.indexName),data:l},J),function($,Z){return We(o)($.taskID,Z)})}},Sa=function(o){return function(l,p){return Or(o)([l],p)}},Or=function(o){return function(l,p){var y=p||{},I=y.forwardToReplicas,K=y.clearExistingSynonyms,J=y.replaceExistingSynonyms,$=R(f(y,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return I&&($.queryParameters.forwardToReplicas=1),(J||K)&&($.queryParameters.replaceExistingSynonyms=1),O(o.transporter.write({method:z,path:T("1/indexes/%s/synonyms/batch",o.indexName),data:l},$),function(Z,ie){return We(o)(Z.taskID,ie)})}},ri=function(o){return function(l,p){return o.transporter.read({method:z,path:T("1/indexes/%s/query",o.indexName),data:{query:l},cacheable:!0},p)}},ii=function(o){return function(l,p,y){return o.transporter.read({method:z,path:T("1/indexes/%s/facets/%s/query",o.indexName,l),data:{facetQuery:p},cacheable:!0},y)}},Sr=function(o){return function(l,p){return o.transporter.read({method:z,path:T("1/indexes/%s/rules/search",o.indexName),data:{query:l}},p)}},Pr=function(o){return function(l,p){return o.transporter.read({method:z,path:T("1/indexes/%s/synonyms/search",o.indexName),data:{query:l}},p)}},ai=function(o){return function(l,p){var y=p||{},I=y.forwardToReplicas,K=R(f(y,["forwardToReplicas"]));return I&&(K.queryParameters.forwardToReplicas=1),O(o.transporter.write({method:ne,path:T("1/indexes/%s/settings",o.indexName),data:l},K),function(J,$){return We(o)(J.taskID,$)})}},We=function(o){return function(l,p){return P(function(y){return function(I){return function(K,J){return I.transporter.read({method:G,path:T("1/indexes/%s/task/%s",I.indexName,K.toString())},J)}}(o)(l,p).then(function(I){return I.status!=="published"?y():void 0})})}},fn={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},Yn={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Jn=1,oi=2,Pa=3;function Ir(o,l,p){var y,I={appId:o,apiKey:l,timeouts:{connect:1,read:2,write:30},requester:{send:function($){return new Promise(function(Z){var ie=new XMLHttpRequest;ie.open($.method,$.url,!0),Object.keys($.headers).forEach(function(Ie){return ie.setRequestHeader(Ie,$.headers[Ie])});var X,me=function(Ie,xe){return setTimeout(function(){ie.abort(),Z({status:0,content:xe,isTimedOut:!0})},1e3*Ie)},ge=me($.connectTimeout,"Connection timeout");ie.onreadystatechange=function(){ie.readyState>ie.OPENED&&X===void 0&&(clearTimeout(ge),X=me($.responseTimeout,"Socket timeout"))},ie.onerror=function(){ie.status===0&&(clearTimeout(ge),clearTimeout(X),Z({content:ie.responseText||"Network request failed",status:ie.status,isTimedOut:!1}))},ie.onload=function(){clearTimeout(ge),clearTimeout(X),Z({content:ie.responseText,status:ie.status,isTimedOut:!1})},ie.send($.data)})}},logger:(y=Pa,{debug:function($,Z){return Jn>=y&&console.debug($,Z),Promise.resolve()},info:function($,Z){return oi>=y&&console.info($,Z),Promise.resolve()},error:function($,Z){return console.error($,Z),Promise.resolve()}}),responsesCache:w(),requestsCache:w({serializable:!1}),hostsCache:b({caches:[m({key:"".concat("4.19.1","-").concat(o)}),w()]}),userAgent:le("4.19.1").add({segment:"Browser"})},K=_(_({},I),p),J=function(){return function($){return function(Z){var ie=Z.region||"us",X=d(D.WithinHeaders,Z.appId,Z.apiKey),me=Ue(_(_({hosts:[{url:"personalization.".concat(ie,".algolia.com")}]},Z),{},{headers:_(_(_({},X.headers()),{"content-type":"application/json"}),Z.headers),queryParameters:_(_({},X.queryParameters()),Z.queryParameters)}));return F({appId:Z.appId,transporter:me},Z.methods)}(_(_(_({},I),$),{},{methods:{getPersonalizationStrategy:mt,setPersonalizationStrategy:An}}))}};return function($){var Z=$.appId,ie=d($.authMode!==void 0?$.authMode:D.WithinHeaders,Z,$.apiKey),X=Ue(_(_({hosts:[{url:"".concat(Z,"-dsn.algolia.net"),accept:H.Read},{url:"".concat(Z,".algolia.net"),accept:H.Write}].concat(C([{url:"".concat(Z,"-1.algolianet.com")},{url:"".concat(Z,"-2.algolianet.com")},{url:"".concat(Z,"-3.algolianet.com")}]))},$),{},{headers:_(_(_({},ie.headers()),{"content-type":"application/x-www-form-urlencoded"}),$.headers),queryParameters:_(_({},ie.queryParameters()),$.queryParameters)}));return F({transporter:X,appId:Z,addAlgoliaAgent:function(me,ge){X.userAgent.add({segment:me,version:ge})},clearCache:function(){return Promise.all([X.requestsCache.clear(),X.responsesCache.clear()]).then(function(){})}},$.methods)}(_(_({},K),{},{methods:{search:Gn,searchForFacetValues:Wn,multipleBatch:yr,multipleGetObjects:br,multipleQueries:Gn,copyIndex:Tn,copySettings:On,copySynonyms:Qi,copyRules:bt,moveIndex:mr,listIndices:gr,getLogs:$n,listClusters:_r,multipleSearchForFacetValues:Wn,getApiKey:Ut,addApiKey:Yt,listApiKeys:sn,updateApiKey:ua,deleteApiKey:zr,restoreApiKey:ia,assignUserID:Xi,assignUserIDs:Bn,getUserID:Pn,searchUserIDs:Yr,listUserIDs:vr,getTopUserIDs:ta,removeUserID:wr,hasPendingMappings:na,clearDictionaryEntries:qn,deleteDictionaryEntries:ea,getDictionarySettings:Sn,getAppTask:pt,replaceDictionaryEntries:ra,saveDictionaryEntries:aa,searchDictionaryEntries:Vr,setDictionarySettings:oa,waitAppTask:cn,customRequest:jt,initIndex:function($){return function(Z){return Bt($)(Z,{methods:{batch:Jr,delete:ha,findAnswers:va,getObject:ma,getObjects:ba,saveObject:Oa,saveObjects:zn,search:ri,searchForFacetValues:ii,waitTask:We,setSettings:ai,getSettings:ei,partialUpdateObject:Hn,partialUpdateObjects:ti,deleteObject:pa,deleteObjects:Xr,deleteBy:la,clearObjects:Ar,browseObjects:Zr,getObjectPosition:ya,findObject:Qr,exists:ga,saveSynonym:Sa,saveSynonyms:Or,getSynonym:xa,searchSynonyms:Pr,browseSynonyms:ca,deleteSynonym:_a,clearSynonyms:Tr,replaceAllObjects:Kn,replaceAllSynonyms:Ta,searchRules:Sr,getRule:wa,deleteRule:da,saveRule:ni,saveRules:Vn,replaceAllRules:Aa,browseRules:sa,clearRules:fa}})}},initAnalytics:function(){return function($){return function(Z){var ie=Z.region||"us",X=d(D.WithinHeaders,Z.appId,Z.apiKey),me=Ue(_(_({hosts:[{url:"analytics.".concat(ie,".algolia.com")}]},Z),{},{headers:_(_(_({},X.headers()),{"content-type":"application/json"}),Z.headers),queryParameters:_(_({},X.queryParameters()),Z.queryParameters)}));return F({appId:Z.appId,transporter:me},Z.methods)}(_(_(_({},I),$),{},{methods:{addABTest:ee,getABTest:fe,getABTests:it,stopABTest:ct,deleteABTest:ce}}))}},initPersonalization:J,initRecommendation:function(){return function($){return K.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),J()($)}}}}))}return Ir.version="4.19.1",Ir})})(uc);var $g=uc.exports;const Gg=$o($g),sc=ae=>(nc("data-v-bef15f8c"),ae=ae(),rc(),ae),Wg={key:0,class:"controlPanel"},Hg={class:"f6 mb1 gray"},Kg={class:"mt0 f4 1b"},zg={key:0},Vg={class:"bt bb b--moon-gray mv3 pv2"},Yg=["onSubmit"],Jg={class:"fw5 mb1"},Zg={class:"flex items-center mb2"},Xg={class:"fieldForm__value flex-auto mr3"},Qg=["readonly"],ev={class:"fieldForm__unit flex-none"},tv=["readonly"],nv=["readonly"],rv={class:"mt3"},iv={key:0,class:"flex items-center justify-between"},av=["onClick"],ov=["disabled"],uv={key:1,class:"flex items-center justify-end"},sv=["onClick"],cv={class:"controlPanel__keywordSection mv3 pb2 bb"},fv=sc(()=>te("div",{class:"fw5 mb1"},"相關關鍵字",-1)),lv=sc(()=>te("div",{class:"f6 gray"},"點選以下關鍵字，或是自行輸入，就能列出相關頁面",-1)),hv={class:"flex mt3"},pv={class:"flex flex-wrap"},dv=["onClick"],_v={class:"f6 gray mv1"},gv=["onClick"],vv={class:"flex-none dark-gray"},mv=["innerHTML"],yv={class:"flex justify-between items-center"},bv={key:1},Vi=15,wv=un({__name:"CrowdControlPanel",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},focusedPage:{type:Number,default:1},isSubmission:{type:Boolean,default:!0}},emits:["report","page","matched-pages","complete"],setup(ae,{emit:ye}){const i=ae,{submitField:g,verifyField:_}=oc(),f=Pe(0),c=st(()=>i.fields[f.value]),h={value:"",unit:"",notes:""},m=Pe({...h}),b=st(()=>f.value<i.fields.length-1?i.fields[f.value+1]:i.fields[0]),w=st(()=>f.value>0?i.fields[f.value-1]:i.fields[i.fields.length-1]);function d(){f.value<i.fields.length-1?f.value+=1:f.value=0}function P(){f.value>0?f.value-=1:f.value=i.fields.length-1}const O=Pe([]);Vt(O,ee=>{ee.length===i.fields.length&&ye("complete")},{deep:!0});function C(){m.value={...h}}const F=st(()=>!!m.value.value),T=Pe(!1),D=["不正確","不確定","正確"];async function R(ee){const ce={userId:i.userId,submissionId:c.value.data.id,result:ee},fe=await _(ce);O.value.push({field:c.value,atRow:fe}),d()}function H(){O.value.push({field:c.value}),C(),d()}async function k(){if(!F.value)return;T.value=!0;const{value:ee,unit:ce,notes:fe}=m.value,{year:it,company:ct,category:mt,label:An}=c.value,yt={userId:i.userId,year:`${it}`,companyId:ct.id,category:mt,field:An,value:ee,unit:ce,notes:fe,page:i.focusedPage};he.value&&(yt.keyword=he.value);const Yt=await g(yt);O.value.push({field:c.value,data:yt,atRow:Yt}),C(),d(),T.value=!1}function B(ee){return ee+(c.value.company.pageOffset||0)}const q=Qs(),U=Gg(q.public.algoliaAppId,q.public.algoliaSearchApiKey).initIndex(q.public.algoliaIndexName),V=Pe(""),G=Pe(""),z=Pe([]),ne=Pe(0),he=st(()=>G.value||V.value||"");Vt([V,G],([ee,ce],[fe,it])=>{ee!==fe&&ee?G.value="":ce!==it&&ce&&(V.value="")});function je(ee){V.value=ee}Vt(he,()=>{Ue()});async function Ue(){if(!he.value){z.value=[],Y.value=null;return}const{hits:ee}=await U.search(he.value,{facetFilters:[`company:${c.value.company.id}`,`year:${c.value.year}`],hitsPerPage:100});if(z.value=ee,Y.value=null,ne.value){const ce=ee.find(fe=>fe.page===ne.value);ce?se(ce):ye("page",{highlight:he.value,page:ne.value}),ne.value=0}}Vt(z,ee=>{const ce=ee.map(fe=>fe.page);ye("matched-pages",ce)});function le(ee){ee=ee.replace(/\n/g,"");const ce=`${he.value||""}`,fe=ee.indexOf(ce),it=ce.length+Vi;if(fe<0)return ee.slice(0,it*2);const ct=ce.length;let mt=ee.slice(0,fe);const An=`${ee.slice(fe+ct,fe+ct+Vi)}...`;if(fe>Vi)mt=`...${ee.slice(fe-Vi,fe)}`;else return ee.slice(0,it*2)+"...";return`${Pt.escape(mt)}<b class="underline">${ce}</b>${Pt.escape(An)}`}const Y=Pe(null);async function se(ee){Y.value===ee?ye("page",{highlight:"",page:1}):Y.value=ee,await Bo(),ye("page",{highlight:he.value,page:ee.page})}function ve(){z.value=[],V.value="",G.value=""}function ke(){const ee=c.value.data;m.value={value:ee.get("數值"),unit:ee.get("單位"),notes:ee.get("補充資訊")};const ce=ee.get("答案頁次"),fe=ee.get("答案關鍵字");fe?c.value.keywords.includes(fe)?V.value=fe:G.value=fe:ve(),ce&&(fe?ne.value=ce:ye("page",{highlight:"",page:ce}))}return tc(()=>{c.value&&(ye("report",{year:c.value.year,company:c.value.company}),i.isSubmission?ve():ke())}),(ee,ce)=>ue(c)?(Se(),De("div",Wg,[te("div",Hg,Je(ae.isSubmission?"標注欄位":"驗證欄位")+" "+Je(ue(O).length)+" / "+Je(i.fields.length),1),te("h2",Kg,Je(ue(c).year)+" 年 | "+Je(ue(c).company.name)+" | "+Je(ue(c).label),1),ue(c).notes?(Se(),De("p",zg,Je(ue(c).notes),1)):pr("",!0),te("div",Vg,[te("form",{class:"fieldForm mt3 mb4 pb2 bb b--moon-gray",onSubmit:Yi(k,["prevent"])},[te("div",Jg,Je(ae.isSubmission?"填寫判讀結果":"驗證欄位數值"),1),te("div",Zg,[te("label",Xg,[It("數值"),lr(te("input",{class:"fieldForm__input","onUpdate:modelValue":ce[0]||(ce[0]=fe=>ue(m).value=fe),type:"text",placeholder:"數值",readonly:!ae.isSubmission},null,8,Qg),[[Hr,ue(m).value,void 0,{trim:!0}]])]),te("label",ev,[It("單位"),lr(te("input",{class:"fieldForm__input","onUpdate:modelValue":ce[1]||(ce[1]=fe=>ue(m).unit=fe),type:"text",placeholder:"單位",readonly:!ae.isSubmission},null,8,tv),[[Hr,ue(m).unit,void 0,{trim:!0}]])])]),te("label",null,[It("備註"),lr(te("textarea",{class:"fieldForm__input","onUpdate:modelValue":ce[2]||(ce[2]=fe=>ue(m).notes=fe),placeholder:"備註",readonly:!ae.isSubmission},null,8,nv),[[Hr,ue(m).notes,void 0,{trim:!0}]])]),te("div",rv,[ae.isSubmission?(Se(),De("div",iv,[te("button",{class:"pa2 bg-white ba b--light-gray gray pointer",onClick:Yi(H,["stop","prevent"])},"找不到答案，放棄 🥺",8,av),te("button",{class:"pv2 ph4 pointer",type:"submit",disabled:!ue(F)||ue(T)},"送出標注結果",8,ov)])):(Se(),De("div",uv,[(Se(),De(Un,null,hr(D,fe=>te("button",{class:"pv1 ph3 pointer ml2",key:fe,onClick:Yi(it=>R(fe),["stop","prevent"])},"標為"+Je(fe),9,sv)),64))]))])],40,Yg),te("div",cv,[fv,lv,te("div",hv,[te("div",pv,[(Se(!0),De(Un,null,hr(ue(c).keywords,fe=>(Se(),De("button",{class:Uo(["controlPanel__keyword pointer",{"controlPanel__keyword--active":fe===ue(he)}]),key:fe,onClick:it=>je(fe)},Je(fe),11,dv))),128)),lr(te("input",{class:"mt1 f6 w-100 controlPanel__input","onUpdate:modelValue":ce[3]||(ce[3]=fe=>ec(G)?G.value=fe:null),placeholder:"自訂關鍵字"},null,512),[[Hr,ue(G),void 0,{trim:!0}]])])]),lr(te("div",_v,[(Se(!0),De(Un,null,hr(ue(z),fe=>(Se(),De("div",{class:Uo(["flex mv2 dim pointer",{b:fe===ue(Y)}]),key:fe.page,onClick:it=>se(fe)},[te("div",vv,"頁"+Je(B(fe.page)),1),te("div",{class:"pl2",innerHTML:le(fe.content)},null,8,mv)],10,gv))),128))],512),[[X_,ue(z).length]])]),te("div",yv,[ue(w)!==ue(b)?(Se(),De("button",{key:0,class:"controlPanel__cursor",onClick:P},"跳到 《 "+Je(ue(w).label),1)):(Se(),De("div",bv)),te("button",{class:"controlPanel__cursor",onClick:d},"跳到 "+Je(ue(b).label)+" 》",1)])])])):pr("",!0)}});const xv=dr(wv,[["__scopeId","data-v-bef15f8c"]]);function Av(ae){return Q_()?(eg(ae),!0):!1}function cc(ae){return typeof ae=="function"?ae():ue(ae)}const Tv=typeof window<"u",Ov=ae=>ae!=null,No=()=>{};function Fo(ae){var ye;const i=cc(ae);return(ye=i==null?void 0:i.$el)!=null?ye:i}const fc=Tv?window:void 0;function lc(){const ae=Pe(!1);return tg()&&qo(()=>{ae.value=!0}),ae}function Sv(ae){const ye=lc();return st(()=>(ye.value,!!ae()))}function Pv(ae,ye,i={}){const{root:g,rootMargin:_="0px",threshold:f=.1,window:c=fc,immediate:h=!0}=i,m=Sv(()=>c&&"IntersectionObserver"in c),b=st(()=>{const C=cc(ae);return(Array.isArray(C)?C:[C]).map(Fo).filter(Ov)});let w=No;const d=Pe(h),P=m.value?Vt(()=>[b.value,Fo(g),d.value],([C,F])=>{if(w(),!d.value||!C.length)return;const T=new IntersectionObserver(ye,{root:Fo(F),rootMargin:_,threshold:f});C.forEach(D=>D&&T.observe(D)),w=()=>{T.disconnect(),w=No}},{immediate:h,flush:"post"}):No,O=()=>{w(),P(),d.value=!1};return Av(O),{isSupported:m,isActive:d,pause(){w(),d.value=!1},resume(){d.value=!0},stop:O}}function hc(ae,{window:ye=fc,scrollTarget:i}={}){const g=Pe(!1);return Pv(ae,([{isIntersecting:_}])=>{g.value=_},{root:i,window:ye}),g}const Iv=te("i",{class:"fa-solid fa-book fa-beat-fade fa-xl"},null,-1),Ev=[Iv],Rv=un({__name:"EmptyPage",emits:["visible"],setup(ae,{emit:ye}){const i=Pe(null),g=hc(i);return Vt(g,_=>{_&&ye("visible",!0)}),(_,f)=>(Se(),De("div",{class:"emptyPage flex items-center justify-center ba b--light-gray center",ref_key:"page",ref:i},Ev,512))}}),Cv=un({__name:"SinglePdfPage",props:{document:{type:Object,required:!0},page:{type:Number,required:!0},pageAnchor:{type:Number,default:0},highlight:{type:String,default:""},noScroll:{type:Boolean,default:!0},scale:{type:Number,default:.95}},emits:["loaded","visible"],setup(ae,{emit:ye}){const i=ae,g=Pe(null),_=Ji(null),f=hc(g);Vt(f,w=>{w&&ye("visible")});const c=st(()=>i.document?Pt.get(window,"pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS",1):1);function h(w,d=0){if(_.value){const P=_.value.container.parentElement;d=i.pageAnchor||d||P.scrollTop,_.value.currentPageNumber=w,d&&(P.scrollTo({top:d}),setTimeout(()=>{P.scrollTo({top:d})},400))}}function m(w,d=0){if(_.value){const P=_.value.container.parentElement;d=i.pageAnchor||d||P.scrollTop,_.value.currentScale=w/c.value,d&&P.scrollTo({top:d})}}function b(){const w=window.pdfjsViewer;if(!g.value)return;const d=new w.EventBus,P={container:g.value.parentElement,viewer:g.value,eventBus:d,linkService:new w.PDFLinkService({eventBus:d}),findController:null,removePageBorders:!0};i.highlight&&(P.findController=new w.PDFFindController({eventBus:d,linkService:P.linkService}));const O=new w.PDFSinglePageViewer(P);P.linkService.setViewer(O),d.on("pagesinit",()=>{m(i.scale),i.highlight?d.dispatch("find",{type:"",query:i.highlight,phraseSearch:!0,highlightAll:!0}):h(i.page),ye("loaded")}),d.on("updatefindcontrolstate",({source:C})=>{C._offset.pageIdx!==i.page-1&&setTimeout(()=>{h(i.page)})}),d.on("updatetextlayermatches",()=>{O.currentPageNumber!==i.page&&O._setCurrentPageNumber(i.page)}),O.setDocument(i.document),P.linkService.setDocument(i.document,null),_.value=O}return qo(b),Vt(()=>i.scale,w=>{_.value&&m(w)}),(w,d)=>(Se(),De("div",{class:"sip pdfViewer",ref_key:"pageEle",ref:g},null,512))}});const Lv=dr(Cv,[["__scopeId","data-v-2b2a6407"]]),Kr=ae=>(nc("data-v-4b7a9cf8"),ae=ae(),rc(),ae),Dv={class:"reportViewer"},kv=Kr(()=>te("div",{class:"flex items-center"},null,-1)),Nv=Kr(()=>te("i",{class:"fa-solid fa-plus"},null,-1)),Fv=Kr(()=>te("i",{class:"fa-solid fa-minus"},null,-1)),Mv=Kr(()=>te("i",{class:"fa-solid fa-arrows-left-right"},null,-1)),jv=Kr(()=>te("i",{class:"fa-solid fa-arrows-up-down"},null,-1)),Uv={key:0,class:"reportViewer__content w-100"},Mo="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.9.179",Bv="https://ddio-public.s3.us-west-2.amazonaws.com/gcaa-csr-report/demo",jo=10,qv=100,$v=2e3,Zs=.1,Xs=100,Gv=un({__name:"PdfViewer",props:{page:{type:Number,default:1},year:{type:[Number,String],default:2019},company:{type:Object,required:!0},highlight:{type:[String,Number],default:""},matchedPages:{type:Array,default(){return[]}}},emits:["view-page"],setup(ae,{emit:ye}){const i=ae;ng({link:[{rel:"stylesheet",href:`${Mo}/web/pdf_viewer.css`}]});const g=Pe(!1),_=Pe(void 0),f=Pe([]),c=Pe(0),h=Ji({}),m=Pe([null]),b=Pe("fit-width"),w=Pe({pdfSize:{width:0,height:0},widthScale:0,heightScale:0,customScale:0}),d=st(()=>{if(!w.value.widthScale||!V.value)return null;let Y=1;switch(b.value){case"custom":Y=w.value.customScale;break;case"fit-height":Y=w.value.heightScale;break;case"fit-width":default:Y=w.value.widthScale}return Y=Y||1,{scale:Y,width:w.value.pdfSize.width*Y,height:w.value.pdfSize.height*Y}});qo(()=>{T()}),rg(()=>{clearTimeout(_.value)});const P=st(()=>m.value[0]&&d.value),O=st(()=>`${Bv}/${i.year}/${i.company.id}`),C=st(()=>i.highlight+"");function F(){return!!window&&!!window.pdfjsLib&&!!window.pdfjsViewer}function T(){_.value=setTimeout(async()=>{const Y=F();Y?(window.pdfjsLib.GlobalWorkerOptions.workerSrc=`${Mo}/build/pdf.worker.js`,await Bo()):T(),g.value=Y},qv)}async function D(Y){const se=window.pdfjsLib,ve=`${Mo}/cmaps/`,ke=Y%jo||jo,ee=q(Y);h.value[ee]||(h.value[ee]=se.getDocument({url:`${O.value}/${ee}.pdf`,cMapUrl:ve,cMapPacked:!0,enableXfa:!0}));const ce=await h.value[ee].promise;return R(ce),{document:ce,page:ke}}async function R(Y){if(w.value.widthScale)return;const se=await Y.getPage(1),{width:ve,height:ke}=se.getViewport({scale:1});w.value.pdfSize={width:ve,height:ke};const ee=G.value,ce=ee.clientWidth,fe=ee.clientHeight,it=Number.parseInt(getComputedStyle(ee).paddingLeft),ct=window.devicePixelRatio||1,mt=(ce-it*2)*ct;w.value.widthScale=mt/ve,w.value.heightScale=fe/ke}const H=st(()=>{var Y,se;return d.value?{width:`${(Y=d.value)==null?void 0:Y.width}px`,height:`${(se=d.value)==null?void 0:se.height}px`}:{}});async function k(){const Y=await D(1);m.value[0]={pdf:Ji(Y)}}function B(){h.value={},m.value=Array(i.company.totalPage).fill(null),b.value="fit-width",w.value.widthScale=0}tc(()=>{!O.value||!i.company||!g.value||!V.value||(B(),k())});function q(Y){return`${Math.ceil(Y/jo)}`.padStart(3,"0")}async function j(Y,{forceLoad:se=!1,anchor:ve=0}={}){if(!se&&f.value.length){f.value.includes(Y)||f.value.unshift(Y);return}const ke=Y-1;if(ke>=m.value.length)throw new Error(`Invalid page number: ${Y}`);if(se||(f.value.push(Y),ve&&(c.value=ve)),!m.value[ke]){const ee=await D(Y);m.value[ke]={pdf:Ji(ee),highlight:i.matchedPages.includes(Y)?C.value:""}}f.value.pop(),f.value.length?j(f.value[0],{forceLoad:!0}):setTimeout(()=>{c.value=0},Xs)}const U=Pt.debounce(Y=>{j(Y)},100),V=lc(),G=Pe(null);function z(){const se=G.value.querySelectorAll(".reportViewer__page")[i.page-1];return se==null?void 0:se.offsetTop}Vt(()=>i.page,async()=>{const Y=z(),se=j(i.page,{anchor:Y});i.page>1&&j(i.page-1),i.page<i.company.totalPage&&j(i.page+1),Y&&G.value.scrollTo({top:Y}),await se});function ne(){var Y;w.value.customScale=(((Y=d.value)==null?void 0:Y.scale)||1)*(1+Zs),b.value="custom"}function he(){var Y;w.value.customScale=(((Y=d.value)==null?void 0:Y.scale)||1)*(1-Zs),b.value="custom"}function je(){b.value="fit-width"}function Ue(){b.value="fit-height"}Vt(d,async(Y,se)=>{if(!Y||!se||!G.value)return;const ve=G.value,ke=ve.clientHeight/2,ee=(ve.scrollTop+ke)/ve.scrollHeight;await Bo();const ce=ve.scrollHeight*ee-ke;c.value=ce,setTimeout(()=>{c.value=0},Xs)});const le=Pt.debounce(Y=>{ye("view-page",Y)},$v);return(Y,se)=>{const ve=Rv,ke=Lv;return Se(),De("div",Dv,[te("div",{class:"reportViewer__control pr2"},[te("div",{class:"bb b--moon-gray flex items-center justify-between pv2"},[kv,te("div",{class:"flex items-center"},[te("button",{class:"reportViewer__button",onClick:ne},[Nv,It("放大")]),te("button",{class:"reportViewer__button",onClick:he},[Fv,It("縮小")]),te("button",{class:"reportViewer__button",onClick:je},[Mv,It("滿頁寬")]),te("button",{class:"reportViewer__button",onClick:Ue},[jv,It("滿頁高")])])])]),te("div",{class:"reportViewer__scrollContainer relative",ref_key:"scrollerEle",ref:G},[ue(P)?(Se(),De("div",Uv,[(Se(!0),De(Un,null,hr(ue(m),(ee,ce)=>(Se(),De(Un,{key:ce},[ee?(Se(),wn(ke,ag({key:1,class:"reportViewer__page"},ee.pdf,{class:[`thePage--${ce+1}`],highlight:ee.highlight,"page-anchor":ue(c),scale:ue(d).scale,onVisible:fe=>ue(le)(ce+1)}),null,16,["class","highlight","page-anchor","scale","onVisible"])):(Se(),wn(ve,{key:0,class:Uo(["reportViewer__page",[`theEmpty--${ce+1}`]]),style:ig(ue(H)),"page-number":ce+1,onVisible:fe=>ue(U)(ce+1)},null,8,["style","class","page-number","onVisible"]))],64))),128))])):pr("",!0)],512)])}}});const Wv=dr(Gv,[["__scopeId","data-v-4b7a9cf8"]]),Hv={class:"crowdEditor"},Kv={class:"br b--moon-gray"},zv={class:"crowdEditor__control pv3 ph2"},Vv={class:"main__reader"},Yv=un({__name:"CrowdFieldEditor",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},isSubmission:{type:Boolean,default:!0}},emits:["complete"],setup(ae,{emit:ye}){const i=Pe(null),g=Pe(null),_=Pe([]),f=Pe(0);function c(d){f.value=d}function h(){ye("complete")}function m(d){i.value=d,g.value={page:1,highlight:""}}function b(d){g.value=d}function w(d){_.value=d}return(d,P)=>{const O=xv,C=Wv;return Se(),De("div",Hv,[te("div",Kv,[te("div",zv,[ic(O,{"user-id":ae.userId,fields:ae.fields,"focused-page":ue(f),"is-submission":ae.isSubmission,onReport:m,onPage:b,onMatchedPages:w,onComplete:h},null,8,["user-id","fields","focused-page","is-submission"])])]),te("div",Vv,[ue(i)&&ue(g)?(Se(),wn(C,{key:0,year:ue(i).year,company:ue(i).company,page:ue(g).page,highlight:ue(g).highlight,"matched-pages":ue(_),onViewPage:c},null,8,["year","company","page","highlight","matched-pages"])):pr("",!0)])])}}});const Jv=dr(Yv,[["__scopeId","data-v-e3e4c23c"]]),Zv={class:"gotoVerify center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},Xv=te("h1",{class:"mt0 f4 f3-ns"},"完成一半了！",-1),Qv=te("p",null,"所有的標記任務都已完成，接下來，就輪到幫忙驗證其他人標注的資料囉～",-1),em=un({__name:"GotoVerify",emits:["continue"],setup(ae,{emit:ye}){function i(){ye("continue")}return(g,_)=>(Se(),De("div",Zv,[Xv,Qv,te("div",{class:"flex items-center mt4"},[te("button",{class:"thankYou__button br2 pv2 ph3 pointer ba b--dark-green bg-dark-green white mr3",onClick:i},"我準備好了，開始驗證資料")])]))}}),tm={class:"thankYou center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},nm=ug('<h1 class="mt0 f4 f3-ns" data-v-67b0f7c8>感謝參與標記原型工具測試！</h1><p data-v-67b0f7c8>所有任務都已經完成。在離開前，請填寫一份問卷，讓我們了解你的使用心得。</p><p data-v-67b0f7c8>如果想要多參與一些測試，也歡迎點下「再來一輪」，我們會重新抽籤。記得使用同樣的暱稱，才能累計積分呦 🤓</p><p data-v-67b0f7c8>如果對這個專案有更多想法，除了找我們聊聊之外，也歡迎：</p><ul data-v-67b0f7c8><li data-v-67b0f7c8>讀讀<a href="https://g0v.hackmd.io/@ddio-io/open-csr-report" data-v-67b0f7c8>專案共筆</a></li><li data-v-67b0f7c8>翻翻<a href="https://github.com/gcaa-org-tw/company-report-toolkit/" data-v-67b0f7c8>Github 上的程式碼</a></li><li data-v-67b0f7c8>查看<a href="https://airtable.com/appsREnwMpxAZmaRv/shrhubstEzdWYZWfh" data-v-67b0f7c8>標注狀況與問卷結果</a></li></ul>',5),rm={class:"flex items-center mv4"},im=un({__name:"CrowdThanks",emits:["start-over"],setup(ae,{emit:ye}){function i(){ye("start-over")}return(g,_)=>{const f=sg;return Se(),De("div",tm,[nm,te("div",rm,[te("button",{class:"thankYou__button pointer bg-green white mr3",onClick:i},"再來一輪"),ic(f,{class:"thankYou__button bg-dark-green white no-underline",to:"https://goo.gl"},{default:og(()=>[It("填寫問卷")]),_:1})])])}}});const am=dr(im,[["__scopeId","data-v-67b0f7c8"]]),om={class:"crowdLanding"},um=un({__name:"index",setup(ae){const ye=Pe(""),i=Pe([]),g=Pe(!1),_=Pe(!1),f=Pe([]),c=Pe(!1);function h({submissions:w,verifications:d}){i.value=w,f.value=d,w.length||(g.value=!0,_.value=!0),d.length||(_.value=!0,c.value=!0)}const m=st(()=>ye.value&&(i.value.length||g.value));function b(){ye.value="",i.value=[],g.value=!1,f.value=[],c.value=!1,_.value=!1}return(w,d)=>{const P=qg,O=Jv,C=em,F=am;return Se(),De("div",om,[ue(m)?ue(g)?ue(_)?ue(c)?(Se(),wn(F,{key:4,onStartOver:b})):(Se(),wn(O,{key:3,"user-id":ue(ye),fields:ue(f),"is-submission":!1,onComplete:d[3]||(d[3]=T=>c.value=!0)},null,8,["user-id","fields"])):(Se(),wn(C,{key:2,onContinue:d[2]||(d[2]=T=>_.value=!0)})):(Se(),wn(O,{key:1,"user-id":ue(ye),fields:ue(i),onComplete:d[1]||(d[1]=T=>g.value=!0)},null,8,["user-id","fields"])):(Se(),wn(P,{key:0,onUserId:d[0]||(d[0]=T=>ye.value=T),onTasks:h}))])}}});const fm=dr(um,[["__scopeId","data-v-5832e58b"]]);export{fm as default};
