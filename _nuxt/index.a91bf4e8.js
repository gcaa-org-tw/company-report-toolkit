import{q as _t,g as Ee,r as ae,k as ve,o as Q,c as ne,j as q,a as M,s as Se,v as Fe,x as vt,t as ue,y as Ve,F as Me,z as qe,l as Ue,d as ye,A as Ae,B as Ir,C as Ar,D as mt,E as Sr,p as kr,e as Er,_ as He,b as yt,G as ke,w as Rr,f as Cr}from"./entry.69f41c1d.js";import{c as rt,g as bt}from"./_commonjsHelpers.04ba399b.js";import{_ as ge,a as Dr}from"./PdfViewer.01d5a84b.js";import{_ as Lr}from"./nuxt-link.1f8d63d9.js";function Ge(Z){throw new Error('Could not dynamically require "'+Z+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pt={exports:{}};(function(Z,te){(function(t){Z.exports=t()})(function(){return function(){function t(s,l,n){function r(c,p){if(!l[c]){if(!s[c]){var f=typeof Ge=="function"&&Ge;if(!p&&f)return f(c,!0);if(o)return o(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=l[c]={exports:{}};s[c][0].call(m.exports,function(y){var x=s[c][1][y];return r(x||y)},m,m.exports,t,s,l,n)}return l[c].exports}for(var o=typeof Ge=="function"&&Ge,d=0;d<n.length;d++)r(n[d]);return r}return t}()({1:[function(t,s,l){var n,r=typeof window<"u"?window:typeof self<"u"?self:null;if(!r)n=t("abort-controller");else if("signal"in new Request("https://airtable.com"))n=r.AbortController;else{var o=t("abortcontroller-polyfill/dist/cjs-ponyfill");n=o.AbortController}s.exports=n},{"abort-controller":20,"abortcontroller-polyfill/dist/cjs-ponyfill":19}],2:[function(t,s,l){var n=function(){function r(o,d,c){this.error=o,this.message=d,this.statusCode=c}return r.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},r}();s.exports=n},{}],3:[function(t,s,l){var n=this&&this.__assign||function(){return n=Object.assign||function(I){for(var T,R=1,k=arguments.length;R<k;R++){T=arguments[R];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(I[A]=T[A])}return I},n.apply(this,arguments)},r=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}},o=r(t("lodash/get")),d=r(t("lodash/isPlainObject")),c=r(t("lodash/keys")),p=r(t("./fetch")),f=r(t("./abort-controller")),g=r(t("./object_to_query_param_string")),m=r(t("./airtable_error")),y=r(t("./table")),x=r(t("./http_headers")),h=r(t("./run_action")),b=r(t("./package_version")),v=r(t("./exponential_backoff_with_jitter")),E="Airtable.js/"+b.default,P=function(){function I(T,R){this._airtable=T,this._id=R}return I.prototype.table=function(T){return new y.default(this,null,T)},I.prototype.makeRequest=function(T){var R=this,k;T===void 0&&(T={});var A=o.default(T,"method","GET").toUpperCase(),N=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+o.default(T,"path","/")+"?"+g.default(o.default(T,"qs",{})),V=new f.default,Y=this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,(k=T.headers)!==null&&k!==void 0?k:{})),oe={method:A,headers:Y,signal:V.signal};"body"in T&&O(A)&&(oe.body=JSON.stringify(T.body));var B=setTimeout(function(){V.abort()},this._airtable._requestTimeout);return new Promise(function(ee,W){p.default(N,oe).then(function(X){if(clearTimeout(B),X.status===429&&!R._airtable._noRetryIfRateLimited){var he=o.default(T,"_numAttempts",0),_e=v.default(he);setTimeout(function(){var ce=n(n({},T),{_numAttempts:he+1});R.makeRequest(ce).then(ee).catch(W)},_e)}else X.json().then(function(ce){var me=R._checkStatusForError(X.status,ce)||j(X.status,ce);me?W(me):ee({statusCode:X.status,headers:X.headers,body:ce})}).catch(function(){var ce=j(X.status);W(ce)})}).catch(function(X){clearTimeout(B),X=new m.default("CONNECTION_ERROR",X.message,null),W(X)})})},I.prototype.runAction=function(T,R,k,A,N){h.default(this,T,R,k,A,N,0)},I.prototype._getRequestHeaders=function(T){var R=new x.default;R.set("Authorization","Bearer "+this._airtable._apiKey),R.set("User-Agent",E),R.set("Content-Type","application/json");for(var k=0,A=c.default(T);k<A.length;k++){var N=A[k];R.set(N,T[N])}return R.toJSON()},I.prototype._checkStatusForError=function(T,R){var k=(R??{error:{}}).error,A=k===void 0?{}:k,N=A.type,V=A.message;return T===401?new m.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",T):T===403?new m.default("NOT_AUTHORIZED","You are not authorized to perform this operation",T):T===404?new m.default("NOT_FOUND",V??"Could not find what you are looking for",T):T===413?new m.default("REQUEST_TOO_LARGE","Request body is too large",T):T===422?new m.default(N??"UNPROCESSABLE_ENTITY",V??"The operation cannot be processed",T):T===429?new m.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",T):T===500?new m.default("SERVER_ERROR","Try again. If the problem persists, contact support.",T):T===503?new m.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",T):T>=400?new m.default(N??"UNEXPECTED_ERROR",V??"An unexpected error occurred",T):null},I.prototype.doCall=function(T){return this.table(T)},I.prototype.getId=function(){return this._id},I.createFunctor=function(T,R){var k=new I(T,R),A=function(N){return k.doCall(N)};return A._base=k,A.table=k.table.bind(k),A.makeRequest=k.makeRequest.bind(k),A.runAction=k.runAction.bind(k),A.getId=k.getId.bind(k),A},I}();function O(I){return I!=="GET"&&I!=="DELETE"}function j(I,T){return d.default(T)?null:new m.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",I)}s.exports=P},{"./abort-controller":1,"./airtable_error":2,"./exponential_backoff_with_jitter":6,"./fetch":7,"./http_headers":9,"./object_to_query_param_string":11,"./package_version":12,"./run_action":16,"./table":17,"lodash/get":77,"lodash/isPlainObject":89,"lodash/keys":93}],4:[function(t,s,l){function n(r,o,d){return d===void 0&&(d=void 0),function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var f;d===void 0?f=c.length>0?c.length-1:0:f=d;var g=c[f];if(typeof g=="function"){r.apply(o,c);return}else{for(var m=[],y=Math.max(c.length,f),x=0;x<y;x++)m.push(c[x]);return new Promise(function(h,b){m.push(function(v,E){v?b(v):h(E)}),r.apply(o,m)})}}}s.exports=n},{}],5:[function(t,s,l){var n={};function r(o,d,c){return function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];n[d]||(n[d]=!0,console.warn(c)),o.apply(this,p)}}s.exports=r},{}],6:[function(t,s,l){var n=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},r=n(t("./internal_config.json"));function o(d){var c=r.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,d),p=Math.min(r.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,c),f=Math.random()*p;return f}s.exports=o},{"./internal_config.json":10}],7:[function(t,s,l){var n=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},r=n(t("node-fetch")),o=typeof window<"u"?window:typeof self<"u"?self:null;s.exports=o?o.fetch.bind(o):r.default},{"node-fetch":20}],8:[function(t,s,l){function n(r,o){return Object.prototype.hasOwnProperty.call(r,o)}s.exports=n},{}],9:[function(t,s,l){var n=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},r=n(t("lodash/keys")),o=typeof window<"u",d=function(){function c(){this._headersByLowercasedKey={}}return c.prototype.set=function(p,f){var g=p.toLowerCase();g==="x-airtable-user-agent"&&(g="user-agent",p="User-Agent"),this._headersByLowercasedKey[g]={headerKey:p,headerValue:f}},c.prototype.toJSON=function(){for(var p={},f=0,g=r.default(this._headersByLowercasedKey);f<g.length;f++){var m=g[f],y=this._headersByLowercasedKey[m],x=void 0;o&&m==="user-agent"?x="X-Airtable-User-Agent":x=y.headerKey,p[x]=y.headerValue}return p},c}();s.exports=d},{"lodash/keys":93}],10:[function(t,s,l){s.exports={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5}},{}],11:[function(t,s,l){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},r=n(t("lodash/isArray")),o=n(t("lodash/isNil")),d=n(t("lodash/keys"));function c(f,g,m){if(r.default(g))for(var y=0;y<g.length;y++){var x=g[y];/\[\]$/.test(f)?m(f,x):c(f+"["+(typeof x=="object"&&x!==null?y:"")+"]",x,m)}else if(typeof g=="object")for(var h=0,b=d.default(g);h<b.length;h++){var v=b[h],x=g[v];c(f+"["+v+"]",x,m)}else m(f,g)}function p(f){for(var g=[],m=function(v,E){E=o.default(E)?"":E,g.push(encodeURIComponent(v)+"="+encodeURIComponent(E))},y=0,x=d.default(f);y<x.length;y++){var h=x[y],b=f[h];c(h,b,m)}return g.join("&").replace(/%20/g,"+")}s.exports=p},{"lodash/isArray":79,"lodash/isNil":85,"lodash/keys":93}],12:[function(t,s,l){s.exports="0.12.2"},{}],13:[function(t,s,l){var n=this&&this.__assign||function(){return n=Object.assign||function(v){for(var E,P=1,O=arguments.length;P<O;P++){E=arguments[P];for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&(v[j]=E[j])}return v},n.apply(this,arguments)},r=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(t("lodash/isFunction")),d=r(t("lodash/keys")),c=r(t("./record")),p=r(t("./callback_to_promise")),f=r(t("./has")),g=t("./query_params"),m=r(t("./object_to_query_param_string")),y=function(){function v(E,P){this._table=E,this._params=P,this.firstPage=p.default(x,this),this.eachPage=p.default(h,this,1),this.all=p.default(b,this)}return v.validateParams=function(E){for(var P={},O=[],j=[],I=0,T=d.default(E);I<T.length;I++){var R=T[I],k=E[R];if(f.default(v.paramValidators,R)){var A=v.paramValidators[R],N=A(k);N.pass?P[R]=k:j.push(N.error)}else O.push(R)}return{validParams:P,ignoredKeys:O,errors:j}},v.paramValidators=g.paramValidators,v}();function x(v){if(!o.default(v))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage(function(E){v(null,E)},function(E){v(E,null)})}function h(v,E){var P=this;if(!o.default(v))throw new Error("The first parameter to `eachPage` must be a function");if(!o.default(E)&&E!==void 0)throw new Error("The second parameter to `eachPage` must be a function or undefined");var O=n({},this._params),j="/"+this._table._urlEncodedNameOrId()+"?"+m.default(O),I={},T=null,R,k;if(O.method==="post"||j.length>g.URL_CHARACTER_LENGTH_LIMIT){T=O,R="post",k="/"+this._table._urlEncodedNameOrId()+"/listRecords";for(var A=Object.keys(O),N=0,V=A;N<V.length;N++){var Y=V[N];g.shouldListRecordsParamBePassedAsParameter(Y)?I[Y]=O[Y]:T[Y]=O[Y]}}else R="get",I=O,k="/"+this._table._urlEncodedNameOrId();var oe=function(){P._table._base.runAction(R,k,I,T,function(B,ee,W){if(B)E(B,null);else{var X=void 0;W.offset?(O.offset=W.offset,X=oe):X=function(){E(null)};var he=W.records.map(function(_e){return new c.default(P._table,null,_e)});v(he,X)}})};oe()}function b(v){if(!o.default(v))throw new Error("The first parameter to `all` must be a function");var E=[];this.eachPage(function(P,O){E.push.apply(E,P),O()},function(P){P?v(P,null):v(null,E)})}s.exports=y},{"./callback_to_promise":4,"./has":8,"./object_to_query_param_string":11,"./query_params":14,"./record":15,"lodash/isFunction":83,"lodash/keys":93}],14:[function(t,s,l){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0}),l.shouldListRecordsParamBePassedAsParameter=l.URL_CHARACTER_LENGTH_LIMIT=l.paramValidators=void 0;var r=n(t("./typecheck")),o=n(t("lodash/isString")),d=n(t("lodash/isNumber")),c=n(t("lodash/isPlainObject")),p=n(t("lodash/isBoolean"));l.paramValidators={fields:r.default(r.default.isArrayOf(o.default),"the value for `fields` should be an array of strings"),filterByFormula:r.default(o.default,"the value for `filterByFormula` should be a string"),maxRecords:r.default(d.default,"the value for `maxRecords` should be a number"),pageSize:r.default(d.default,"the value for `pageSize` should be a number"),offset:r.default(d.default,"the value for `offset` should be a number"),sort:r.default(r.default.isArrayOf(function(f){return c.default(f)&&o.default(f.field)&&(f.direction===void 0||["asc","desc"].includes(f.direction))}),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:r.default(o.default,"the value for `view` should be a string"),cellFormat:r.default(function(f){return o.default(f)&&["json","string"].includes(f)},'the value for `cellFormat` should be "json" or "string"'),timeZone:r.default(o.default,"the value for `timeZone` should be a string"),userLocale:r.default(o.default,"the value for `userLocale` should be a string"),method:r.default(function(f){return o.default(f)&&["get","post"].includes(f)},'the value for `method` should be "get" or "post"'),returnFieldsByFieldId:r.default(p.default,"the value for `returnFieldsByFieldId` should be a boolean"),recordMetadata:r.default(r.default.isArrayOf(o.default),"the value for `recordMetadata` should be an array of strings")},l.URL_CHARACTER_LENGTH_LIMIT=15e3,l.shouldListRecordsParamBePassedAsParameter=function(f){return f==="timeZone"||f==="userLocale"}},{"./typecheck":18,"lodash/isBoolean":81,"lodash/isNumber":86,"lodash/isPlainObject":89,"lodash/isString":90}],15:[function(t,s,l){var n=this&&this.__assign||function(){return n=Object.assign||function(y){for(var x,h=1,b=arguments.length;h<b;h++){x=arguments[h];for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(y[v]=x[v])}return y},n.apply(this,arguments)},r=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},o=r(t("./callback_to_promise")),d=function(){function y(x,h,b){this._table=x,this.id=h||b.id,b&&(this.commentCount=b.commentCount),this.setRawJson(b),this.save=o.default(c,this),this.patchUpdate=o.default(p,this),this.putUpdate=o.default(f,this),this.destroy=o.default(g,this),this.fetch=o.default(m,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return y.prototype.getId=function(){return this.id},y.prototype.get=function(x){return this.fields[x]},y.prototype.set=function(x,h){this.fields[x]=h},y.prototype.setRawJson=function(x){this._rawJson=x,this.fields=this._rawJson&&this._rawJson.fields||{}},y}();function c(y){this.putUpdate(this.fields,y)}function p(y,x,h){var b=this;h||(h=x,x={});var v=n({fields:y},x);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},v,function(E,P,O){if(E){h(E);return}b.setRawJson(O),h(null,b)})}function f(y,x,h){var b=this;h||(h=x,x={});var v=n({fields:y},x);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},v,function(E,P,O){if(E){h(E);return}b.setRawJson(O),h(null,b)})}function g(y){var x=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(h){if(h){y(h);return}y(null,x)})}function m(y){var x=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(h,b,v){if(h){y(h);return}x.setRawJson(v),y(null,x)})}s.exports=d},{"./callback_to_promise":4}],16:[function(t,s,l){var n=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},r=n(t("./exponential_backoff_with_jitter")),o=n(t("./object_to_query_param_string")),d=n(t("./package_version")),c=n(t("./fetch")),p=n(t("./abort-controller")),f="Airtable.js/"+d.default;function g(m,y,x,h,b,v,E){var P=m._airtable._endpointUrl+"/v"+m._airtable._apiVersionMajor+"/"+m._id+x+"?"+o.default(h),O={authorization:"Bearer "+m._airtable._apiKey,"x-api-version":m._airtable._apiVersion,"x-airtable-application-id":m.getId(),"content-type":"application/json"},j=typeof window<"u";j?O["x-airtable-user-agent"]=f:O["User-Agent"]=f;var I=new p.default,T=y.toUpperCase(),R={method:T,headers:O,signal:I.signal};b!==null&&(T==="GET"||T==="HEAD"?console.warn("body argument to runAction are ignored with GET or HEAD requests"):R.body=JSON.stringify(b));var k=setTimeout(function(){I.abort()},m._airtable._requestTimeout);c.default(P,R).then(function(A){if(clearTimeout(k),A.status===429&&!m._airtable._noRetryIfRateLimited){var N=r.default(E);setTimeout(function(){g(m,y,x,h,b,v,E+1)},N)}else A.json().then(function(V){var Y=m._checkStatusForError(A.status,V),oe={};Object.keys(A).forEach(function(B){oe[B]=A[B]}),oe.body=V,oe.statusCode=A.status,v(Y,oe,V)}).catch(function(){v(m._checkStatusForError(A.status))})}).catch(function(A){clearTimeout(k),v(A)})}s.exports=g},{"./abort-controller":1,"./exponential_backoff_with_jitter":6,"./fetch":7,"./object_to_query_param_string":11,"./package_version":12}],17:[function(t,s,l){var n=this&&this.__assign||function(){return n=Object.assign||function(x){for(var h,b=1,v=arguments.length;b<v;b++){h=arguments[b];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(x[E]=h[E])}return x},n.apply(this,arguments)},r=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}},o=r(t("lodash/isPlainObject")),d=r(t("./deprecate")),c=r(t("./query")),p=t("./query_params"),f=r(t("./object_to_query_param_string")),g=r(t("./record")),m=r(t("./callback_to_promise")),y=function(){function x(h,b,v){if(!b&&!v)throw new Error("Table name or table ID is required");this._base=h,this.id=b,this.name=v,this.find=m.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=m.default(this._createRecords,this),this.update=m.default(this._updateRecords.bind(this,!1),this),this.replace=m.default(this._updateRecords.bind(this,!0),this),this.destroy=m.default(this._destroyRecord,this),this.list=d.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=d.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return x.prototype._findRecordById=function(h,b){var v=new g.default(this,h);v.fetch(b)},x.prototype._selectRecords=function(h){if(h===void 0&&(h={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),o.default(h)){var b=c.default.validateParams(h);if(b.errors.length){var v=b.errors.map(function(E){return"  * "+E});throw new Error("Airtable: invalid parameters for `select`:\n"+v.join(`
`))}return b.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+b.ignoredKeys.join(", ")),new c.default(this,b.validParams)}else throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},x.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},x.prototype._createRecords=function(h,b,v){var E=this,P=Array.isArray(h);v||(v=b,b={});var O;P?O=n({records:h},b):O=n({fields:h},b),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},O,function(j,I,T){if(j){v(j);return}var R;P?R=T.records.map(function(k){return new g.default(E,k.id,k)}):R=new g.default(E,T.id,T),v(null,R)})},x.prototype._updateRecords=function(h,b,v,E,P){var O=this,j;if(Array.isArray(b)){var I=b;j=o.default(v)?v:{},P=E||v;var T=h?"put":"patch",R=n({records:I},j);this._base.runAction(T,"/"+this._urlEncodedNameOrId()+"/",{},R,function(V,Y,oe){if(V){P(V);return}var B=oe.records.map(function(ee){return new g.default(O,ee.id,ee)});P(null,B)})}else{var k=b,A=v;j=o.default(E)?E:{},P=P||E;var N=new g.default(this,k);h?N.putUpdate(A,j,P):N.patchUpdate(A,j,P)}},x.prototype._destroyRecord=function(h,b){var v=this;if(Array.isArray(h)){var E={records:h};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),E,null,function(O,j,I){if(O){b(O);return}var T=I.records.map(function(R){var k=R.id;return new g.default(v,k,null)});b(null,T)})}else{var P=new g.default(this,h);P.destroy(b)}},x.prototype._listRecords=function(h,b,v,E){var P=this;E||(E=v,v={});var O="/"+this._urlEncodedNameOrId()+"?"+f.default(v),j,I={},T=null,R;if(typeof v!="function"&&v.method==="post"||O.length>p.URL_CHARACTER_LENGTH_LIMIT){j="/"+this._urlEncodedNameOrId()+"/listRecords",T=n(n({},h&&{pageSize:h}),b&&{offset:b}),R="post";for(var k=Object.keys(v),A=0,N=k;A<N.length;A++){var V=N[A];p.shouldListRecordsParamBePassedAsParameter(V)?I[V]=v[V]:T[V]=v[V]}}else R="get",j="/"+this._urlEncodedNameOrId()+"/",I=n({limit:h,offset:b},v);this._base.runAction(R,j,I,T,function(Y,oe,B){if(Y){E(Y);return}var ee=B.records.map(function(W){return new g.default(P,null,W)});E(null,ee,B.offset)})},x.prototype._forEachRecord=function(h,b,v){var E=this;arguments.length===2&&(v=b,b=h,h={});var P=x.__recordsPerPageForIteration||100,O=null,j=function(){E._listRecords(P,O,h,function(I,T,R){if(I){v(I);return}for(var k=0;k<T.length;k++)b(T[k]);R?(O=R,j()):v()})};j()},x}();s.exports=y},{"./callback_to_promise":4,"./deprecate":5,"./object_to_query_param_string":11,"./query":13,"./query_params":14,"./record":15,"lodash/isPlainObject":89}],18:[function(t,s,l){function n(r,o){return function(d){return r(d)?{pass:!0}:{pass:!1,error:o}}}n.isOneOf=function(o){return o.includes.bind(o)},n.isArrayOf=function(r){return function(o){return Array.isArray(o)&&o.every(r)}},s.exports=n},{}],19:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0});function n(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function r(P,O){for(var j=0;j<O.length;j++){var I=O[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}function o(P,O,j){return O&&r(P.prototype,O),j&&r(P,j),P}function d(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&p(P,O)}function c(P){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},c(P)}function p(P,O){return p=Object.setPrototypeOf||function(I,T){return I.__proto__=T,I},p(P,O)}function f(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function g(P,O){return O&&(typeof O=="object"||typeof O=="function")?O:f(P)}function m(P,O){for(;!Object.prototype.hasOwnProperty.call(P,O)&&(P=c(P),P!==null););return P}function y(P,O,j){return typeof Reflect<"u"&&Reflect.get?y=Reflect.get:y=function(T,R,k){var A=m(T,R);if(A){var N=Object.getOwnPropertyDescriptor(A,R);return N.get?N.get.call(k):N.value}},y(P,O,j||P)}var x=function(){function P(){n(this,P),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return o(P,[{key:"addEventListener",value:function(j,I){j in this.listeners||(this.listeners[j]=[]),this.listeners[j].push(I)}},{key:"removeEventListener",value:function(j,I){if(j in this.listeners){for(var T=this.listeners[j],R=0,k=T.length;R<k;R++)if(T[R]===I){T.splice(R,1);return}}}},{key:"dispatchEvent",value:function(j){var I=this;if(j.type in this.listeners){for(var T=function(V){setTimeout(function(){return V.call(I,j)})},R=this.listeners[j.type],k=0,A=R.length;k<A;k++)T(R[k]);return!j.defaultPrevented}}}]),P}(),h=function(P){d(O,P);function O(){var j;return n(this,O),j=g(this,c(O).call(this)),j.listeners||x.call(f(j)),Object.defineProperty(f(j),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(f(j),"onabort",{value:null,writable:!0,configurable:!0}),j}return o(O,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(I){I.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,I)),y(c(O.prototype),"dispatchEvent",this).call(this,I)}}]),O}(x),b=function(){function P(){n(this,P),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return o(P,[{key:"abort",value:function(){var j;try{j=new Event("abort")}catch{typeof document<"u"?document.createEvent?(j=document.createEvent("Event"),j.initEvent("abort",!1,!1)):(j=document.createEventObject(),j.type="abort"):j={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(j)}},{key:"toString",value:function(){return"[object AbortController]"}}]),P}();typeof Symbol<"u"&&Symbol.toStringTag&&(b.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal");function v(P){return P.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof P.Request=="function"&&!P.Request.prototype.hasOwnProperty("signal")||!P.AbortController}function E(P){typeof P=="function"&&(P={fetch:P});var O=P,j=O.fetch,I=O.Request,T=I===void 0?j.Request:I,R=O.AbortController,k=O.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,A=k===void 0?!1:k;if(!v({fetch:j,Request:T,AbortController:R,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:A}))return{fetch:j,Request:N};var N=T;(N&&!N.prototype.hasOwnProperty("signal")||A)&&(N=function(B,ee){var W;ee&&ee.signal&&(W=ee.signal,delete ee.signal);var X=new T(B,ee);return W&&Object.defineProperty(X,"signal",{writable:!1,enumerable:!1,configurable:!0,value:W}),X},N.prototype=T.prototype);var V=j,Y=function(B,ee){var W=N&&N.prototype.isPrototypeOf(B)?B.signal:ee?ee.signal:void 0;if(W){var X;try{X=new DOMException("Aborted","AbortError")}catch{X=new Error("Aborted"),X.name="AbortError"}if(W.aborted)return Promise.reject(X);var he=new Promise(function(_e,ce){W.addEventListener("abort",function(){return ce(X)},{once:!0})});return ee&&ee.signal&&delete ee.signal,Promise.race([he,V(B,ee)])}return V(B,ee)};return{fetch:Y,Request:N}}l.AbortController=b,l.AbortSignal=h,l.abortableFetch=E},{}],20:[function(t,s,l){},{}],21:[function(t,s,l){var n=t("./_hashClear"),r=t("./_hashDelete"),o=t("./_hashGet"),d=t("./_hashHas"),c=t("./_hashSet");function p(f){var g=-1,m=f==null?0:f.length;for(this.clear();++g<m;){var y=f[g];this.set(y[0],y[1])}}p.prototype.clear=n,p.prototype.delete=r,p.prototype.get=o,p.prototype.has=d,p.prototype.set=c,s.exports=p},{"./_hashClear":46,"./_hashDelete":47,"./_hashGet":48,"./_hashHas":49,"./_hashSet":50}],22:[function(t,s,l){var n=t("./_listCacheClear"),r=t("./_listCacheDelete"),o=t("./_listCacheGet"),d=t("./_listCacheHas"),c=t("./_listCacheSet");function p(f){var g=-1,m=f==null?0:f.length;for(this.clear();++g<m;){var y=f[g];this.set(y[0],y[1])}}p.prototype.clear=n,p.prototype.delete=r,p.prototype.get=o,p.prototype.has=d,p.prototype.set=c,s.exports=p},{"./_listCacheClear":56,"./_listCacheDelete":57,"./_listCacheGet":58,"./_listCacheHas":59,"./_listCacheSet":60}],23:[function(t,s,l){var n=t("./_getNative"),r=t("./_root"),o=n(r,"Map");s.exports=o},{"./_getNative":42,"./_root":72}],24:[function(t,s,l){var n=t("./_mapCacheClear"),r=t("./_mapCacheDelete"),o=t("./_mapCacheGet"),d=t("./_mapCacheHas"),c=t("./_mapCacheSet");function p(f){var g=-1,m=f==null?0:f.length;for(this.clear();++g<m;){var y=f[g];this.set(y[0],y[1])}}p.prototype.clear=n,p.prototype.delete=r,p.prototype.get=o,p.prototype.has=d,p.prototype.set=c,s.exports=p},{"./_mapCacheClear":61,"./_mapCacheDelete":62,"./_mapCacheGet":63,"./_mapCacheHas":64,"./_mapCacheSet":65}],25:[function(t,s,l){var n=t("./_root"),r=n.Symbol;s.exports=r},{"./_root":72}],26:[function(t,s,l){var n=t("./_baseTimes"),r=t("./isArguments"),o=t("./isArray"),d=t("./isBuffer"),c=t("./_isIndex"),p=t("./isTypedArray"),f=Object.prototype,g=f.hasOwnProperty;function m(y,x){var h=o(y),b=!h&&r(y),v=!h&&!b&&d(y),E=!h&&!b&&!v&&p(y),P=h||b||v||E,O=P?n(y.length,String):[],j=O.length;for(var I in y)(x||g.call(y,I))&&!(P&&(I=="length"||v&&(I=="offset"||I=="parent")||E&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||c(I,j)))&&O.push(I);return O}s.exports=m},{"./_baseTimes":35,"./_isIndex":51,"./isArguments":78,"./isArray":79,"./isBuffer":82,"./isTypedArray":92}],27:[function(t,s,l){function n(r,o){for(var d=-1,c=r==null?0:r.length,p=Array(c);++d<c;)p[d]=o(r[d],d,r);return p}s.exports=n},{}],28:[function(t,s,l){var n=t("./eq");function r(o,d){for(var c=o.length;c--;)if(n(o[c][0],d))return c;return-1}s.exports=r},{"./eq":76}],29:[function(t,s,l){var n=t("./_castPath"),r=t("./_toKey");function o(d,c){c=n(c,d);for(var p=0,f=c.length;d!=null&&p<f;)d=d[r(c[p++])];return p&&p==f?d:void 0}s.exports=o},{"./_castPath":38,"./_toKey":74}],30:[function(t,s,l){var n=t("./_Symbol"),r=t("./_getRawTag"),o=t("./_objectToString"),d="[object Null]",c="[object Undefined]",p=n?n.toStringTag:void 0;function f(g){return g==null?g===void 0?c:d:p&&p in Object(g)?r(g):o(g)}s.exports=f},{"./_Symbol":25,"./_getRawTag":44,"./_objectToString":70}],31:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isObjectLike"),o="[object Arguments]";function d(c){return r(c)&&n(c)==o}s.exports=d},{"./_baseGetTag":30,"./isObjectLike":88}],32:[function(t,s,l){var n=t("./isFunction"),r=t("./_isMasked"),o=t("./isObject"),d=t("./_toSource"),c=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,f=Function.prototype,g=Object.prototype,m=f.toString,y=g.hasOwnProperty,x=RegExp("^"+m.call(y).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(b){if(!o(b)||r(b))return!1;var v=n(b)?x:p;return v.test(d(b))}s.exports=h},{"./_isMasked":54,"./_toSource":75,"./isFunction":83,"./isObject":87}],33:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isLength"),o=t("./isObjectLike"),d="[object Arguments]",c="[object Array]",p="[object Boolean]",f="[object Date]",g="[object Error]",m="[object Function]",y="[object Map]",x="[object Number]",h="[object Object]",b="[object RegExp]",v="[object Set]",E="[object String]",P="[object WeakMap]",O="[object ArrayBuffer]",j="[object DataView]",I="[object Float32Array]",T="[object Float64Array]",R="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",N="[object Uint8Array]",V="[object Uint8ClampedArray]",Y="[object Uint16Array]",oe="[object Uint32Array]",B={};B[I]=B[T]=B[R]=B[k]=B[A]=B[N]=B[V]=B[Y]=B[oe]=!0,B[d]=B[c]=B[O]=B[p]=B[j]=B[f]=B[g]=B[m]=B[y]=B[x]=B[h]=B[b]=B[v]=B[E]=B[P]=!1;function ee(W){return o(W)&&r(W.length)&&!!B[n(W)]}s.exports=ee},{"./_baseGetTag":30,"./isLength":84,"./isObjectLike":88}],34:[function(t,s,l){var n=t("./_isPrototype"),r=t("./_nativeKeys"),o=Object.prototype,d=o.hasOwnProperty;function c(p){if(!n(p))return r(p);var f=[];for(var g in Object(p))d.call(p,g)&&g!="constructor"&&f.push(g);return f}s.exports=c},{"./_isPrototype":55,"./_nativeKeys":68}],35:[function(t,s,l){function n(r,o){for(var d=-1,c=Array(r);++d<r;)c[d]=o(d);return c}s.exports=n},{}],36:[function(t,s,l){var n=t("./_Symbol"),r=t("./_arrayMap"),o=t("./isArray"),d=t("./isSymbol"),c=1/0,p=n?n.prototype:void 0,f=p?p.toString:void 0;function g(m){if(typeof m=="string")return m;if(o(m))return r(m,g)+"";if(d(m))return f?f.call(m):"";var y=m+"";return y=="0"&&1/m==-c?"-0":y}s.exports=g},{"./_Symbol":25,"./_arrayMap":27,"./isArray":79,"./isSymbol":91}],37:[function(t,s,l){function n(r){return function(o){return r(o)}}s.exports=n},{}],38:[function(t,s,l){var n=t("./isArray"),r=t("./_isKey"),o=t("./_stringToPath"),d=t("./toString");function c(p,f){return n(p)?p:r(p,f)?[p]:o(d(p))}s.exports=c},{"./_isKey":52,"./_stringToPath":73,"./isArray":79,"./toString":96}],39:[function(t,s,l){var n=t("./_root"),r=n["__core-js_shared__"];s.exports=r},{"./_root":72}],40:[function(t,s,l){(function(n){var r=typeof n=="object"&&n&&n.Object===Object&&n;s.exports=r}).call(this,typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],41:[function(t,s,l){var n=t("./_isKeyable");function r(o,d){var c=o.__data__;return n(d)?c[typeof d=="string"?"string":"hash"]:c.map}s.exports=r},{"./_isKeyable":53}],42:[function(t,s,l){var n=t("./_baseIsNative"),r=t("./_getValue");function o(d,c){var p=r(d,c);return n(p)?p:void 0}s.exports=o},{"./_baseIsNative":32,"./_getValue":45}],43:[function(t,s,l){var n=t("./_overArg"),r=n(Object.getPrototypeOf,Object);s.exports=r},{"./_overArg":71}],44:[function(t,s,l){var n=t("./_Symbol"),r=Object.prototype,o=r.hasOwnProperty,d=r.toString,c=n?n.toStringTag:void 0;function p(f){var g=o.call(f,c),m=f[c];try{f[c]=void 0;var y=!0}catch{}var x=d.call(f);return y&&(g?f[c]=m:delete f[c]),x}s.exports=p},{"./_Symbol":25}],45:[function(t,s,l){function n(r,o){return r==null?void 0:r[o]}s.exports=n},{}],46:[function(t,s,l){var n=t("./_nativeCreate");function r(){this.__data__=n?n(null):{},this.size=0}s.exports=r},{"./_nativeCreate":67}],47:[function(t,s,l){function n(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}s.exports=n},{}],48:[function(t,s,l){var n=t("./_nativeCreate"),r="__lodash_hash_undefined__",o=Object.prototype,d=o.hasOwnProperty;function c(p){var f=this.__data__;if(n){var g=f[p];return g===r?void 0:g}return d.call(f,p)?f[p]:void 0}s.exports=c},{"./_nativeCreate":67}],49:[function(t,s,l){var n=t("./_nativeCreate"),r=Object.prototype,o=r.hasOwnProperty;function d(c){var p=this.__data__;return n?p[c]!==void 0:o.call(p,c)}s.exports=d},{"./_nativeCreate":67}],50:[function(t,s,l){var n=t("./_nativeCreate"),r="__lodash_hash_undefined__";function o(d,c){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=n&&c===void 0?r:c,this}s.exports=o},{"./_nativeCreate":67}],51:[function(t,s,l){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(d,c){var p=typeof d;return c=c??n,!!c&&(p=="number"||p!="symbol"&&r.test(d))&&d>-1&&d%1==0&&d<c}s.exports=o},{}],52:[function(t,s,l){var n=t("./isArray"),r=t("./isSymbol"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function c(p,f){if(n(p))return!1;var g=typeof p;return g=="number"||g=="symbol"||g=="boolean"||p==null||r(p)?!0:d.test(p)||!o.test(p)||f!=null&&p in Object(f)}s.exports=c},{"./isArray":79,"./isSymbol":91}],53:[function(t,s,l){function n(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}s.exports=n},{}],54:[function(t,s,l){var n=t("./_coreJsData"),r=function(){var d=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}();function o(d){return!!r&&r in d}s.exports=o},{"./_coreJsData":39}],55:[function(t,s,l){var n=Object.prototype;function r(o){var d=o&&o.constructor,c=typeof d=="function"&&d.prototype||n;return o===c}s.exports=r},{}],56:[function(t,s,l){function n(){this.__data__=[],this.size=0}s.exports=n},{}],57:[function(t,s,l){var n=t("./_assocIndexOf"),r=Array.prototype,o=r.splice;function d(c){var p=this.__data__,f=n(p,c);if(f<0)return!1;var g=p.length-1;return f==g?p.pop():o.call(p,f,1),--this.size,!0}s.exports=d},{"./_assocIndexOf":28}],58:[function(t,s,l){var n=t("./_assocIndexOf");function r(o){var d=this.__data__,c=n(d,o);return c<0?void 0:d[c][1]}s.exports=r},{"./_assocIndexOf":28}],59:[function(t,s,l){var n=t("./_assocIndexOf");function r(o){return n(this.__data__,o)>-1}s.exports=r},{"./_assocIndexOf":28}],60:[function(t,s,l){var n=t("./_assocIndexOf");function r(o,d){var c=this.__data__,p=n(c,o);return p<0?(++this.size,c.push([o,d])):c[p][1]=d,this}s.exports=r},{"./_assocIndexOf":28}],61:[function(t,s,l){var n=t("./_Hash"),r=t("./_ListCache"),o=t("./_Map");function d(){this.size=0,this.__data__={hash:new n,map:new(o||r),string:new n}}s.exports=d},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],62:[function(t,s,l){var n=t("./_getMapData");function r(o){var d=n(this,o).delete(o);return this.size-=d?1:0,d}s.exports=r},{"./_getMapData":41}],63:[function(t,s,l){var n=t("./_getMapData");function r(o){return n(this,o).get(o)}s.exports=r},{"./_getMapData":41}],64:[function(t,s,l){var n=t("./_getMapData");function r(o){return n(this,o).has(o)}s.exports=r},{"./_getMapData":41}],65:[function(t,s,l){var n=t("./_getMapData");function r(o,d){var c=n(this,o),p=c.size;return c.set(o,d),this.size+=c.size==p?0:1,this}s.exports=r},{"./_getMapData":41}],66:[function(t,s,l){var n=t("./memoize"),r=500;function o(d){var c=n(d,function(f){return p.size===r&&p.clear(),f}),p=c.cache;return c}s.exports=o},{"./memoize":94}],67:[function(t,s,l){var n=t("./_getNative"),r=n(Object,"create");s.exports=r},{"./_getNative":42}],68:[function(t,s,l){var n=t("./_overArg"),r=n(Object.keys,Object);s.exports=r},{"./_overArg":71}],69:[function(t,s,l){var n=t("./_freeGlobal"),r=typeof l=="object"&&l&&!l.nodeType&&l,o=r&&typeof s=="object"&&s&&!s.nodeType&&s,d=o&&o.exports===r,c=d&&n.process,p=function(){try{var f=o&&o.require&&o.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}}();s.exports=p},{"./_freeGlobal":40}],70:[function(t,s,l){var n=Object.prototype,r=n.toString;function o(d){return r.call(d)}s.exports=o},{}],71:[function(t,s,l){function n(r,o){return function(d){return r(o(d))}}s.exports=n},{}],72:[function(t,s,l){var n=t("./_freeGlobal"),r=typeof self=="object"&&self&&self.Object===Object&&self,o=n||r||Function("return this")();s.exports=o},{"./_freeGlobal":40}],73:[function(t,s,l){var n=t("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,d=n(function(c){var p=[];return c.charCodeAt(0)===46&&p.push(""),c.replace(r,function(f,g,m,y){p.push(m?y.replace(o,"$1"):g||f)}),p});s.exports=d},{"./_memoizeCapped":66}],74:[function(t,s,l){var n=t("./isSymbol"),r=1/0;function o(d){if(typeof d=="string"||n(d))return d;var c=d+"";return c=="0"&&1/d==-r?"-0":c}s.exports=o},{"./isSymbol":91}],75:[function(t,s,l){var n=Function.prototype,r=n.toString;function o(d){if(d!=null){try{return r.call(d)}catch{}try{return d+""}catch{}}return""}s.exports=o},{}],76:[function(t,s,l){function n(r,o){return r===o||r!==r&&o!==o}s.exports=n},{}],77:[function(t,s,l){var n=t("./_baseGet");function r(o,d,c){var p=o==null?void 0:n(o,d);return p===void 0?c:p}s.exports=r},{"./_baseGet":29}],78:[function(t,s,l){var n=t("./_baseIsArguments"),r=t("./isObjectLike"),o=Object.prototype,d=o.hasOwnProperty,c=o.propertyIsEnumerable,p=n(function(){return arguments}())?n:function(f){return r(f)&&d.call(f,"callee")&&!c.call(f,"callee")};s.exports=p},{"./_baseIsArguments":31,"./isObjectLike":88}],79:[function(t,s,l){var n=Array.isArray;s.exports=n},{}],80:[function(t,s,l){var n=t("./isFunction"),r=t("./isLength");function o(d){return d!=null&&r(d.length)&&!n(d)}s.exports=o},{"./isFunction":83,"./isLength":84}],81:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isObjectLike"),o="[object Boolean]";function d(c){return c===!0||c===!1||r(c)&&n(c)==o}s.exports=d},{"./_baseGetTag":30,"./isObjectLike":88}],82:[function(t,s,l){var n=t("./_root"),r=t("./stubFalse"),o=typeof l=="object"&&l&&!l.nodeType&&l,d=o&&typeof s=="object"&&s&&!s.nodeType&&s,c=d&&d.exports===o,p=c?n.Buffer:void 0,f=p?p.isBuffer:void 0,g=f||r;s.exports=g},{"./_root":72,"./stubFalse":95}],83:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isObject"),o="[object AsyncFunction]",d="[object Function]",c="[object GeneratorFunction]",p="[object Proxy]";function f(g){if(!r(g))return!1;var m=n(g);return m==d||m==c||m==o||m==p}s.exports=f},{"./_baseGetTag":30,"./isObject":87}],84:[function(t,s,l){var n=9007199254740991;function r(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=n}s.exports=r},{}],85:[function(t,s,l){function n(r){return r==null}s.exports=n},{}],86:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isObjectLike"),o="[object Number]";function d(c){return typeof c=="number"||r(c)&&n(c)==o}s.exports=d},{"./_baseGetTag":30,"./isObjectLike":88}],87:[function(t,s,l){function n(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}s.exports=n},{}],88:[function(t,s,l){function n(r){return r!=null&&typeof r=="object"}s.exports=n},{}],89:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./_getPrototype"),o=t("./isObjectLike"),d="[object Object]",c=Function.prototype,p=Object.prototype,f=c.toString,g=p.hasOwnProperty,m=f.call(Object);function y(x){if(!o(x)||n(x)!=d)return!1;var h=r(x);if(h===null)return!0;var b=g.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&f.call(b)==m}s.exports=y},{"./_baseGetTag":30,"./_getPrototype":43,"./isObjectLike":88}],90:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isArray"),o=t("./isObjectLike"),d="[object String]";function c(p){return typeof p=="string"||!r(p)&&o(p)&&n(p)==d}s.exports=c},{"./_baseGetTag":30,"./isArray":79,"./isObjectLike":88}],91:[function(t,s,l){var n=t("./_baseGetTag"),r=t("./isObjectLike"),o="[object Symbol]";function d(c){return typeof c=="symbol"||r(c)&&n(c)==o}s.exports=d},{"./_baseGetTag":30,"./isObjectLike":88}],92:[function(t,s,l){var n=t("./_baseIsTypedArray"),r=t("./_baseUnary"),o=t("./_nodeUtil"),d=o&&o.isTypedArray,c=d?r(d):n;s.exports=c},{"./_baseIsTypedArray":33,"./_baseUnary":37,"./_nodeUtil":69}],93:[function(t,s,l){var n=t("./_arrayLikeKeys"),r=t("./_baseKeys"),o=t("./isArrayLike");function d(c){return o(c)?n(c):r(c)}s.exports=d},{"./_arrayLikeKeys":26,"./_baseKeys":34,"./isArrayLike":80}],94:[function(t,s,l){var n=t("./_MapCache"),r="Expected a function";function o(d,c){if(typeof d!="function"||c!=null&&typeof c!="function")throw new TypeError(r);var p=function(){var f=arguments,g=c?c.apply(this,f):f[0],m=p.cache;if(m.has(g))return m.get(g);var y=d.apply(this,f);return p.cache=m.set(g,y)||m,y};return p.cache=new(o.Cache||n),p}o.Cache=n,s.exports=o},{"./_MapCache":24}],95:[function(t,s,l){function n(){return!1}s.exports=n},{}],96:[function(t,s,l){var n=t("./_baseToString");function r(o){return o==null?"":n(o)}s.exports=r},{"./_baseToString":36}],airtable:[function(t,s,l){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},r=n(t("./base")),o=n(t("./record")),d=n(t("./table")),c=n(t("./airtable_error")),p=function(){function f(g){g===void 0&&(g={});var m=f.default_config(),y=g.apiVersion||f.apiVersion||m.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:g.apiKey||f.apiKey||m.apiKey},_apiVersion:{value:y},_apiVersionMajor:{value:y.split(".")[0]},_customHeaders:{value:g.customHeaders||{}},_endpointUrl:{value:g.endpointUrl||f.endpointUrl||m.endpointUrl},_noRetryIfRateLimited:{value:g.noRetryIfRateLimited||f.noRetryIfRateLimited||m.noRetryIfRateLimited},_requestTimeout:{value:g.requestTimeout||f.requestTimeout||m.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return f.prototype.base=function(g){return r.default.createFunctor(this,g)},f.default_config=function(){return{endpointUrl:"https://api.airtable.com",apiVersion:"0.1.0",apiKey:"",noRetryIfRateLimited:!1,requestTimeout:300*1e3}},f.configure=function(g){var m=g.apiKey,y=g.endpointUrl,x=g.apiVersion,h=g.noRetryIfRateLimited,b=g.requestTimeout;f.apiKey=m,f.endpointUrl=y,f.apiVersion=x,f.noRetryIfRateLimited=h,f.requestTimeout=b},f.base=function(g){return new f().base(g)},f.Base=r.default,f.Record=o.default,f.Table=d.default,f.Error=c.default,f}();s.exports=p},{"./airtable_error":2,"./base":3,"./record":15,"./table":17}]},{},["airtable"])("airtable")})})(Pt);var Nr=Pt.exports;const Fr=bt(Nr),Mr="欄位填答統計",gt="填答紀錄",qr="驗證紀錄",Ur="行為追蹤",xt=()=>{const{public:{airtableBase:Z,airtableKey:te}}=_t(),t=new Fr({apiKey:te}).base(Z);return{base:t,getPendingFields:d=>new Promise((c,p)=>{t(Mr).select({view:"尚待驗證"}).firstPage((f,g)=>{if(f){p(f);return}const m=g==null?void 0:g.filter(y=>{const x=y.get("相關填答者");return!x||!x.every(h=>h===d)});c(m)})}),getPendingVerifications:d=>new Promise((c,p)=>{t(gt).select({view:"待驗證紀錄"}).firstPage((f,g)=>{if(f){p(f);return}const m=g==null?void 0:g.filter(y=>(y.get("填答者暱稱")||"")!==d);c(m)})}),submitField:({userId:d,companyId:c,year:p,field:f,value:g,unit:m="",notes:y="",page:x=0,keyword:h=""})=>{const b={填答者暱稱:d,公司統編:c,報告書年份:p,欄位標籤:f,數值:g};return m&&(b.單位=m),y&&(b.補充資訊=y),x&&(b.答案頁次=x),h&&(b.答案關鍵字=h),new Promise((v,E)=>{t(gt).create([{fields:b}],(P,O)=>{P?E(P):v(O[0])})})},verifyField:({userId:d,submissionId:c,result:p})=>{const f={驗證者暱稱:d,填答紀錄:[c],驗證結果:p};return new Promise((g,m)=>{t(qr).create([{fields:f}],(y,x)=>{y?m(y):g(x[0])})})},sendTrackUsage:({userId:d,companyId:c,year:p,field:f,isOnVerify:g,searchKeyword:m,isPredefined:y=void 0,clickPages:x,viewPages:h,answerPage:b})=>{const v={填答者暱稱:d,公司統編:c,報告書年份:p,欄位標籤:f,是否為驗證時:g};return m&&(v.關鍵字=m),y!==void 0&&(v.是否自訂關鍵字=!y),x.length&&(v.點選過的頁次=x.join(",")),h.length&&(v.瀏覽過的頁次=h.join(",")),b&&(v.答案頁次=b),new Promise((E,P)=>{t(Ur).create([{fields:v}],(O,j)=>{O?P(O):E(j[0])})})}}},Br=[{category:"環境",fields:[{label:"是否根據 ISO 14064",type:"boolean",level:1,keywords:["14064"],notes:"14064是一個盤查溫室氣體的方法論，如果該公司有表示依照14064進行盤查，就算有。"},{label:"範疇一（值）",type:"number",keywords:["範疇一","類別一","溫室氣體","二氧化碳當量"],level:3,notes:"這題要抓的是溫室氣體排放量中，範疇一的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"範疇二（值）",type:"number",level:3,keywords:["範疇二","類別二","溫室氣體","二氧化碳當量"],notes:"這題要抓的是溫室氣體排放量中，範疇二的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"年度總用電量",type:"number",level:8,keywords:["外購電力","用電量","能源"],notes:"單位：度（KWh），只看電力／外購電力欄位，其他化石燃料的使用不計入喔。"},{label:"再生能源裝置容量",type:"number",level:3,keywords:["裝置容量","再生能源"],notes:"單位：KW ，可能是寫「沒有設置」。再生能源的範疇為太陽光電、風電、地熱等。"},{label:"總取水量",type:"number",level:3,keywords:["取水量","水資源"],notes:"單位：噸；要收的是企業用水量中，取自自然或人工的水（如自來水、地下水等）。"},{label:"耗用水量",type:"number",level:3,keywords:["耗用水","耗水量","水資源"],notes:"單位：噸；要收的是企業在生產過程中消耗掉的水資源，如果沒有明確資料，也可以用總取水量減掉排放水量。"},{label:"一般事業廢棄物",type:"number",level:1,keywords:["事業廢棄物","廢棄物"],notes:"單位：噸；不包含有害事業廢棄物喔，只收非有害的廢棄物量。"}]},{category:"社會",fields:[{label:"正式人員",type:"number",level:1,keywords:["正式","正職","不定期","人力","勞動"],notes:"要收的是該公司的正職人員喔。兼職的不計。"},{label:"男性正式員工",type:"number",level:1,keywords:["男性員工","人力","勞動"]},{label:"女性正式員工",type:"number",level:1,keywords:["女性員工","人力","勞動"]},{label:"新進人數",type:"number",level:1,keywords:["新進"]},{label:"離職人數",type:"number",level:1,keywords:["離職"]},{label:"職災事件數",type:"number",level:1,keywords:["職災","受傷","死亡"],notes:"單位：件數；多數公司會直接寫當年度發生幾起職災事件，造成幾人受傷／死亡。這邊收的是事件數喔。"},{label:"工安意外細節",type:"string",level:8,keywords:["火災","事故"],notes:"文字質性描述，例如「揭露南極工廠火災事件」；不是收職災事件喔，如果沒有資訊就請填「無相關資訊」。"}]},{category:"治理",fields:[{label:"營利事業所得稅繳納金額",type:"number",level:8,keywords:["所得稅","稅後","繳納","營收","支付政府款項"],notes:"單位：元；如果沒有直接寫繳納多少所得稅，也可以嘗試用「稅前淨利」減去「稅後淨利」來計算。"},{label:"是否揭露政府補助（GRI-201-4）",type:"boolean",level:5,keywords:["GRI 201","補貼","補助"],notes:"單位：元；這邊主要是想了解企業拿了多少的政府資助，通常會在GRI對照表中找得到，如果沒有就寫「無相關資訊」即可。"},{label:"研發經費投入金額",type:"number",level:3,keywords:["研發","研發費用"],notes:"單位：元；這邊想看的是企業投入多少研發經費喔。"},{label:"ISO 14001（環境管理系統）",type:"boolean",level:1,keywords:["14001"],notes:"填寫有無即可，企業若有使用就會明確寫依14001執行...。"},{label:"ISO 45001（職業安全衛生管理系統）",type:"boolean",level:1,keywords:["45001"],notes:"填寫有無即可，企業若有使用就會明確寫依45001執行...。"}]}],Gr=Br,$e=[{year:2021,reports:[{id:"83078600",name:"東泥",totalPage:66},{id:"11913502",name:"台泥",totalPage:65},{id:"03244509",name:"亞泥",totalPage:132},{id:"11892801",name:"嘉泥",totalPage:77},{id:"07568009",name:"環泥",totalPage:75,pageOffset:-1},{id:"40601248",name:"幸福",totalPage:71},{id:"75708007",name:"台塑",totalPage:133},{id:"75370905",name:"南亞",totalPage:127},{id:"11917107",name:"台聚",totalPage:146},{id:"11686106",name:"華夏",totalPage:165},{id:"20747385",name:"亞聚",totalPage:111},{id:"11893409",name:"台達化",totalPage:106},{id:"20844865",name:"台苯",totalPage:110},{id:"04212250",name:"國喬",totalPage:91},{id:"04748660",name:"聯成",totalPage:110},{id:"03084741",name:"中石化",totalPage:225},{id:"15024509",name:"大洋",totalPage:58},{id:"68192103",name:"永裕",totalPage:80},{id:"58650902",name:"台化",totalPage:106},{id:"30414175",name:"中鋼",totalPage:144},{id:"75280209",name:"東和鋼鐵",totalPage:146},{id:"75992214",name:"燁興",totalPage:104},{id:"82001528",name:"第一銅",totalPage:87},{id:"11529802",name:"春源",totalPage:68},{id:"85800192",name:"中鋼構",totalPage:95},{id:"07838854",name:"中鴻",totalPage:115},{id:"55389357",name:"豐興",totalPage:98},{id:"72065240",name:"官田鋼",totalPage:69},{id:"75947936",name:"燁輝",totalPage:104},{id:"22318348",name:"大成鋼",totalPage:57},{id:"79837539",name:"盛餘",totalPage:106},{id:"35836625",name:"新光鋼",totalPage:83},{id:"75460005",name:"唐榮公司",totalPage:126},{id:"86637206",name:"世鎧",totalPage:62},{id:"31213886",name:"世豐",totalPage:60},{id:"86540792",name:"震南鐵",totalPage:84},{id:"69651695",name:"世紀風電",totalPage:90},{id:"81188829",name:"長榮鋼",totalPage:116},{id:"84252697",name:"榮剛",totalPage:125},{id:"84703335",name:"強新",totalPage:86},{id:"69916350",name:"恒耀國際",totalPage:105},{id:"28754606",name:"大國鋼",totalPage:42},{id:"22649001",name:"世紀鋼",totalPage:107},{id:"47217677",name:"聯電",totalPage:176},{id:"89004161",name:"華泰",totalPage:88},{id:"22099131",name:"台積電",totalPage:228},{id:"22099548",name:"旺宏",totalPage:114},{id:"22099408",name:"光罩",totalPage:42},{id:"47255947",name:"台亞",totalPage:108},{id:"22099218",name:"華邦電",totalPage:124},{id:"58506816",name:"順德",totalPage:109},{id:"22099202",name:"矽統",totalPage:55},{id:"55625676",name:"菱生",totalPage:70},{id:"22671299",name:"瑞昱",totalPage:105},{id:"23821182",name:"凌陽",totalPage:71},{id:"89390656",name:"南亞科",totalPage:182},{id:"05126366",name:"超豐",totalPage:114},{id:"22507241",name:"京元電子",totalPage:125},{id:"23446187",name:"創見",totalPage:89},{id:"84149961",name:"聯發科",totalPage:90},{id:"84149224",name:"義隆",totalPage:93},{id:"16130280",name:"晶豪科",totalPage:95},{id:"84149955",name:"聯詠",totalPage:149},{id:"84149060",name:"智原",totalPage:90},{id:"84149759",name:"聯傑",totalPage:78},{id:"70752257",name:"穩懋",totalPage:105},{id:"70785139",name:"景碩",totalPage:105},{id:"16633261",name:"原相",totalPage:56},{id:"70751779",name:"欣銓",totalPage:113},{id:"16741846",name:"精材",totalPage:117},{id:"12858252",name:"京鼎",totalPage:100},{id:"16299879",name:"創意",totalPage:90},{id:"70784292",name:"力旺",totalPage:49},{id:"89406518",name:"台勝科",totalPage:103},{id:"28069900",name:"敦泰",totalPage:91},{id:"89672698",name:"德微",totalPage:88},{id:"16406379",name:"家登",totalPage:130},{id:"29187308",name:"日月光投控",totalPage:176},{id:"28112646",name:"新唐",totalPage:103},{id:"80741441",name:"凌通",totalPage:55},{id:"84149499",name:"天鈺",totalPage:94},{id:"28422591",name:"譜瑞-KY",totalPage:86},{id:"80661880",name:"立積",totalPage:57},{id:"80688184",name:"祥碩",totalPage:68},{id:"27490748",name:"信驊",totalPage:83},{id:"12636560",name:"界霖",totalPage:55},{id:"28935446",name:"杰力",totalPage:88},{id:"84149358",name:"世界",totalPage:197},{id:"97063584",name:"松翰",totalPage:103},{id:"47238650",name:"中美晶",totalPage:99},{id:"16130009",name:"頎邦",totalPage:102},{id:"16138282",name:"合晶",totalPage:123},{id:"16130330",name:"盛群",totalPage:97},{id:"03522600",name:"遠東新",totalPage:157},{id:"07435515",name:"新纖",totalPage:124},{id:"07220710",name:"宏洲",totalPage:103},{id:"14001199",name:"福懋",totalPage:140},{id:"68919301",name:"南紡",totalPage:106},{id:"07663290",name:"力麗",totalPage:78},{id:"33955322",name:"力鵬",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:96},{id:"22817999",name:"宏遠",totalPage:157},{id:"22976047",name:"聚隆",totalPage:64},{id:"69559487",name:"南緯",totalPage:52},{id:"68919702",name:"台南",totalPage:93},{id:"35884479",name:"儒鴻",totalPage:121},{id:"23609668",name:"聚陽",totalPage:71},{id:"88121697",name:"東盟開發",totalPage:82},{id:"49744324",name:"如興",totalPage:48},{id:"86124493",name:"元勝",totalPage:66},{id:"23531297",name:"雙邦",totalPage:68},{id:"33085508",name:"正隆",totalPage:132},{id:"94025264",name:"華紙",totalPage:64},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:144},{id:"22327037",name:"永豐實",totalPage:41},{id:"11384405",name:"東鹼",totalPage:41},{id:"04312878",name:"和益",totalPage:90},{id:"14057995",name:"東聯",totalPage:137},{id:"15458455",name:"永光",totalPage:108},{id:"51911712",name:"興農",totalPage:88},{id:"03375001",name:"國化",totalPage:82},{id:"12526607",name:"和桐",totalPage:54},{id:"75339004",name:"長興",totalPage:118},{id:"07066907",name:"中纖",totalPage:91},{id:"55738290",name:"三晃",totalPage:68},{id:"03795101",name:"台肥",totalPage:140},{id:"23221384",name:"中碳",totalPage:128},{id:"12132033",name:"元禎",totalPage:73},{id:"75137605",name:"永記",totalPage:116},{id:"03558206",name:"中華化",totalPage:90},{id:"07708830",name:"花仙子",totalPage:94},{id:"34245356",name:"毛寶",totalPage:64},{id:"23263551",name:"日勝化",totalPage:85},{id:"22625269",name:"台蠟",totalPage:49},{id:"75970680",name:"勝一",totalPage:76},{id:"47061800",name:"展宇",totalPage:86},{id:"11051504",name:"大恭",totalPage:64},{id:"05712099",name:"磐亞",totalPage:89},{id:"35108702",name:"永純",totalPage:121},{id:"86123874",name:"永捷",totalPage:91},{id:"85004174",name:"大立",totalPage:90},{id:"04465521",name:"德淵",totalPage:105},{id:"86688957",name:"美琪瑪",totalPage:98},{id:"75975242",name:"國精化",totalPage:54},{id:"16082267",name:"力成",totalPage:180},{id:"23218022",name:"矽格",totalPage:66},{id:"04226986",name:"同欣電",totalPage:69},{id:"28113286",name:"環球晶",totalPage:98},{id:"27879121",name:"精測",totalPage:114},{id:"53503847",name:"愛普＊",totalPage:80},{id:"70849957",name:"長科＊",totalPage:62},{id:"53016234",name:"虹揚-KY",totalPage:29},{id:"28398895",name:"雍智科技",totalPage:70},{id:"53172585",name:"安格",totalPage:51},{id:"25079572",name:"昇佳電子",totalPage:61},{id:"28112667",name:"力積電",totalPage:197},{id:"80601119",name:"采鈺",totalPage:152},{id:"86735240",name:"矽創",totalPage:71},{id:"22101116",name:"華東",totalPage:73},{id:"23826736",name:"福懋科",totalPage:96},{id:"16130042",name:"南茂",totalPage:129},{id:"97444368",name:"宇瞻",totalPage:116},{id:"12649951",name:"群聯",totalPage:55},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:117},{id:"80627878",name:"泓瀚",totalPage:63},{id:"16446422",name:"國碳科",totalPage:4},{id:"42328858",name:"材料-KY",totalPage:90},{id:"84754072",name:"雙鍵",totalPage:83},{id:"74229304",name:"南寶",totalPage:56},{id:"88744414",name:"誠泰科技",totalPage:82},{id:"36075449",name:"上品",totalPage:80},{id:"04243562",name:"聚和",totalPage:69},{id:"03707901",name:"中油",totalPage:182},{id:"86757124",name:"康普",totalPage:117},{id:"80170651",name:"三福化",year:2021,totalPage:107}]},{year:2022,reports:[{id:"11913502",name:"台泥",totalPage:143},{id:"03244509",name:"亞泥",totalPage:148},{id:"11892801",name:"嘉泥",totalPage:78},{id:"07568009",name:"環泥",totalPage:86},{id:"40601248",name:"幸福",totalPage:74},{id:"83078600",name:"東泥",totalPage:71},{id:"75708007",name:"台塑",totalPage:177},{id:"75370905",name:"南亞",totalPage:167},{id:"11917107",name:"台聚",totalPage:155},{id:"11686106",name:"華夏",totalPage:166},{id:"83387850",name:"三芳",totalPage:82},{id:"20747385",name:"亞聚",totalPage:129},{id:"11893409",name:"台達化",totalPage:131},{id:"20844865",name:"台苯",totalPage:67},{id:"04212250",name:"國喬",totalPage:106},{id:"04748660",name:"聯成",totalPage:109},{id:"03084741",name:"中石化",totalPage:152},{id:"15024509",name:"大洋",totalPage:123},{id:"58650902",name:"台化",totalPage:150},{id:"30414175",name:"中鋼",totalPage:156},{id:"75280209",name:"東和鋼鐵",totalPage:137},{id:"75992214",name:"燁興",totalPage:117},{id:"75466009",name:"高興昌",totalPage:87},{id:"82001528",name:"第一銅",totalPage:93},{id:"11529802",name:"春源",totalPage:80},{id:"88187108",name:"春雨",totalPage:131},{id:"85800192",name:"中鋼構",totalPage:107},{id:"07838854",name:"中鴻",totalPage:121},{id:"55389357",name:"豐興",totalPage:104},{id:"72065240",name:"官田鋼",totalPage:58},{id:"79841479",name:"聚亨",totalPage:125},{id:"75947936",name:"燁輝",totalPage:75},{id:"22318348",name:"大成鋼",totalPage:64},{id:"69771636",name:"威致",totalPage:81},{id:"79837539",name:"盛餘",totalPage:102},{id:"60330130",name:"彰源",totalPage:79},{id:"35836625",name:"新光鋼",totalPage:119},{id:"59068700",name:"允強",totalPage:84},{id:"75460005",name:"唐榮公司",totalPage:175},{id:"69651695",name:"世紀風電",totalPage:85},{id:"81188829",name:"長榮鋼",totalPage:133},{id:"84252697",name:"榮剛",totalPage:109},{id:"84703335",name:"強新",totalPage:101},{id:"38432767",name:"沛波",totalPage:52},{id:"69916350",name:"恒耀國際",totalPage:106},{id:"28754606",name:"大國鋼",totalPage:50},{id:"22649001",name:"世紀鋼",totalPage:76},{id:"47217677",name:"聯電",totalPage:200},{id:"89004161",name:"華泰",totalPage:121},{id:"22099131",name:"台積電",totalPage:236},{id:"22099548",name:"旺宏",totalPage:120},{id:"22099218",name:"華邦電",totalPage:122},{id:"22099202",name:"矽統",totalPage:56},{id:"55625676",name:"菱生",totalPage:80},{id:"22671299",name:"瑞昱",totalPage:103},{id:"23821182",name:"凌陽",totalPage:82},{id:"89390656",name:"南亞科",totalPage:183},{id:"05126366",name:"超豐",totalPage:127},{id:"22507241",name:"京元電子",totalPage:129},{id:"23446187",name:"創見",totalPage:105},{id:"84149961",name:"聯發科",totalPage:81},{id:"84149224",name:"義隆",totalPage:113},{id:"16130280",name:"晶豪科",totalPage:92},{id:"16130388",name:"嘉晶",totalPage:164},{id:"84149955",name:"聯詠",totalPage:165},{id:"84149060",name:"智原",totalPage:117},{id:"84149759",name:"聯傑",totalPage:80},{id:"70752257",name:"穩懋",totalPage:118},{id:"70785139",name:"景碩",totalPage:154},{id:"16633261",name:"原相",totalPage:74},{id:"70751779",name:"欣銓",totalPage:130},{id:"16741846",name:"精材",totalPage:125},{id:"12858252",name:"京鼎",totalPage:1},{id:"16299879",name:"創意",totalPage:118},{id:"70784292",name:"力旺",totalPage:73},{id:"89406518",name:"台勝科",totalPage:98},{id:"28069900",name:"敦泰",totalPage:66},{id:"80532726",name:"瑞鼎",totalPage:120},{id:"54389725",name:"漢磊",totalPage:163},{id:"29187308",name:"日月光投控",totalPage:210},{id:"28112646",name:"新唐",totalPage:126},{id:"84149499",name:"天鈺",totalPage:120},{id:"28422591",name:"譜瑞-KY",totalPage:49},{id:"80661880",name:"立積",totalPage:75},{id:"27490748",name:"信驊",totalPage:107},{id:"12636560",name:"界霖",totalPage:55},{id:"84149358",name:"世界",totalPage:236},{id:"22099694",name:"鈺創",totalPage:53},{id:"97063584",name:"松翰",totalPage:91},{id:"47238650",name:"中美晶",totalPage:109},{id:"16130009",name:"頎邦",totalPage:114},{id:"16138282",name:"合晶",totalPage:150},{id:"03522600",name:"遠東新",totalPage:170},{id:"07435515",name:"新纖",totalPage:122},{id:"07220710",name:"宏洲",totalPage:100},{id:"14001199",name:"福懋",totalPage:54},{id:"68919301",name:"南紡",totalPage:109},{id:"07663290",name:"力麗",totalPage:82},{id:"33955322",name:"力鵬",totalPage:80},{id:"22266307",name:"年興",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:107},{id:"33653494",name:"聯發",totalPage:61},{id:"22817999",name:"宏遠",totalPage:158},{id:"73686632",name:"得力",totalPage:94},{id:"22976047",name:"聚隆",totalPage:65},{id:"35884479",name:"儒鴻",totalPage:76},{id:"88121697",name:"東盟開發",totalPage:91},{id:"49744324",name:"如興",totalPage:49},{id:"23531297",name:"雙邦",totalPage:85},{id:"11038101",name:"士紙",totalPage:79},{id:"33085508",name:"正隆",totalPage:135},{id:"94025264",name:"華紙",totalPage:67},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:147},{id:"22327037",name:"永豐實",totalPage:97},{id:"11384405",name:"東鹼",totalPage:39},{id:"14057995",name:"東聯",totalPage:146},{id:"15458455",name:"永光",totalPage:68},{id:"51911712",name:"興農",totalPage:60},{id:"03375001",name:"國化",totalPage:86},{id:"75339004",name:"長興",totalPage:120},{id:"23221384",name:"中碳",totalPage:124},{id:"03558206",name:"中華化",totalPage:60},{id:"34245356",name:"毛寶",totalPage:82},{id:"16297788",name:"奇鈦科",totalPage:96},{id:"86688957",name:"美琪瑪",totalPage:77},{id:"16130330",name:"盛群",totalPage:107},{id:"16082267",name:"力成",totalPage:156},{id:"23218022",name:"矽格",totalPage:111},{id:"28113286",name:"環球晶",totalPage:106},{id:"27879121",name:"精測",totalPage:98},{id:"13145774",name:"穎崴",totalPage:98},{id:"53503847",name:"愛普＊",totalPage:92},{id:"70849957",name:"長科＊",totalPage:81},{id:"53016234",name:"虹揚-KY",totalPage:30},{id:"28112667",name:"力積電",totalPage:195},{id:"80601119",name:"采鈺",totalPage:167},{id:"84149884",name:"昇陽半導體",totalPage:86},{id:"22101116",name:"華東",totalPage:74},{id:"23826736",name:"福懋科",totalPage:125},{id:"16130042",name:"南茂",totalPage:141},{id:"97444368",name:"宇瞻",totalPage:121},{id:"12649951",name:"群聯",totalPage:52},{id:"03707901",name:"中油",totalPage:225},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:142},{id:"80627878",name:"泓瀚",totalPage:76},{id:"80170651",name:"三福化",totalPage:99},{id:"53278617",name:"晶呈科技",totalPage:75},{id:"36075449",name:"上品",totalPage:92},{id:"04243562",name:"聚和",totalPage:86}]}],$r={class:"onboardCrowd center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},Kr={key:0,class:"onboardCrowd__init"},Vr=M("h1",{class:"mt0 f4 f3-ns"},"歡迎參與標記原型工具測試！",-1),Hr=M("p",null,[ye("接下來，我們將隨機挑選幾個 ESG 裡的重要欄位，例如碳排放、員工人數，請你協助從報告書中，找到答案。 另外，我們也會找一些其他人已經標記過的欄位，請你確認他們的標記是否正確。 這些欄位的難度不一，有些非常簡單，有些則需要費心判讀，所以如果發現找不到答案，請不要灰心，可以跳到下一題。"),M("strong",null,"在今天活動結束後，我們會計算所有人的積分，並且發放紀念品給前幾名的參與者。")],-1),zr=M("p",null,'由於測試需要閱讀 PDF，請盡量使用 12" 螢幕以上的裝置，才能順利操作標記工具。 如果你手邊的螢幕太小，也歡迎直接來找我們借用筆電。',-1),Jr=M("p",null,"在填答結束後，會請你填寫使用心得的問卷，問卷的填答資料，會以 CC0 的方式授權公開，請記得不要填寫敏感資訊 🥹。 最後，除了問卷外，也歡迎隨時找我們聊聊，提供你的使用心得，或是對於工具的建議。",-1),Yr=M("div",{class:"bb ph4 b--moon-gray mv4"},null,-1),Wr=["onSubmit"],Qr={class:"db mb3",for:"userId"},Xr=M("div",{class:"dark-gray f6 mb1"},"請輸入你的暱稱，作為統計積分計算使用",-1),Zr=["disabled"],ea={key:1,class:"onboardCrowd__empty"},ta=M("h1",{class:"mt0 f4 f3-ns"},"所有題目都已經被標記完成！",-1),ra=M("p",null,"請期待本日的成果報告，或來找我們聊聊你的使用心得。",-1),aa=[ta,ra],na={key:2,class:"onboardCrowd__ready"},oa=M("h1",{class:"mt0 f4 f3-ns"},"抽籤完成！以下是想請你協助標記的題目：",-1),ia={key:0,class:"mv3"},sa=M("div",{class:"mb2 f4"},[ye("要"),M("strong",null,"標記"),ye("的報告書與欄位")],-1),ua={class:"flex-none mr2 fw5"},la={class:"flex-auto b"},ca={key:1,class:"mv4"},da=M("div",{class:"mb2 f4"},[ye("要"),M("strong",null,"驗證"),ye("的報告書與欄位")],-1),fa={class:"flex-none mr2 fw5"},pa={class:"flex-auto b"},ha=Ee({__name:"OnboardUser",emits:["userId","tasks"],setup(Z,{emit:te}){const t=xt(),s=ae(!0),l=ae(!1),n=ae(!1),r=ae(""),o=ae([]),d=ae([]),c=ve(()=>l.value?"機器人正在幫忙抽籤中... 🤖":"載入題庫"),p=ve(()=>r.value.length>0);async function f(){l.value=!0;let h=[];try{h=await t.getPendingFields(r.value)}catch(P){alert(P)}await new Promise(P=>{setTimeout(P,300+Math.random()*2e3)});let b=[];try{b=await t.getPendingVerifications(r.value)}catch(P){alert(P)}const v=y(h),E=m(b);s.value=!1,!v.length&&!E.length?n.value=!0:(o.value=v,d.value=E),l.value=!1}const g=Gr.flatMap(h=>h.fields.map(b=>({category:h.category,...b})));function m(h,b=6){const v=ge.shuffle(h.slice(0,b*3)),P=ge.uniq(v.map(j=>j.get("公司統編"))).reduce((j,I,T)=>(j[I]=T,j),{});return v.sort((j,I)=>P[j.get("公司統編")]-P[I.get("公司統編")]),v.slice(0,b).map(j=>{const I=$e[0].reports.find(R=>R.id===j.get("公司統編")),T=g.find(R=>R.label===j.get("欄位標籤"));return{company:I,year:j.get("報告書年份"),data:j,...T}})}function y(h,b=2){const v=ge.shuffle(ge.uniq(h.map(N=>N.get("公司統編")))),E=$e[0].year,P=$e[0].reports.map(N=>N.id),O=ge.shuffle(ge.difference(P,v)),I=(O.length?O:v)[0],T=h.filter(N=>N.get("公司統編")===I).map(N=>N.get("欄位標籤")),R=ge.shuffle(ge.difference(g,T)),k=$e[0].reports.find(N=>N.id===I);return R.slice(0,b).map(N=>({company:k,year:E,...N}))}function x(){te("userId",r.value),te("tasks",{submissions:o.value,verifications:d.value})}return(h,b)=>(Q(),ne("div",$r,[q(s)?(Q(),ne("div",Kr,[Vr,Hr,zr,Jr,Yr,M("form",{onSubmit:Ve(f,["prevent"])},[M("label",Qr,[Xr,Se(M("input",{"onUpdate:modelValue":b[0]||(b[0]=v=>vt(r)?r.value=v:null),type:"text"},null,512),[[Fe,q(r),void 0,{trim:!0}]])]),M("button",{class:"pv2 ph4",type:"submit",disabled:!q(p)||q(l)},ue(q(c)),9,Zr)],40,Wr)])):q(n)?(Q(),ne("div",ea,aa)):(Q(),ne("div",na,[oa,q(o).length?(Q(),ne("div",ia,[sa,(Q(!0),ne(Me,null,qe(q(o),v=>(Q(),ne("div",{class:"flex items-center f6 gray",key:v.label},[M("div",ua,ue(v.company.name),1),M("div",la,ue(v.category)+" | "+ue(v.label),1)]))),128))])):Ue("",!0),q(d).length?(Q(),ne("div",ca,[da,(Q(!0),ne(Me,null,qe(q(d),v=>(Q(),ne("div",{class:"flex items-center f6 gray",key:v.label},[M("div",fa,ue(v.company.name),1),M("div",pa,ue(v.category)+" | "+ue(v.label),1)]))),128))])):Ue("",!0),M("button",{class:"pv2 ph4",onClick:x},"開始標記與驗證")]))]))}});var wt={exports:{}};/*! algoliasearch.umd.js | 4.19.1 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(Z,te){(function(t,s){Z.exports=s()})(rt,function(){function t(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function s(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);a&&(u=u.filter(function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable})),i.push.apply(i,u)}return i}function l(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?s(Object(i),!0).forEach(function(u){t(e,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(i,u))})}return e}function n(e,a){if(e==null)return{};var i,u,_=function(D,w){if(D==null)return{};var C,F,L={},K=Object.keys(D);for(F=0;F<K.length;F++)C=K[F],w.indexOf(C)>=0||(L[C]=D[C]);return L}(e,a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(e);for(u=0;u<S.length;u++)i=S[u],a.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(_[i]=e[i])}return _}function r(e,a){return function(i){if(Array.isArray(i))return i}(e)||function(i,u){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]"){var _=[],S=!0,D=!1,w=void 0;try{for(var C,F=i[Symbol.iterator]();!(S=(C=F.next()).done)&&(_.push(C.value),!u||_.length!==u);S=!0);}catch(L){D=!0,w=L}finally{try{S||F.return==null||F.return()}finally{if(D)throw w}}return _}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(a){if(Array.isArray(a)){for(var i=0,u=new Array(a.length);i<a.length;i++)u[i]=a[i];return u}}(e)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){var a,i="algoliasearch-client-js-".concat(e.key),u=function(){return a===void 0&&(a=e.localStorage||window.localStorage),a},_=function(){return JSON.parse(u().getItem(i)||"{}")},S=function(w){u().setItem(i,JSON.stringify(w))},D=function(){var w=e.timeToLive?1e3*e.timeToLive:null,C=_(),F=Object.fromEntries(Object.entries(C).filter(function(K){return r(K,2)[1].timestamp!==void 0}));if(S(F),w){var L=Object.fromEntries(Object.entries(F).filter(function(K){var $=r(K,2)[1],z=new Date().getTime();return!($.timestamp+w<z)}));S(L)}};return{get:function(w,C){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){D();var L=JSON.stringify(w);return _()[L]}).then(function(L){return Promise.all([L?L.value:C(),L!==void 0])}).then(function(L){var K=r(L,2),$=K[0],z=K[1];return Promise.all([$,z||F.miss($)])}).then(function(L){return r(L,1)[0]})},set:function(w,C){return Promise.resolve().then(function(){var F=_();return F[JSON.stringify(w)]={timestamp:new Date().getTime(),value:C},u().setItem(i,JSON.stringify(F)),C})},delete:function(w){return Promise.resolve().then(function(){var C=_();delete C[JSON.stringify(w)],u().setItem(i,JSON.stringify(C))})},clear:function(){return Promise.resolve().then(function(){u().removeItem(i)})}}}function c(e){var a=o(e.caches),i=a.shift();return i===void 0?{get:function(u,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},D=_();return D.then(function(w){return Promise.all([w,S.miss(w)])}).then(function(w){return r(w,1)[0]})},set:function(u,_){return Promise.resolve(_)},delete:function(u){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(u,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return i.get(u,_,S).catch(function(){return c({caches:a}).get(u,_,S)})},set:function(u,_){return i.set(u,_).catch(function(){return c({caches:a}).set(u,_)})},delete:function(u){return i.delete(u).catch(function(){return c({caches:a}).delete(u)})},clear:function(){return i.clear().catch(function(){return c({caches:a}).clear()})}}}function p(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(i,u){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},S=JSON.stringify(i);if(S in a)return Promise.resolve(e.serializable?JSON.parse(a[S]):a[S]);var D=u(),w=_&&_.miss||function(){return Promise.resolve()};return D.then(function(C){return w(C)}).then(function(){return D})},set:function(i,u){return a[JSON.stringify(i)]=e.serializable?JSON.stringify(u):u,Promise.resolve(u)},delete:function(i){return delete a[JSON.stringify(i)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function f(e,a,i){var u={"x-algolia-api-key":i,"x-algolia-application-id":a};return{headers:function(){return e===b.WithinHeaders?u:{}},queryParameters:function(){return e===b.WithinQueryParameters?u:{}}}}function g(e){var a=0;return e(function i(){return a++,new Promise(function(u){setTimeout(function(){u(e(i))},Math.min(100*a,1e3))})})}function m(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i,u){return Promise.resolve()};return Object.assign(e,{wait:function(i){return m(e.then(function(u){return Promise.all([a(u,i),u])}).then(function(u){return u[1]}))}})}function y(e){for(var a=e.length-1;a>0;a--){var i=Math.floor(Math.random()*(a+1)),u=e[a];e[a]=e[i],e[i]=u}return e}function x(e,a){return a&&Object.keys(a).forEach(function(i){e[i]=a[i](e)}),e}function h(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];var _=0;return e.replace(/%s/g,function(){return encodeURIComponent(i[_++])})}var b={WithinQueryParameters:0,WithinHeaders:1};function v(e,a){var i=e||{},u=i.data||{};return Object.keys(i).forEach(function(_){["timeout","headers","queryParameters","data","cacheable"].indexOf(_)===-1&&(u[_]=i[_])}),{data:Object.entries(u).length>0?u:void 0,timeout:i.timeout||a,headers:i.headers||{},queryParameters:i.queryParameters||{},cacheable:i.cacheable}}var E={Read:1,Write:2,Any:3},P=1,O=2,j=3;function I(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P;return l(l({},e),{},{status:a,lastUpdate:Date.now()})}function T(e){return typeof e=="string"?{protocol:"https",url:e,accept:E.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||E.Any}}var R="DELETE",k="GET",A="POST",N="PUT";function V(e,a){return Promise.all(a.map(function(i){return e.get(i,function(){return Promise.resolve(I(i))})})).then(function(i){var u=i.filter(function(D){return function(w){return w.status===P||Date.now()-w.lastUpdate>12e4}(D)}),_=i.filter(function(D){return function(w){return w.status===j&&Date.now()-w.lastUpdate<=12e4}(D)}),S=[].concat(o(u),o(_));return{getTimeout:function(D,w){return(_.length===0&&D===0?1:_.length+3+D)*w},statelessHosts:S.length>0?S.map(function(D){return T(D)}):a}})}function Y(e,a,i,u){var _=[],S=function($,z){if(!($.method===k||$.data===void 0&&z.data===void 0)){var H=Array.isArray($.data)?$.data:l(l({},$.data),z.data);return JSON.stringify(H)}}(i,u),D=function($,z){var H=l(l({},$.headers),z.headers),re={};return Object.keys(H).forEach(function(ie){var fe=H[ie];re[ie.toLowerCase()]=fe}),re}(e,u),w=i.method,C=i.method!==k?{}:l(l({},i.data),u.data),F=l(l(l({"x-algolia-agent":e.userAgent.value},e.queryParameters),C),u.queryParameters),L=0,K=function $(z,H){var re=z.pop();if(re===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:X(_)};var ie={data:S,headers:D,method:w,url:ee(re,i.path,F),connectTimeout:H(L,e.timeouts.connect),responseTimeout:H(L,u.timeout)},fe=function(pe){var le={request:ie,response:pe,host:re,triesLeft:z.length};return _.push(le),le},Le={onSuccess:function(pe){return function(le){try{return JSON.parse(le.content)}catch(xe){throw function(Pe,Ie){return{name:"DeserializationError",message:Pe,response:Ie}}(xe.message,le)}}(pe)},onRetry:function(pe){var le=fe(pe);return pe.isTimedOut&&L++,Promise.all([e.logger.info("Retryable failure",he(le)),e.hostsCache.set(re,I(re,pe.isTimedOut?j:O))]).then(function(){return $(z,H)})},onFail:function(pe){throw fe(pe),function(le,xe){var Pe=le.content,Ie=le.status,Ne=Pe;try{Ne=JSON.parse(Pe).message}catch{}return function(Be,tt,jr){return{name:"ApiError",message:Be,status:tt,transporterStackTrace:jr}}(Ne,Ie,xe)}(pe,X(_))}};return e.requester.send(ie).then(function(pe){return function(le,xe){return function(Pe){var Ie=Pe.status;return Pe.isTimedOut||function(Ne){var Be=Ne.isTimedOut,tt=Ne.status;return!Be&&~~tt==0}(Pe)||~~(Ie/100)!=2&&~~(Ie/100)!=4}(le)?xe.onRetry(le):~~(le.status/100)==2?xe.onSuccess(le):xe.onFail(le)}(pe,Le)})};return V(e.hostsCache,a).then(function($){return K(o($.statelessHosts).reverse(),$.getTimeout)})}function oe(e){var a=e.hostsCache,i=e.logger,u=e.requester,_=e.requestsCache,S=e.responsesCache,D=e.timeouts,w=e.userAgent,C=e.hosts,F=e.queryParameters,L={hostsCache:a,logger:i,requester:u,requestsCache:_,responsesCache:S,timeouts:D,userAgent:w,headers:e.headers,queryParameters:F,hosts:C.map(function(K){return T(K)}),read:function(K,$){var z=v($,L.timeouts.read),H=function(){return Y(L,L.hosts.filter(function(ie){return(ie.accept&E.Read)!=0}),K,z)};if((z.cacheable!==void 0?z.cacheable:K.cacheable)!==!0)return H();var re={request:K,mappedRequestOptions:z,transporter:{queryParameters:L.queryParameters,headers:L.headers}};return L.responsesCache.get(re,function(){return L.requestsCache.get(re,function(){return L.requestsCache.set(re,H()).then(function(ie){return Promise.all([L.requestsCache.delete(re),ie])},function(ie){return Promise.all([L.requestsCache.delete(re),Promise.reject(ie)])}).then(function(ie){var fe=r(ie,2);return fe[0],fe[1]})})},{miss:function(ie){return L.responsesCache.set(re,ie)}})},write:function(K,$){return Y(L,L.hosts.filter(function(z){return(z.accept&E.Write)!=0}),K,v($,L.timeouts.write))}};return L}function B(e){var a={value:"Algolia for JavaScript (".concat(e,")"),add:function(i){var u="; ".concat(i.segment).concat(i.version!==void 0?" (".concat(i.version,")"):"");return a.value.indexOf(u)===-1&&(a.value="".concat(a.value).concat(u)),a}};return a}function ee(e,a,i){var u=W(i),_="".concat(e.protocol,"://").concat(e.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return u.length&&(_+="?".concat(u)),_}function W(e){return Object.keys(e).map(function(a){return h("%s=%s",a,(i=e[a],Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"?JSON.stringify(e[a]):e[a]));var i}).join("&")}function X(e){return e.map(function(a){return he(a)})}function he(e){var a=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return l(l({},e),{},{request:l(l({},e.request),{},{headers:l(l({},e.request.headers),a)})})}var _e=function(e){return function(a,i){return e.transporter.write({method:A,path:"2/abtests",data:a},i)}},ce=function(e){return function(a,i){return e.transporter.write({method:R,path:h("2/abtests/%s",a)},i)}},me=function(e){return function(a,i){return e.transporter.read({method:k,path:h("2/abtests/%s",a)},i)}},ze=function(e){return function(a){return e.transporter.read({method:k,path:"2/abtests"},a)}},Je=function(e){return function(a,i){return e.transporter.write({method:A,path:h("2/abtests/%s/stop",a)},i)}},G=function(e){return function(a){return e.transporter.read({method:k,path:"1/strategies/personalization"},a)}},J=function(e){return function(a,i){return e.transporter.write({method:A,path:"1/strategies/personalization",data:a},i)}};function U(e){return function a(i){return e.request(i).then(function(u){if(e.batch!==void 0&&e.batch(u.hits),!e.shouldStop(u))return u.cursor?a({cursor:u.cursor}):a({page:(i.page||0)+1})})}({})}var de=function(e){return function(a,i){var u=i||{},_=u.queryParameters,S=n(u,["queryParameters"]),D=l({acl:a},_!==void 0?{queryParameters:_}:{});return m(e.transporter.write({method:A,path:"1/keys",data:D},S),function(w,C){return g(function(F){return Ce(e)(w.key,C).catch(function(L){if(L.status!==404)throw L;return F()})})})}},we=function(e){return function(a,i,u){var _=v(u);return _.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:A,path:"1/clusters/mapping",data:{cluster:i}},_)}},Oe=function(e){return function(a,i,u){return e.transporter.write({method:A,path:"1/clusters/mapping/batch",data:{users:a,cluster:i}},u)}},Re=function(e){return function(a,i){return m(e.transporter.write({method:A,path:h("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},i),function(u,_){return Te(e)(u.taskID,_)})}},be=function(e){return function(a,i,u){return m(e.transporter.write({method:A,path:h("1/indexes/%s/operation",a),data:{operation:"copy",destination:i}},u),function(_,S){return De(e)(a,{methods:{waitTask:se}}).waitTask(_.taskID,S)})}},Ye=function(e){return function(a,i,u){return be(e)(a,i,l(l({},u),{},{scope:[et.Rules]}))}},Tt=function(e){return function(a,i,u){return be(e)(a,i,l(l({},u),{},{scope:[et.Settings]}))}},jt=function(e){return function(a,i,u){return be(e)(a,i,l(l({},u),{},{scope:[et.Synonyms]}))}},It=function(e){return function(a,i){return a.method===k?e.transporter.read(a,i):e.transporter.write(a,i)}},At=function(e){return function(a,i){return m(e.transporter.write({method:R,path:h("1/keys/%s",a)},i),function(u,_){return g(function(S){return Ce(e)(a,_).then(S).catch(function(D){if(D.status!==404)throw D})})})}},St=function(e){return function(a,i,u){var _=i.map(function(S){return{action:"deleteEntry",body:{objectID:S}}});return m(e.transporter.write({method:A,path:h("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:_}},u),function(S,D){return Te(e)(S.taskID,D)})}},Ce=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/keys/%s",a)},i)}},at=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/task/%s",a.toString())},i)}},kt=function(e){return function(a){return e.transporter.read({method:k,path:"/1/dictionaries/*/settings"},a)}},Et=function(e){return function(a){return e.transporter.read({method:k,path:"1/logs"},a)}},Rt=function(e){return function(a){return e.transporter.read({method:k,path:"1/clusters/mapping/top"},a)}},Ct=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/clusters/mapping/%s",a)},i)}},Dt=function(e){return function(a){var i=a||{},u=i.retrieveMappings,_=n(i,["retrieveMappings"]);return u===!0&&(_.getClusters=!0),e.transporter.read({method:k,path:"1/clusters/mapping/pending"},_)}},De=function(e){return function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={transporter:e.transporter,appId:e.appId,indexName:a};return x(u,i.methods)}},Lt=function(e){return function(a){return e.transporter.read({method:k,path:"1/keys"},a)}},Nt=function(e){return function(a){return e.transporter.read({method:k,path:"1/clusters"},a)}},Ft=function(e){return function(a){return e.transporter.read({method:k,path:"1/indexes"},a)}},Mt=function(e){return function(a){return e.transporter.read({method:k,path:"1/clusters/mapping"},a)}},qt=function(e){return function(a,i,u){return m(e.transporter.write({method:A,path:h("1/indexes/%s/operation",a),data:{operation:"move",destination:i}},u),function(_,S){return De(e)(a,{methods:{waitTask:se}}).waitTask(_.taskID,S)})}},Ut=function(e){return function(a,i){return m(e.transporter.write({method:A,path:"1/indexes/*/batch",data:{requests:a}},i),function(u,_){return Promise.all(Object.keys(u.taskID).map(function(S){return De(e)(S,{methods:{waitTask:se}}).waitTask(u.taskID[S],_)}))})}},Bt=function(e){return function(a,i){return e.transporter.read({method:A,path:"1/indexes/*/objects",data:{requests:a}},i)}},nt=function(e){return function(a,i){var u=a.map(function(_){return l(l({},_),{},{params:W(_.params||{})})});return e.transporter.read({method:A,path:"1/indexes/*/queries",data:{requests:u},cacheable:!0},i)}},ot=function(e){return function(a,i){return Promise.all(a.map(function(u){var _=u.params,S=_.facetName,D=_.facetQuery,w=n(_,["facetName","facetQuery"]);return De(e)(u.indexName,{methods:{searchForFacetValues:dt}}).searchForFacetValues(S,D,l(l({},i),w))}))}},Gt=function(e){return function(a,i){var u=v(i);return u.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:R,path:"1/clusters/mapping"},u)}},$t=function(e){return function(a,i,u){var _=i.map(function(S){return{action:"addEntry",body:S}});return m(e.transporter.write({method:A,path:h("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:_}},u),function(S,D){return Te(e)(S.taskID,D)})}},Kt=function(e){return function(a,i){return m(e.transporter.write({method:A,path:h("1/keys/%s/restore",a)},i),function(u,_){return g(function(S){return Ce(e)(a,_).catch(function(D){if(D.status!==404)throw D;return S()})})})}},Vt=function(e){return function(a,i,u){var _=i.map(function(S){return{action:"addEntry",body:S}});return m(e.transporter.write({method:A,path:h("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:_}},u),function(S,D){return Te(e)(S.taskID,D)})}},Ht=function(e){return function(a,i,u){return e.transporter.read({method:A,path:h("/1/dictionaries/%s/search",a),data:{query:i},cacheable:!0},u)}},zt=function(e){return function(a,i){return e.transporter.read({method:A,path:"1/clusters/mapping/search",data:{query:a}},i)}},Jt=function(e){return function(a,i){return m(e.transporter.write({method:N,path:"/1/dictionaries/*/settings",data:a},i),function(u,_){return Te(e)(u.taskID,_)})}},Yt=function(e){return function(a,i){var u=Object.assign({},i),_=i||{},S=_.queryParameters,D=n(_,["queryParameters"]),w=S?{queryParameters:S}:{},C=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return m(e.transporter.write({method:N,path:h("1/keys/%s",a),data:w},D),function(F,L){return g(function(K){return Ce(e)(a,L).then(function($){return function(z){return Object.keys(u).filter(function(H){return C.indexOf(H)!==-1}).every(function(H){if(Array.isArray(z[H])&&Array.isArray(u[H])){var re=z[H];return re.length===u[H].length&&re.every(function(ie,fe){return ie===u[H][fe]})}return z[H]===u[H]})}($)?Promise.resolve():K()})})})}},Te=function(e){return function(a,i){return g(function(u){return at(e)(a,i).then(function(_){return _.status!=="published"?u():void 0})})}},it=function(e){return function(a,i){return m(e.transporter.write({method:A,path:h("1/indexes/%s/batch",e.indexName),data:{requests:a}},i),function(u,_){return se(e)(u.taskID,_)})}},Wt=function(e){return function(a){return U(l(l({shouldStop:function(i){return i.cursor===void 0}},a),{},{request:function(i){return e.transporter.read({method:A,path:h("1/indexes/%s/browse",e.indexName),data:i},a)}}))}},Qt=function(e){return function(a){var i=l({hitsPerPage:1e3},a);return U(l(l({shouldStop:function(u){return u.hits.length<i.hitsPerPage}},i),{},{request:function(u){return ft(e)("",l(l({},i),u)).then(function(_){return l(l({},_),{},{hits:_.hits.map(function(S){return delete S._highlightResult,S})})})}}))}},Xt=function(e){return function(a){var i=l({hitsPerPage:1e3},a);return U(l(l({shouldStop:function(u){return u.hits.length<i.hitsPerPage}},i),{},{request:function(u){return pt(e)("",l(l({},i),u)).then(function(_){return l(l({},_),{},{hits:_.hits.map(function(S){return delete S._highlightResult,S})})})}}))}},We=function(e){return function(a,i,u){var _=u||{},S=_.batchSize,D=n(_,["batchSize"]),w={taskIDs:[],objectIDs:[]};return m(function C(){var F,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=[];for(F=L;F<a.length&&(K.push(a[F]),K.length!==(S||1e3));F++);return K.length===0?Promise.resolve(w):it(e)(K.map(function($){return{action:i,body:$}}),D).then(function($){return w.objectIDs=w.objectIDs.concat($.objectIDs),w.taskIDs.push($.taskID),F++,C(F)})}(),function(C,F){return Promise.all(C.taskIDs.map(function(L){return se(e)(L,F)}))})}},Zt=function(e){return function(a){return m(e.transporter.write({method:A,path:h("1/indexes/%s/clear",e.indexName)},a),function(i,u){return se(e)(i.taskID,u)})}},er=function(e){return function(a){var i=a||{},u=i.forwardToReplicas,_=v(n(i,["forwardToReplicas"]));return u&&(_.queryParameters.forwardToReplicas=1),m(e.transporter.write({method:A,path:h("1/indexes/%s/rules/clear",e.indexName)},_),function(S,D){return se(e)(S.taskID,D)})}},tr=function(e){return function(a){var i=a||{},u=i.forwardToReplicas,_=v(n(i,["forwardToReplicas"]));return u&&(_.queryParameters.forwardToReplicas=1),m(e.transporter.write({method:A,path:h("1/indexes/%s/synonyms/clear",e.indexName)},_),function(S,D){return se(e)(S.taskID,D)})}},rr=function(e){return function(a,i){return m(e.transporter.write({method:A,path:h("1/indexes/%s/deleteByQuery",e.indexName),data:a},i),function(u,_){return se(e)(u.taskID,_)})}},ar=function(e){return function(a){return m(e.transporter.write({method:R,path:h("1/indexes/%s",e.indexName)},a),function(i,u){return se(e)(i.taskID,u)})}},nr=function(e){return function(a,i){return m(st(e)([a],i).then(function(u){return{taskID:u.taskIDs[0]}}),function(u,_){return se(e)(u.taskID,_)})}},st=function(e){return function(a,i){var u=a.map(function(_){return{objectID:_}});return We(e)(u,je.DeleteObject,i)}},or=function(e){return function(a,i){var u=i||{},_=u.forwardToReplicas,S=v(n(u,["forwardToReplicas"]));return _&&(S.queryParameters.forwardToReplicas=1),m(e.transporter.write({method:R,path:h("1/indexes/%s/rules/%s",e.indexName,a)},S),function(D,w){return se(e)(D.taskID,w)})}},ir=function(e){return function(a,i){var u=i||{},_=u.forwardToReplicas,S=v(n(u,["forwardToReplicas"]));return _&&(S.queryParameters.forwardToReplicas=1),m(e.transporter.write({method:R,path:h("1/indexes/%s/synonyms/%s",e.indexName,a)},S),function(D,w){return se(e)(D.taskID,w)})}},sr=function(e){return function(a){return ut(e)(a).then(function(){return!0}).catch(function(i){if(i.status!==404)throw i;return!1})}},ur=function(e){return function(a,i,u){return e.transporter.read({method:A,path:h("1/answers/%s/prediction",e.indexName),data:{query:a,queryLanguages:i},cacheable:!0},u)}},lr=function(e){return function(a,i){var u=i||{},_=u.query,S=u.paginate,D=n(u,["query","paginate"]),w=0;return function C(){return ct(e)(_||"",l(l({},D),{},{page:w})).then(function(F){for(var L=0,K=Object.entries(F.hits);L<K.length;L++){var $=r(K[L],2),z=$[0],H=$[1];if(a(H))return{object:H,position:parseInt(z,10),page:w}}if(w++,S===!1||w>=F.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return C()})}()}},cr=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/indexes/%s/%s",e.indexName,a)},i)}},dr=function(){return function(e,a){for(var i=0,u=Object.entries(e.hits);i<u.length;i++){var _=r(u[i],2),S=_[0];if(_[1].objectID===a)return parseInt(S,10)}return-1}},fr=function(e){return function(a,i){var u=i||{},_=u.attributesToRetrieve,S=n(u,["attributesToRetrieve"]),D=a.map(function(w){return l({indexName:e.indexName,objectID:w},_?{attributesToRetrieve:_}:{})});return e.transporter.read({method:A,path:"1/indexes/*/objects",data:{requests:D}},S)}},pr=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/indexes/%s/rules/%s",e.indexName,a)},i)}},ut=function(e){return function(a){return e.transporter.read({method:k,path:h("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},a)}},hr=function(e){return function(a,i){return e.transporter.read({method:k,path:h("1/indexes/%s/synonyms/%s",e.indexName,a)},i)}},mr=function(e){return function(a,i){return m(lt(e)([a],i).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,_){return se(e)(u.taskID,_)})}},lt=function(e){return function(a,i){var u=i||{},_=u.createIfNotExists,S=n(u,["createIfNotExists"]),D=_?je.PartialUpdateObject:je.PartialUpdateObjectNoCreate;return We(e)(a,D,S)}},gr=function(e){return function(a,i){var u=i||{},_=u.safe,S=u.autoGenerateObjectIDIfNotExist,D=u.batchSize,w=n(u,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),C=function(H,re,ie,fe){return m(e.transporter.write({method:A,path:h("1/indexes/%s/operation",H),data:{operation:ie,destination:re}},fe),function(Le,pe){return se(e)(Le.taskID,pe)})},F=Math.random().toString(36).substring(7),L="".concat(e.indexName,"_tmp_").concat(F),K=Qe({appId:e.appId,transporter:e.transporter,indexName:L}),$=[],z=C(e.indexName,L,"copy",l(l({},w),{},{scope:["settings","synonyms","rules"]}));return $.push(z),m((_?z.wait(w):z).then(function(){var H=K(a,l(l({},w),{},{autoGenerateObjectIDIfNotExist:S,batchSize:D}));return $.push(H),_?H.wait(w):H}).then(function(){var H=C(L,e.indexName,"move",w);return $.push(H),_?H.wait(w):H}).then(function(){return Promise.all($)}).then(function(H){var re=r(H,3),ie=re[0],fe=re[1],Le=re[2];return{objectIDs:fe.objectIDs,taskIDs:[ie.taskID].concat(o(fe.taskIDs),[Le.taskID])}}),function(H,re){return Promise.all($.map(function(ie){return ie.wait(re)}))})}},_r=function(e){return function(a,i){return Xe(e)(a,l(l({},i),{},{clearExistingRules:!0}))}},vr=function(e){return function(a,i){return Ze(e)(a,l(l({},i),{},{clearExistingSynonyms:!0}))}},yr=function(e){return function(a,i){return m(Qe(e)([a],i).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,_){return se(e)(u.taskID,_)})}},Qe=function(e){return function(a,i){var u=i||{},_=u.autoGenerateObjectIDIfNotExist,S=n(u,["autoGenerateObjectIDIfNotExist"]),D=_?je.AddObject:je.UpdateObject;if(D===je.UpdateObject){var w=!0,C=!1,F=void 0;try{for(var L,K=a[Symbol.iterator]();!(w=(L=K.next()).done);w=!0)if(L.value.objectID===void 0)return m(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch($){C=!0,F=$}finally{try{w||K.return==null||K.return()}finally{if(C)throw F}}}return We(e)(a,D,S)}},br=function(e){return function(a,i){return Xe(e)([a],i)}},Xe=function(e){return function(a,i){var u=i||{},_=u.forwardToReplicas,S=u.clearExistingRules,D=v(n(u,["forwardToReplicas","clearExistingRules"]));return _&&(D.queryParameters.forwardToReplicas=1),S&&(D.queryParameters.clearExistingRules=1),m(e.transporter.write({method:A,path:h("1/indexes/%s/rules/batch",e.indexName),data:a},D),function(w,C){return se(e)(w.taskID,C)})}},Pr=function(e){return function(a,i){return Ze(e)([a],i)}},Ze=function(e){return function(a,i){var u=i||{},_=u.forwardToReplicas,S=u.clearExistingSynonyms,D=u.replaceExistingSynonyms,w=v(n(u,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return _&&(w.queryParameters.forwardToReplicas=1),(D||S)&&(w.queryParameters.replaceExistingSynonyms=1),m(e.transporter.write({method:A,path:h("1/indexes/%s/synonyms/batch",e.indexName),data:a},w),function(C,F){return se(e)(C.taskID,F)})}},ct=function(e){return function(a,i){return e.transporter.read({method:A,path:h("1/indexes/%s/query",e.indexName),data:{query:a},cacheable:!0},i)}},dt=function(e){return function(a,i,u){return e.transporter.read({method:A,path:h("1/indexes/%s/facets/%s/query",e.indexName,a),data:{facetQuery:i},cacheable:!0},u)}},ft=function(e){return function(a,i){return e.transporter.read({method:A,path:h("1/indexes/%s/rules/search",e.indexName),data:{query:a}},i)}},pt=function(e){return function(a,i){return e.transporter.read({method:A,path:h("1/indexes/%s/synonyms/search",e.indexName),data:{query:a}},i)}},xr=function(e){return function(a,i){var u=i||{},_=u.forwardToReplicas,S=v(n(u,["forwardToReplicas"]));return _&&(S.queryParameters.forwardToReplicas=1),m(e.transporter.write({method:N,path:h("1/indexes/%s/settings",e.indexName),data:a},S),function(D,w){return se(e)(D.taskID,w)})}},se=function(e){return function(a,i){return g(function(u){return function(_){return function(S,D){return _.transporter.read({method:k,path:h("1/indexes/%s/task/%s",_.indexName,S.toString())},D)}}(e)(a,i).then(function(_){return _.status!=="published"?u():void 0})})}},je={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},et={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},wr=1,Or=2,Tr=3;function ht(e,a,i){var u,_={appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(w){return new Promise(function(C){var F=new XMLHttpRequest;F.open(w.method,w.url,!0),Object.keys(w.headers).forEach(function(z){return F.setRequestHeader(z,w.headers[z])});var L,K=function(z,H){return setTimeout(function(){F.abort(),C({status:0,content:H,isTimedOut:!0})},1e3*z)},$=K(w.connectTimeout,"Connection timeout");F.onreadystatechange=function(){F.readyState>F.OPENED&&L===void 0&&(clearTimeout($),L=K(w.responseTimeout,"Socket timeout"))},F.onerror=function(){F.status===0&&(clearTimeout($),clearTimeout(L),C({content:F.responseText||"Network request failed",status:F.status,isTimedOut:!1}))},F.onload=function(){clearTimeout($),clearTimeout(L),C({content:F.responseText,status:F.status,isTimedOut:!1})},F.send(w.data)})}},logger:(u=Tr,{debug:function(w,C){return wr>=u&&console.debug(w,C),Promise.resolve()},info:function(w,C){return Or>=u&&console.info(w,C),Promise.resolve()},error:function(w,C){return console.error(w,C),Promise.resolve()}}),responsesCache:p(),requestsCache:p({serializable:!1}),hostsCache:c({caches:[d({key:"".concat("4.19.1","-").concat(e)}),p()]}),userAgent:B("4.19.1").add({segment:"Browser"})},S=l(l({},_),i),D=function(){return function(w){return function(C){var F=C.region||"us",L=f(b.WithinHeaders,C.appId,C.apiKey),K=oe(l(l({hosts:[{url:"personalization.".concat(F,".algolia.com")}]},C),{},{headers:l(l(l({},L.headers()),{"content-type":"application/json"}),C.headers),queryParameters:l(l({},L.queryParameters()),C.queryParameters)}));return x({appId:C.appId,transporter:K},C.methods)}(l(l(l({},_),w),{},{methods:{getPersonalizationStrategy:G,setPersonalizationStrategy:J}}))}};return function(w){var C=w.appId,F=f(w.authMode!==void 0?w.authMode:b.WithinHeaders,C,w.apiKey),L=oe(l(l({hosts:[{url:"".concat(C,"-dsn.algolia.net"),accept:E.Read},{url:"".concat(C,".algolia.net"),accept:E.Write}].concat(y([{url:"".concat(C,"-1.algolianet.com")},{url:"".concat(C,"-2.algolianet.com")},{url:"".concat(C,"-3.algolianet.com")}]))},w),{},{headers:l(l(l({},F.headers()),{"content-type":"application/x-www-form-urlencoded"}),w.headers),queryParameters:l(l({},F.queryParameters()),w.queryParameters)}));return x({transporter:L,appId:C,addAlgoliaAgent:function(K,$){L.userAgent.add({segment:K,version:$})},clearCache:function(){return Promise.all([L.requestsCache.clear(),L.responsesCache.clear()]).then(function(){})}},w.methods)}(l(l({},S),{},{methods:{search:nt,searchForFacetValues:ot,multipleBatch:Ut,multipleGetObjects:Bt,multipleQueries:nt,copyIndex:be,copySettings:Tt,copySynonyms:jt,copyRules:Ye,moveIndex:qt,listIndices:Ft,getLogs:Et,listClusters:Nt,multipleSearchForFacetValues:ot,getApiKey:Ce,addApiKey:de,listApiKeys:Lt,updateApiKey:Yt,deleteApiKey:At,restoreApiKey:Kt,assignUserID:we,assignUserIDs:Oe,getUserID:Ct,searchUserIDs:zt,listUserIDs:Mt,getTopUserIDs:Rt,removeUserID:Gt,hasPendingMappings:Dt,clearDictionaryEntries:Re,deleteDictionaryEntries:St,getDictionarySettings:kt,getAppTask:at,replaceDictionaryEntries:$t,saveDictionaryEntries:Vt,searchDictionaryEntries:Ht,setDictionarySettings:Jt,waitAppTask:Te,customRequest:It,initIndex:function(w){return function(C){return De(w)(C,{methods:{batch:it,delete:ar,findAnswers:ur,getObject:cr,getObjects:fr,saveObject:yr,saveObjects:Qe,search:ct,searchForFacetValues:dt,waitTask:se,setSettings:xr,getSettings:ut,partialUpdateObject:mr,partialUpdateObjects:lt,deleteObject:nr,deleteObjects:st,deleteBy:rr,clearObjects:Zt,browseObjects:Wt,getObjectPosition:dr,findObject:lr,exists:sr,saveSynonym:Pr,saveSynonyms:Ze,getSynonym:hr,searchSynonyms:pt,browseSynonyms:Xt,deleteSynonym:ir,clearSynonyms:tr,replaceAllObjects:gr,replaceAllSynonyms:vr,searchRules:ft,getRule:pr,deleteRule:or,saveRule:br,saveRules:Xe,replaceAllRules:_r,browseRules:Qt,clearRules:er}})}},initAnalytics:function(){return function(w){return function(C){var F=C.region||"us",L=f(b.WithinHeaders,C.appId,C.apiKey),K=oe(l(l({hosts:[{url:"analytics.".concat(F,".algolia.com")}]},C),{},{headers:l(l(l({},L.headers()),{"content-type":"application/json"}),C.headers),queryParameters:l(l({},L.queryParameters()),C.queryParameters)}));return x({appId:C.appId,transporter:K},C.methods)}(l(l(l({},_),w),{},{methods:{addABTest:_e,getABTest:me,getABTests:ze,stopABTest:Je,deleteABTest:ce}}))}},initPersonalization:D,initRecommendation:function(){return function(w){return S.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),D()(w)}}}}))}return ht.version="4.19.1",ht})})(wt);var ma=wt.exports;const ga=bt(ma),Ot=Z=>(kr("data-v-b1753ff4"),Z=Z(),Er(),Z),_a={key:0,class:"controlPanel"},va={class:"f6 mb1 gray"},ya={class:"mt0 f4 1b"},ba={key:0},Pa={class:"bt bb b--moon-gray mv3 pv2"},xa=["onSubmit"],wa={class:"fw5 mb1"},Oa={class:"flex items-center mb2"},Ta={class:"fieldForm__value flex-auto mr3"},ja=["readonly"],Ia={class:"fieldForm__unit flex-none"},Aa=["readonly"],Sa=["readonly"],ka={class:"mt3"},Ea={key:0,class:"flex items-center justify-between"},Ra=["onClick"],Ca=["disabled"],Da={key:1,class:"flex items-center justify-end"},La=["onClick"],Na={class:"controlPanel__keywordSection mv3 pb2 bb"},Fa=Ot(()=>M("div",{class:"fw5 mb1"},"相關關鍵字",-1)),Ma=Ot(()=>M("div",{class:"f6 gray"},"點選以下關鍵字，或是自行輸入，就能列出相關頁面",-1)),qa={class:"flex mt3"},Ua={class:"flex flex-wrap"},Ba=["onClick"],Ga={class:"f6 gray mv1"},$a=["onClick"],Ka={class:"flex-none dark-gray"},Va=["innerHTML"],Ha={class:"flex justify-between items-center"},za={key:1},Ke=15,Ja=Ee({__name:"ControlPanel",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},focusedPage:{type:Number,default:1},isSubmission:{type:Boolean,default:!0}},emits:["report","page","matched-pages","complete"],setup(Z,{emit:te}){const t=Z,{submitField:s,verifyField:l,sendTrackUsage:n}=xt(),r=ae(0),o=ve(()=>t.fields[r.value]),d={value:"",unit:"",notes:""},c=ae({...d}),p=ve(()=>r.value<t.fields.length-1?t.fields[r.value+1]:t.fields[0]),f=ve(()=>r.value>0?t.fields[r.value-1]:t.fields[t.fields.length-1]);function g(){r.value<t.fields.length-1?r.value+=1:r.value=0}function m(){r.value>0?r.value-=1:r.value=t.fields.length-1}const y=ae([]);Ae(y,G=>{G.length===t.fields.length&&te("complete")},{deep:!0});function x(){c.value={...d}}const h=ve(()=>!!c.value.value),b=ae(!1),v=["不正確","不確定","正確"];async function E(G){const J={userId:t.userId,submissionId:o.value.data.id,result:G},U=await l(J);y.value.push({field:o.value,atRow:U}),g()}function P(){y.value.push({field:o.value}),x(),g()}async function O(){if(!h.value)return;b.value=!0;const{value:G,unit:J,notes:U}=c.value,{year:de,company:we,category:Oe,label:Re}=o.value,be={userId:t.userId,year:`${de}`,companyId:we.id,category:Oe,field:Re,value:G,unit:J,notes:U,page:t.focusedPage};Y.value&&(be.keyword=Y.value);const Ye=await s(be);y.value.push({field:o.value,data:be,atRow:Ye}),me.value.answerPage=`${t.focusedPage}`,x(),g(),b.value=!1}function j(G){return G+(o.value.company.pageOffset||0)}const I=_t(),R=ga(I.public.algoliaAppId,I.public.algoliaSearchApiKey).initIndex(I.public.algoliaIndexName),k=ae(""),A=ae(""),N=ae([]),V=ae(0),Y=ve(()=>A.value||k.value||"");Ae([k,A],([G,J],[U,de])=>{G!==U&&G?A.value="":J!==de&&J&&(k.value="")});function oe(G){k.value=G}Ae(Y,()=>{B()});async function B(){if(!Y.value){N.value=[],W.value=null;return}const{hits:G}=await R.search(Y.value,{facetFilters:[`company:${o.value.company.id}`,`year:${o.value.year}`],hitsPerPage:100});if(N.value=G,W.value=null,V.value){const J=G.find(U=>U.page===V.value);J?X(J):te("page",{highlight:Y.value,page:V.value}),V.value=0}}Ae(N,G=>{const J=G.map(U=>U.page);te("matched-pages",J)});function ee(G){G=G.replace(/\n/g,"");const J=`${Y.value||""}`,U=G.indexOf(J),de=J.length+Ke;if(U<0)return G.slice(0,de*2);const we=J.length;let Oe=G.slice(0,U);const Re=`${G.slice(U+we,U+we+Ke)}...`;if(U>Ke)Oe=`...${G.slice(U-Ke,U)}`;else return G.slice(0,de*2)+"...";return`${ge.escape(Oe)}<b class="underline">${J}</b>${ge.escape(Re)}`}const W=ae(null);async function X(G){W.value===G?te("page",{highlight:"",page:1}):W.value=G,await Ir(),me.value.clickPages.push(G.page),te("page",{highlight:Y.value,page:G.page})}function he(){N.value=[],k.value="",A.value=""}function _e(){const G=o.value.data;c.value={value:G.get("數值"),unit:G.get("單位"),notes:G.get("補充資訊")};const J=G.get("答案頁次"),U=G.get("答案關鍵字");U?o.value.keywords.includes(U)?k.value=U:A.value=U:he(),J&&(U?V.value=J:te("page",{highlight:"",page:J}))}Ar(()=>{o.value&&(te("report",{year:o.value.year,company:o.value.company}),t.isSubmission?he():_e())});function ce(){return{searchKeyword:Y.value,isPredefined:!0,clickPages:[],viewPages:[],answerPage:""}}const me=ae(ce());function ze(){me.value=ce()}const Je=ge.throttle(()=>{const{year:G,company:J,label:U}=o.value,de={userId:t.userId,year:`${G}`,companyId:J.id,field:U,isOnVerify:!t.isSubmission,...me.value};return n(de)},100);return Ae(()=>t.focusedPage,G=>{!G||G===1||me.value.viewPages.push(G)}),Ae(Y,async G=>{Je(),await ze(),me.value.isPredefined=G!==A.value,me.value.searchKeyword=G}),(G,J)=>q(o)?(Q(),ne("div",_a,[M("div",va,ue(Z.isSubmission?"標注欄位":"驗證欄位")+" "+ue(q(y).length)+" / "+ue(t.fields.length),1),M("h2",ya,ue(q(o).year)+" 年 | "+ue(q(o).company.name)+" | "+ue(q(o).label),1),q(o).notes?(Q(),ne("p",ba,ue(q(o).notes),1)):Ue("",!0),M("div",Pa,[M("form",{class:"fieldForm mt3 mb4 pb2 bb b--moon-gray",onSubmit:Ve(O,["prevent"])},[M("div",wa,ue(Z.isSubmission?"填寫判讀結果":"驗證欄位數值"),1),M("div",Oa,[M("label",Ta,[ye("數值"),Se(M("input",{class:"fieldForm__input","onUpdate:modelValue":J[0]||(J[0]=U=>q(c).value=U),type:"text",placeholder:"數值",readonly:!Z.isSubmission},null,8,ja),[[Fe,q(c).value,void 0,{trim:!0}]])]),M("label",Ia,[ye("單位"),Se(M("input",{class:"fieldForm__input","onUpdate:modelValue":J[1]||(J[1]=U=>q(c).unit=U),type:"text",placeholder:"單位",readonly:!Z.isSubmission},null,8,Aa),[[Fe,q(c).unit,void 0,{trim:!0}]])])]),M("label",null,[ye("備註"),Se(M("textarea",{class:"fieldForm__input","onUpdate:modelValue":J[2]||(J[2]=U=>q(c).notes=U),placeholder:"備註",readonly:!Z.isSubmission},null,8,Sa),[[Fe,q(c).notes,void 0,{trim:!0}]])]),M("div",ka,[Z.isSubmission?(Q(),ne("div",Ea,[M("button",{class:"pa2 bg-white ba b--light-gray gray pointer",onClick:Ve(P,["stop","prevent"])},"找不到答案，放棄 🥺",8,Ra),M("button",{class:"pv2 ph4 pointer",type:"submit",disabled:!q(h)||q(b)},"送出標注結果",8,Ca)])):(Q(),ne("div",Da,[(Q(),ne(Me,null,qe(v,U=>M("button",{class:"pv1 ph3 pointer ml2",key:U,onClick:Ve(de=>E(U),["stop","prevent"])},"標為"+ue(U),9,La)),64))]))])],40,xa),M("div",Na,[Fa,Ma,M("div",qa,[M("div",Ua,[(Q(!0),ne(Me,null,qe(q(o).keywords,U=>(Q(),ne("button",{class:mt(["controlPanel__keyword pointer",{"controlPanel__keyword--active":U===q(Y)}]),key:U,onClick:de=>oe(U)},ue(U),11,Ba))),128)),Se(M("input",{class:"mt1 f6 w-100 controlPanel__input","onUpdate:modelValue":J[3]||(J[3]=U=>vt(A)?A.value=U:null),placeholder:"自訂關鍵字"},null,512),[[Fe,q(A),void 0,{trim:!0}]])])]),Se(M("div",Ga,[(Q(!0),ne(Me,null,qe(q(N),U=>(Q(),ne("div",{class:mt(["flex mv2 dim pointer",{b:U===q(W)}]),key:U.page,onClick:de=>X(U)},[M("div",Ka,"頁"+ue(j(U.page)),1),M("div",{class:"pl2",innerHTML:ee(U.content)},null,8,Va)],10,$a))),128))],512),[[Sr,q(N).length]])]),M("div",Ha,[q(f)!==q(p)?(Q(),ne("button",{key:0,class:"controlPanel__cursor",onClick:m},"跳到 《 "+ue(q(f).label),1)):(Q(),ne("div",za)),M("button",{class:"controlPanel__cursor",onClick:g},"跳到 "+ue(q(p).label)+" 》",1)])])])):Ue("",!0)}});const Ya=He(Ja,[["__scopeId","data-v-b1753ff4"]]),Wa={class:"crowdEditor"},Qa={class:"br b--moon-gray"},Xa={class:"crowdEditor__control pv3 ph2"},Za={class:"main__reader"},en=Ee({__name:"FieldEditor",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},isSubmission:{type:Boolean,default:!0}},emits:["complete"],setup(Z,{emit:te}){const t=ae(null),s=ae(null),l=ae([]),n=ae(0);function r(f){n.value=f}function o(){te("complete")}function d(f){t.value=f,s.value={page:1,highlight:""}}function c(f){s.value=f}function p(f){l.value=f}return(f,g)=>{const m=Ya,y=Dr;return Q(),ne("div",Wa,[M("div",Qa,[M("div",Xa,[yt(m,{"user-id":Z.userId,fields:Z.fields,"focused-page":q(n),"is-submission":Z.isSubmission,onReport:d,onPage:c,onMatchedPages:p,onComplete:o},null,8,["user-id","fields","focused-page","is-submission"])])]),M("div",Za,[q(t)&&q(s)?(Q(),ke(y,{key:0,year:q(t).year,company:q(t).company,page:q(s).page,highlight:q(s).highlight,"matched-pages":q(l),onViewPage:r},null,8,["year","company","page","highlight","matched-pages"])):Ue("",!0)])])}}});const tn=He(en,[["__scopeId","data-v-06fa7a64"]]),rn={class:"gotoVerify center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},an=M("h1",{class:"mt0 f4 f3-ns"},"完成一半了！",-1),nn=M("p",null,"所有的標記任務都已完成，接下來，就輪到幫忙驗證其他人標注的資料囉～",-1),on=Ee({__name:"GotoVerify",emits:["continue"],setup(Z,{emit:te}){function t(){te("continue")}return(s,l)=>(Q(),ne("div",rn,[an,nn,M("div",{class:"flex items-center mt4"},[M("button",{class:"thankYou__button br2 pv2 ph3 pointer ba b--dark-green bg-dark-green white mr3",onClick:t},"我準備好了，開始驗證資料")])]))}}),sn={class:"thankYou center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},un=Cr('<h1 class="mt0 f4 f3-ns" data-v-276f04be>感謝參與標記原型工具測試！</h1><p data-v-276f04be>所有任務都已經完成。在離開前，請填寫一份問卷，讓我們了解你的使用心得。</p><p data-v-276f04be>如果想要多參與一些測試，也歡迎點下「再來一輪」，我們會重新抽籤。記得使用同樣的暱稱，才能累計積分呦 🤓</p><p data-v-276f04be>如果對這個專案有更多想法，除了找我們聊聊之外，也歡迎：</p><ul data-v-276f04be><li data-v-276f04be>讀讀<a href="https://g0v.hackmd.io/@ddio-io/open-csr-report" target="_blank" rel="noopener" data-v-276f04be>專案共筆</a></li><li data-v-276f04be>翻翻<a href="https://github.com/gcaa-org-tw/company-report-toolkit/" target="_blank" rel="noopener" data-v-276f04be>Github 上的程式碼</a></li><li data-v-276f04be>查看<a href="https://airtable.com/appsREnwMpxAZmaRv/shrhubstEzdWYZWfh" target="_blank" rel="noopener" data-v-276f04be>標注狀況與問卷結果</a></li></ul>',5),ln={class:"flex items-center mv4"},cn=Ee({__name:"SayThanks",props:{userId:{type:String,required:!0}},emits:["start-over"],setup(Z,{emit:te}){const t=Z,s=ve(()=>"https://airtable.com/appsREnwMpxAZmaRv/shrjkPKD0t0J5hxP2?prefill_%E4%BD%BF%E7%94%A8%E8%80%85%E6%9A%B1%E7%A8%B1="+encodeURIComponent(t.userId));function l(){te("start-over")}return(n,r)=>{const o=Lr;return Q(),ne("div",sn,[un,M("div",ln,[M("button",{class:"thankYou__button pointer bg-green white mr3",onClick:l},"再來一輪"),yt(o,{class:"thankYou__button bg-dark-green white no-underline",to:q(s),target:"_blank",rel:"noopener"},{default:Rr(()=>[ye("填寫問卷")]),_:1},8,["to"])])])}}});const dn=He(cn,[["__scopeId","data-v-276f04be"]]),fn={class:"crowdLanding"},pn=Ee({__name:"index",setup(Z){const te=ae(""),t=ae([]),s=ae(!1),l=ae(!1),n=ae([]),r=ae(!1);function o({submissions:p,verifications:f}){t.value=p,n.value=f,p.length||(s.value=!0,l.value=!0),f.length||(l.value=!0,r.value=!0)}const d=ve(()=>te.value&&(t.value.length||s.value));function c(){te.value="",t.value=[],s.value=!1,n.value=[],r.value=!1,l.value=!1}return(p,f)=>{const g=ha,m=tn,y=on,x=dn;return Q(),ne("div",fn,[q(d)?q(s)?q(l)?q(r)?(Q(),ke(x,{key:4,"user-id":q(te),onStartOver:c},null,8,["user-id"])):(Q(),ke(m,{key:3,"user-id":q(te),fields:q(n),"is-submission":!1,onComplete:f[3]||(f[3]=h=>r.value=!0)},null,8,["user-id","fields"])):(Q(),ke(y,{key:2,onContinue:f[2]||(f[2]=h=>l.value=!0)})):(Q(),ke(m,{key:1,"user-id":q(te),fields:q(t),onComplete:f[1]||(f[1]=h=>s.value=!0)},null,8,["user-id","fields"])):(Q(),ke(g,{key:0,onUserId:f[0]||(f[0]=h=>te.value=h),onTasks:o}))])}}});const vn=He(pn,[["__scopeId","data-v-156e1ccb"]]);export{vn as default};
