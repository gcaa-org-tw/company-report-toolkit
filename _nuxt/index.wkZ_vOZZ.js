import{l as je,f as ie,r as M,g as J,o as F,c as V,h as j,a as O,n as oe,v as le,q as Oe,t as Y,s as he,F as re,x as ue,i as ce,d as Z,y as ae,z as xe,A as Ie,B as Te,C as De,p as Re,e as Ce,_ as de,D as ye,k as Ue,E as Ve,G as Be,H as ne,I as Ge,J as He,b as Le,w as Ke,m as ze}from"./entry.RWTigU-R.js";import{c as Ae,g as Ye,_ as X}from"./lodash.6kCWRynI.js";import{a as qe,_ as Je,b as We}from"./SinglePdfPage.MZC9OIce.js";import{u as Xe}from"./vue.f36acd1f.hTpnobD6.js";import{u as Ze}from"./index.Fo1tbW2T.js";import{_ as Qe}from"./nuxt-link.FIwMBYHw.js";function pe($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fe={exports:{}};(function($,z){(function(t){$.exports=t()})(function(){return function(){function t(o,c,a){function e(i,l){if(!c[i]){if(!o[i]){var s=typeof pe=="function"&&pe;if(!l&&s)return s(i,!0);if(n)return n(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var d=c[i]={exports:{}};o[i][0].call(d.exports,function(f){var g=o[i][1][f];return e(g||f)},d,d.exports,t,o,c,a)}return c[i].exports}for(var n=typeof pe=="function"&&pe,r=0;r<a.length;r++)e(a[r]);return e}return t}()({1:[function(t,o,c){var a,e=typeof window<"u"?window:typeof self<"u"?self:null;if(!e)a=t("abort-controller");else if("signal"in new Request("https://airtable.com"))a=e.AbortController;else{var n=t("abortcontroller-polyfill/dist/cjs-ponyfill");a=n.AbortController}o.exports=a},{"abort-controller":20,"abortcontroller-polyfill/dist/cjs-ponyfill":19}],2:[function(t,o,c){var a=function(){function e(n,r,i){this.error=n,this.message=r,this.statusCode=i}return e.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},e}();o.exports=a},{}],3:[function(t,o,c){var a=this&&this.__assign||function(){return a=Object.assign||function(P){for(var b,x=1,T=arguments.length;x<T;x++){b=arguments[x];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(P[E]=b[E])}return P},a.apply(this,arguments)},e=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},n=e(t("lodash/get")),r=e(t("lodash/isPlainObject")),i=e(t("lodash/keys")),l=e(t("./fetch")),s=e(t("./abort-controller")),u=e(t("./object_to_query_param_string")),d=e(t("./airtable_error")),f=e(t("./table")),g=e(t("./http_headers")),_=e(t("./run_action")),h=e(t("./package_version")),p=e(t("./exponential_backoff_with_jitter")),y="Airtable.js/"+h.default,m=function(){function P(b,x){this._airtable=b,this._id=x}return P.prototype.table=function(b){return new f.default(this,null,b)},P.prototype.makeRequest=function(b){var x=this,T;b===void 0&&(b={});var E=n.default(b,"method","GET").toUpperCase(),I=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+n.default(b,"path","/")+"?"+u.default(n.default(b,"qs",{})),k=new s.default,H=this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,(T=b.headers)!==null&&T!==void 0?T:{})),U={method:E,headers:H,signal:k.signal};"body"in b&&v(E)&&(U.body=JSON.stringify(b.body));var C=setTimeout(function(){k.abort()},this._airtable._requestTimeout);return new Promise(function(B,G){l.default(I,U).then(function(N){if(clearTimeout(C),N.status===429&&!x._airtable._noRetryIfRateLimited){var ee=n.default(b,"_numAttempts",0),te=p.default(ee);setTimeout(function(){var Q=a(a({},b),{_numAttempts:ee+1});x.makeRequest(Q).then(B).catch(G)},te)}else N.json().then(function(Q){var A=x._checkStatusForError(N.status,Q)||w(N.status,Q);A?G(A):B({statusCode:N.status,headers:N.headers,body:Q})}).catch(function(){var Q=w(N.status);G(Q)})}).catch(function(N){clearTimeout(C),N=new d.default("CONNECTION_ERROR",N.message,null),G(N)})})},P.prototype.runAction=function(b,x,T,E,I){_.default(this,b,x,T,E,I,0)},P.prototype._getRequestHeaders=function(b){var x=new g.default;x.set("Authorization","Bearer "+this._airtable._apiKey),x.set("User-Agent",y),x.set("Content-Type","application/json");for(var T=0,E=i.default(b);T<E.length;T++){var I=E[T];x.set(I,b[I])}return x.toJSON()},P.prototype._checkStatusForError=function(b,x){var T=(x??{error:{}}).error,E=T===void 0?{}:T,I=E.type,k=E.message;return b===401?new d.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",b):b===403?new d.default("NOT_AUTHORIZED","You are not authorized to perform this operation",b):b===404?new d.default("NOT_FOUND",k??"Could not find what you are looking for",b):b===413?new d.default("REQUEST_TOO_LARGE","Request body is too large",b):b===422?new d.default(I??"UNPROCESSABLE_ENTITY",k??"The operation cannot be processed",b):b===429?new d.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",b):b===500?new d.default("SERVER_ERROR","Try again. If the problem persists, contact support.",b):b===503?new d.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",b):b>=400?new d.default(I??"UNEXPECTED_ERROR",k??"An unexpected error occurred",b):null},P.prototype.doCall=function(b){return this.table(b)},P.prototype.getId=function(){return this._id},P.createFunctor=function(b,x){var T=new P(b,x),E=function(I){return T.doCall(I)};return E._base=T,E.table=T.table.bind(T),E.makeRequest=T.makeRequest.bind(T),E.runAction=T.runAction.bind(T),E.getId=T.getId.bind(T),E},P}();function v(P){return P!=="GET"&&P!=="DELETE"}function w(P,b){return r.default(b)?null:new d.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",P)}o.exports=m},{"./abort-controller":1,"./airtable_error":2,"./exponential_backoff_with_jitter":6,"./fetch":7,"./http_headers":9,"./object_to_query_param_string":11,"./package_version":12,"./run_action":16,"./table":17,"lodash/get":77,"lodash/isPlainObject":89,"lodash/keys":93}],4:[function(t,o,c){function a(e,n,r){return r===void 0&&(r=void 0),function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var s;r===void 0?s=i.length>0?i.length-1:0:s=r;var u=i[s];if(typeof u=="function"){e.apply(n,i);return}else{for(var d=[],f=Math.max(i.length,s),g=0;g<f;g++)d.push(i[g]);return new Promise(function(_,h){d.push(function(p,y){p?h(p):_(y)}),e.apply(n,d)})}}}o.exports=a},{}],5:[function(t,o,c){var a={};function e(n,r,i){return function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];a[r]||(a[r]=!0,console.warn(i)),n.apply(this,l)}}o.exports=e},{}],6:[function(t,o,c){var a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=a(t("./internal_config.json"));function n(r){var i=e.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,r),l=Math.min(e.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,i),s=Math.random()*l;return s}o.exports=n},{"./internal_config.json":10}],7:[function(t,o,c){var a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=a(t("node-fetch")),n=typeof window<"u"?window:typeof self<"u"?self:null;o.exports=n?n.fetch.bind(n):e.default},{"node-fetch":20}],8:[function(t,o,c){function a(e,n){return Object.prototype.hasOwnProperty.call(e,n)}o.exports=a},{}],9:[function(t,o,c){var a=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=a(t("lodash/keys")),n=typeof window<"u",r=function(){function i(){this._headersByLowercasedKey={}}return i.prototype.set=function(l,s){var u=l.toLowerCase();u==="x-airtable-user-agent"&&(u="user-agent",l="User-Agent"),this._headersByLowercasedKey[u]={headerKey:l,headerValue:s}},i.prototype.toJSON=function(){for(var l={},s=0,u=e.default(this._headersByLowercasedKey);s<u.length;s++){var d=u[s],f=this._headersByLowercasedKey[d],g=void 0;n&&d==="user-agent"?g="X-Airtable-User-Agent":g=f.headerKey,l[g]=f.headerValue}return l},i}();o.exports=r},{"lodash/keys":93}],10:[function(t,o,c){o.exports={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5}},{}],11:[function(t,o,c){var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=a(t("lodash/isArray")),n=a(t("lodash/isNil")),r=a(t("lodash/keys"));function i(s,u,d){if(e.default(u))for(var f=0;f<u.length;f++){var g=u[f];/\[\]$/.test(s)?d(s,g):i(s+"["+(typeof g=="object"&&g!==null?f:"")+"]",g,d)}else if(typeof u=="object")for(var _=0,h=r.default(u);_<h.length;_++){var p=h[_],g=u[p];i(s+"["+p+"]",g,d)}else d(s,u)}function l(s){for(var u=[],d=function(p,y){y=n.default(y)?"":y,u.push(encodeURIComponent(p)+"="+encodeURIComponent(y))},f=0,g=r.default(s);f<g.length;f++){var _=g[f],h=s[_];i(_,h,d)}return u.join("&").replace(/%20/g,"+")}o.exports=l},{"lodash/isArray":79,"lodash/isNil":85,"lodash/keys":93}],12:[function(t,o,c){o.exports="0.12.2"},{}],13:[function(t,o,c){var a=this&&this.__assign||function(){return a=Object.assign||function(p){for(var y,m=1,v=arguments.length;m<v;m++){y=arguments[m];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(p[w]=y[w])}return p},a.apply(this,arguments)},e=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},n=e(t("lodash/isFunction")),r=e(t("lodash/keys")),i=e(t("./record")),l=e(t("./callback_to_promise")),s=e(t("./has")),u=t("./query_params"),d=e(t("./object_to_query_param_string")),f=function(){function p(y,m){this._table=y,this._params=m,this.firstPage=l.default(g,this),this.eachPage=l.default(_,this,1),this.all=l.default(h,this)}return p.validateParams=function(y){for(var m={},v=[],w=[],P=0,b=r.default(y);P<b.length;P++){var x=b[P],T=y[x];if(s.default(p.paramValidators,x)){var E=p.paramValidators[x],I=E(T);I.pass?m[x]=T:w.push(I.error)}else v.push(x)}return{validParams:m,ignoredKeys:v,errors:w}},p.paramValidators=u.paramValidators,p}();function g(p){if(!n.default(p))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage(function(y){p(null,y)},function(y){p(y,null)})}function _(p,y){var m=this;if(!n.default(p))throw new Error("The first parameter to `eachPage` must be a function");if(!n.default(y)&&y!==void 0)throw new Error("The second parameter to `eachPage` must be a function or undefined");var v=a({},this._params),w="/"+this._table._urlEncodedNameOrId()+"?"+d.default(v),P={},b=null,x,T;if(v.method==="post"||w.length>u.URL_CHARACTER_LENGTH_LIMIT){b=v,x="post",T="/"+this._table._urlEncodedNameOrId()+"/listRecords";for(var E=Object.keys(v),I=0,k=E;I<k.length;I++){var H=k[I];u.shouldListRecordsParamBePassedAsParameter(H)?P[H]=v[H]:b[H]=v[H]}}else x="get",P=v,T="/"+this._table._urlEncodedNameOrId();var U=function(){m._table._base.runAction(x,T,P,b,function(C,B,G){if(C)y(C,null);else{var N=void 0;G.offset?(v.offset=G.offset,N=U):N=function(){y(null)};var ee=G.records.map(function(te){return new i.default(m._table,null,te)});p(ee,N)}})};U()}function h(p){if(!n.default(p))throw new Error("The first parameter to `all` must be a function");var y=[];this.eachPage(function(m,v){y.push.apply(y,m),v()},function(m){m?p(m,null):p(null,y)})}o.exports=f},{"./callback_to_promise":4,"./has":8,"./object_to_query_param_string":11,"./query_params":14,"./record":15,"lodash/isFunction":83,"lodash/keys":93}],14:[function(t,o,c){var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0}),c.shouldListRecordsParamBePassedAsParameter=c.URL_CHARACTER_LENGTH_LIMIT=c.paramValidators=void 0;var e=a(t("./typecheck")),n=a(t("lodash/isString")),r=a(t("lodash/isNumber")),i=a(t("lodash/isPlainObject")),l=a(t("lodash/isBoolean"));c.paramValidators={fields:e.default(e.default.isArrayOf(n.default),"the value for `fields` should be an array of strings"),filterByFormula:e.default(n.default,"the value for `filterByFormula` should be a string"),maxRecords:e.default(r.default,"the value for `maxRecords` should be a number"),pageSize:e.default(r.default,"the value for `pageSize` should be a number"),offset:e.default(r.default,"the value for `offset` should be a number"),sort:e.default(e.default.isArrayOf(function(s){return i.default(s)&&n.default(s.field)&&(s.direction===void 0||["asc","desc"].includes(s.direction))}),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:e.default(n.default,"the value for `view` should be a string"),cellFormat:e.default(function(s){return n.default(s)&&["json","string"].includes(s)},'the value for `cellFormat` should be "json" or "string"'),timeZone:e.default(n.default,"the value for `timeZone` should be a string"),userLocale:e.default(n.default,"the value for `userLocale` should be a string"),method:e.default(function(s){return n.default(s)&&["get","post"].includes(s)},'the value for `method` should be "get" or "post"'),returnFieldsByFieldId:e.default(l.default,"the value for `returnFieldsByFieldId` should be a boolean"),recordMetadata:e.default(e.default.isArrayOf(n.default),"the value for `recordMetadata` should be an array of strings")},c.URL_CHARACTER_LENGTH_LIMIT=15e3,c.shouldListRecordsParamBePassedAsParameter=function(s){return s==="timeZone"||s==="userLocale"}},{"./typecheck":18,"lodash/isBoolean":81,"lodash/isNumber":86,"lodash/isPlainObject":89,"lodash/isString":90}],15:[function(t,o,c){var a=this&&this.__assign||function(){return a=Object.assign||function(f){for(var g,_=1,h=arguments.length;_<h;_++){g=arguments[_];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(f[p]=g[p])}return f},a.apply(this,arguments)},e=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},n=e(t("./callback_to_promise")),r=function(){function f(g,_,h){this._table=g,this.id=_||h.id,h&&(this.commentCount=h.commentCount),this.setRawJson(h),this.save=n.default(i,this),this.patchUpdate=n.default(l,this),this.putUpdate=n.default(s,this),this.destroy=n.default(u,this),this.fetch=n.default(d,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return f.prototype.getId=function(){return this.id},f.prototype.get=function(g){return this.fields[g]},f.prototype.set=function(g,_){this.fields[g]=_},f.prototype.setRawJson=function(g){this._rawJson=g,this.fields=this._rawJson&&this._rawJson.fields||{}},f}();function i(f){this.putUpdate(this.fields,f)}function l(f,g,_){var h=this;_||(_=g,g={});var p=a({fields:f},g);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},p,function(y,m,v){if(y){_(y);return}h.setRawJson(v),_(null,h)})}function s(f,g,_){var h=this;_||(_=g,g={});var p=a({fields:f},g);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},p,function(y,m,v){if(y){_(y);return}h.setRawJson(v),_(null,h)})}function u(f){var g=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(_){if(_){f(_);return}f(null,g)})}function d(f){var g=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,function(_,h,p){if(_){f(_);return}g.setRawJson(p),f(null,g)})}o.exports=r},{"./callback_to_promise":4}],16:[function(t,o,c){var a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},e=a(t("./exponential_backoff_with_jitter")),n=a(t("./object_to_query_param_string")),r=a(t("./package_version")),i=a(t("./fetch")),l=a(t("./abort-controller")),s="Airtable.js/"+r.default;function u(d,f,g,_,h,p,y){var m=d._airtable._endpointUrl+"/v"+d._airtable._apiVersionMajor+"/"+d._id+g+"?"+n.default(_),v={authorization:"Bearer "+d._airtable._apiKey,"x-api-version":d._airtable._apiVersion,"x-airtable-application-id":d.getId(),"content-type":"application/json"},w=typeof window<"u";w?v["x-airtable-user-agent"]=s:v["User-Agent"]=s;var P=new l.default,b=f.toUpperCase(),x={method:b,headers:v,signal:P.signal};h!==null&&(b==="GET"||b==="HEAD"?console.warn("body argument to runAction are ignored with GET or HEAD requests"):x.body=JSON.stringify(h));var T=setTimeout(function(){P.abort()},d._airtable._requestTimeout);i.default(m,x).then(function(E){if(clearTimeout(T),E.status===429&&!d._airtable._noRetryIfRateLimited){var I=e.default(y);setTimeout(function(){u(d,f,g,_,h,p,y+1)},I)}else E.json().then(function(k){var H=d._checkStatusForError(E.status,k),U={};Object.keys(E).forEach(function(C){U[C]=E[C]}),U.body=k,U.statusCode=E.status,p(H,U,k)}).catch(function(){p(d._checkStatusForError(E.status))})}).catch(function(E){clearTimeout(T),p(E)})}o.exports=u},{"./abort-controller":1,"./exponential_backoff_with_jitter":6,"./fetch":7,"./object_to_query_param_string":11,"./package_version":12}],17:[function(t,o,c){var a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var _,h=1,p=arguments.length;h<p;h++){_=arguments[h];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(g[y]=_[y])}return g},a.apply(this,arguments)},e=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},n=e(t("lodash/isPlainObject")),r=e(t("./deprecate")),i=e(t("./query")),l=t("./query_params"),s=e(t("./object_to_query_param_string")),u=e(t("./record")),d=e(t("./callback_to_promise")),f=function(){function g(_,h,p){if(!h&&!p)throw new Error("Table name or table ID is required");this._base=_,this.id=h,this.name=p,this.find=d.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=d.default(this._createRecords,this),this.update=d.default(this._updateRecords.bind(this,!1),this),this.replace=d.default(this._updateRecords.bind(this,!0),this),this.destroy=d.default(this._destroyRecord,this),this.list=r.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=r.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return g.prototype._findRecordById=function(_,h){var p=new u.default(this,_);p.fetch(h)},g.prototype._selectRecords=function(_){if(_===void 0&&(_={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),n.default(_)){var h=i.default.validateParams(_);if(h.errors.length){var p=h.errors.map(function(y){return"  * "+y});throw new Error("Airtable: invalid parameters for `select`:\n"+p.join(`
`))}return h.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+h.ignoredKeys.join(", ")),new i.default(this,h.validParams)}else throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},g.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},g.prototype._createRecords=function(_,h,p){var y=this,m=Array.isArray(_);p||(p=h,h={});var v;m?v=a({records:_},h):v=a({fields:_},h),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},v,function(w,P,b){if(w){p(w);return}var x;m?x=b.records.map(function(T){return new u.default(y,T.id,T)}):x=new u.default(y,b.id,b),p(null,x)})},g.prototype._updateRecords=function(_,h,p,y,m){var v=this,w;if(Array.isArray(h)){var P=h;w=n.default(p)?p:{},m=y||p;var b=_?"put":"patch",x=a({records:P},w);this._base.runAction(b,"/"+this._urlEncodedNameOrId()+"/",{},x,function(k,H,U){if(k){m(k);return}var C=U.records.map(function(B){return new u.default(v,B.id,B)});m(null,C)})}else{var T=h,E=p;w=n.default(y)?y:{},m=m||y;var I=new u.default(this,T);_?I.putUpdate(E,w,m):I.patchUpdate(E,w,m)}},g.prototype._destroyRecord=function(_,h){var p=this;if(Array.isArray(_)){var y={records:_};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),y,null,function(v,w,P){if(v){h(v);return}var b=P.records.map(function(x){var T=x.id;return new u.default(p,T,null)});h(null,b)})}else{var m=new u.default(this,_);m.destroy(h)}},g.prototype._listRecords=function(_,h,p,y){var m=this;y||(y=p,p={});var v="/"+this._urlEncodedNameOrId()+"?"+s.default(p),w,P={},b=null,x;if(typeof p!="function"&&p.method==="post"||v.length>l.URL_CHARACTER_LENGTH_LIMIT){w="/"+this._urlEncodedNameOrId()+"/listRecords",b=a(a({},_&&{pageSize:_}),h&&{offset:h}),x="post";for(var T=Object.keys(p),E=0,I=T;E<I.length;E++){var k=I[E];l.shouldListRecordsParamBePassedAsParameter(k)?P[k]=p[k]:b[k]=p[k]}}else x="get",w="/"+this._urlEncodedNameOrId()+"/",P=a({limit:_,offset:h},p);this._base.runAction(x,w,P,b,function(H,U,C){if(H){y(H);return}var B=C.records.map(function(G){return new u.default(m,null,G)});y(null,B,C.offset)})},g.prototype._forEachRecord=function(_,h,p){var y=this;arguments.length===2&&(p=h,h=_,_={});var m=g.__recordsPerPageForIteration||100,v=null,w=function(){y._listRecords(m,v,_,function(P,b,x){if(P){p(P);return}for(var T=0;T<b.length;T++)h(b[T]);x?(v=x,w()):p()})};w()},g}();o.exports=f},{"./callback_to_promise":4,"./deprecate":5,"./object_to_query_param_string":11,"./query":13,"./query_params":14,"./record":15,"lodash/isPlainObject":89}],18:[function(t,o,c){function a(e,n){return function(r){return e(r)?{pass:!0}:{pass:!1,error:n}}}a.isOneOf=function(n){return n.includes.bind(n)},a.isArrayOf=function(e){return function(n){return Array.isArray(n)&&n.every(e)}},o.exports=a},{}],19:[function(t,o,c){Object.defineProperty(c,"__esModule",{value:!0});function a(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function e(m,v){for(var w=0;w<v.length;w++){var P=v[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}function n(m,v,w){return v&&e(m.prototype,v),w&&e(m,w),m}function r(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),v&&l(m,v)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},i(m)}function l(m,v){return l=Object.setPrototypeOf||function(P,b){return P.__proto__=b,P},l(m,v)}function s(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m,v){return v&&(typeof v=="object"||typeof v=="function")?v:s(m)}function d(m,v){for(;!Object.prototype.hasOwnProperty.call(m,v)&&(m=i(m),m!==null););return m}function f(m,v,w){return typeof Reflect<"u"&&Reflect.get?f=Reflect.get:f=function(b,x,T){var E=d(b,x);if(E){var I=Object.getOwnPropertyDescriptor(E,x);return I.get?I.get.call(T):I.value}},f(m,v,w||m)}var g=function(){function m(){a(this,m),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(m,[{key:"addEventListener",value:function(w,P){w in this.listeners||(this.listeners[w]=[]),this.listeners[w].push(P)}},{key:"removeEventListener",value:function(w,P){if(w in this.listeners){for(var b=this.listeners[w],x=0,T=b.length;x<T;x++)if(b[x]===P){b.splice(x,1);return}}}},{key:"dispatchEvent",value:function(w){var P=this;if(w.type in this.listeners){for(var b=function(k){setTimeout(function(){return k.call(P,w)})},x=this.listeners[w.type],T=0,E=x.length;T<E;T++)b(x[T]);return!w.defaultPrevented}}}]),m}(),_=function(m){r(v,m);function v(){var w;return a(this,v),w=u(this,i(v).call(this)),w.listeners||g.call(s(w)),Object.defineProperty(s(w),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(w),"onabort",{value:null,writable:!0,configurable:!0}),w}return n(v,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(P){P.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,P)),f(i(v.prototype),"dispatchEvent",this).call(this,P)}}]),v}(g),h=function(){function m(){a(this,m),Object.defineProperty(this,"signal",{value:new _,writable:!0,configurable:!0})}return n(m,[{key:"abort",value:function(){var w;try{w=new Event("abort")}catch{typeof document<"u"?document.createEvent?(w=document.createEvent("Event"),w.initEvent("abort",!1,!1)):(w=document.createEventObject(),w.type="abort"):w={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(w)}},{key:"toString",value:function(){return"[object AbortController]"}}]),m}();typeof Symbol<"u"&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",_.prototype[Symbol.toStringTag]="AbortSignal");function p(m){return m.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof m.Request=="function"&&!m.Request.prototype.hasOwnProperty("signal")||!m.AbortController}function y(m){typeof m=="function"&&(m={fetch:m});var v=m,w=v.fetch,P=v.Request,b=P===void 0?w.Request:P,x=v.AbortController,T=v.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,E=T===void 0?!1:T;if(!p({fetch:w,Request:b,AbortController:x,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:E}))return{fetch:w,Request:I};var I=b;(I&&!I.prototype.hasOwnProperty("signal")||E)&&(I=function(C,B){var G;B&&B.signal&&(G=B.signal,delete B.signal);var N=new b(C,B);return G&&Object.defineProperty(N,"signal",{writable:!1,enumerable:!1,configurable:!0,value:G}),N},I.prototype=b.prototype);var k=w,H=function(C,B){var G=I&&I.prototype.isPrototypeOf(C)?C.signal:B?B.signal:void 0;if(G){var N;try{N=new DOMException("Aborted","AbortError")}catch{N=new Error("Aborted"),N.name="AbortError"}if(G.aborted)return Promise.reject(N);var ee=new Promise(function(te,Q){G.addEventListener("abort",function(){return Q(N)},{once:!0})});return B&&B.signal&&delete B.signal,Promise.race([ee,k(C,B)])}return k(C,B)};return{fetch:H,Request:I}}c.AbortController=h,c.AbortSignal=_,c.abortableFetch=y},{}],20:[function(t,o,c){},{}],21:[function(t,o,c){var a=t("./_hashClear"),e=t("./_hashDelete"),n=t("./_hashGet"),r=t("./_hashHas"),i=t("./_hashSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var f=s[u];this.set(f[0],f[1])}}l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,o.exports=l},{"./_hashClear":46,"./_hashDelete":47,"./_hashGet":48,"./_hashHas":49,"./_hashSet":50}],22:[function(t,o,c){var a=t("./_listCacheClear"),e=t("./_listCacheDelete"),n=t("./_listCacheGet"),r=t("./_listCacheHas"),i=t("./_listCacheSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var f=s[u];this.set(f[0],f[1])}}l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,o.exports=l},{"./_listCacheClear":56,"./_listCacheDelete":57,"./_listCacheGet":58,"./_listCacheHas":59,"./_listCacheSet":60}],23:[function(t,o,c){var a=t("./_getNative"),e=t("./_root"),n=a(e,"Map");o.exports=n},{"./_getNative":42,"./_root":72}],24:[function(t,o,c){var a=t("./_mapCacheClear"),e=t("./_mapCacheDelete"),n=t("./_mapCacheGet"),r=t("./_mapCacheHas"),i=t("./_mapCacheSet");function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var f=s[u];this.set(f[0],f[1])}}l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,o.exports=l},{"./_mapCacheClear":61,"./_mapCacheDelete":62,"./_mapCacheGet":63,"./_mapCacheHas":64,"./_mapCacheSet":65}],25:[function(t,o,c){var a=t("./_root"),e=a.Symbol;o.exports=e},{"./_root":72}],26:[function(t,o,c){var a=t("./_baseTimes"),e=t("./isArguments"),n=t("./isArray"),r=t("./isBuffer"),i=t("./_isIndex"),l=t("./isTypedArray"),s=Object.prototype,u=s.hasOwnProperty;function d(f,g){var _=n(f),h=!_&&e(f),p=!_&&!h&&r(f),y=!_&&!h&&!p&&l(f),m=_||h||p||y,v=m?a(f.length,String):[],w=v.length;for(var P in f)(g||u.call(f,P))&&!(m&&(P=="length"||p&&(P=="offset"||P=="parent")||y&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,w)))&&v.push(P);return v}o.exports=d},{"./_baseTimes":35,"./_isIndex":51,"./isArguments":78,"./isArray":79,"./isBuffer":82,"./isTypedArray":92}],27:[function(t,o,c){function a(e,n){for(var r=-1,i=e==null?0:e.length,l=Array(i);++r<i;)l[r]=n(e[r],r,e);return l}o.exports=a},{}],28:[function(t,o,c){var a=t("./eq");function e(n,r){for(var i=n.length;i--;)if(a(n[i][0],r))return i;return-1}o.exports=e},{"./eq":76}],29:[function(t,o,c){var a=t("./_castPath"),e=t("./_toKey");function n(r,i){i=a(i,r);for(var l=0,s=i.length;r!=null&&l<s;)r=r[e(i[l++])];return l&&l==s?r:void 0}o.exports=n},{"./_castPath":38,"./_toKey":74}],30:[function(t,o,c){var a=t("./_Symbol"),e=t("./_getRawTag"),n=t("./_objectToString"),r="[object Null]",i="[object Undefined]",l=a?a.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:l&&l in Object(u)?e(u):n(u)}o.exports=s},{"./_Symbol":25,"./_getRawTag":44,"./_objectToString":70}],31:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isObjectLike"),n="[object Arguments]";function r(i){return e(i)&&a(i)==n}o.exports=r},{"./_baseGetTag":30,"./isObjectLike":88}],32:[function(t,o,c){var a=t("./isFunction"),e=t("./_isMasked"),n=t("./isObject"),r=t("./_toSource"),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,d=s.toString,f=u.hasOwnProperty,g=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(h){if(!n(h)||e(h))return!1;var p=a(h)?g:l;return p.test(r(h))}o.exports=_},{"./_isMasked":54,"./_toSource":75,"./isFunction":83,"./isObject":87}],33:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isLength"),n=t("./isObjectLike"),r="[object Arguments]",i="[object Array]",l="[object Boolean]",s="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",g="[object Number]",_="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",P="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",H="[object Uint16Array]",U="[object Uint32Array]",C={};C[P]=C[b]=C[x]=C[T]=C[E]=C[I]=C[k]=C[H]=C[U]=!0,C[r]=C[i]=C[v]=C[l]=C[w]=C[s]=C[u]=C[d]=C[f]=C[g]=C[_]=C[h]=C[p]=C[y]=C[m]=!1;function B(G){return n(G)&&e(G.length)&&!!C[a(G)]}o.exports=B},{"./_baseGetTag":30,"./isLength":84,"./isObjectLike":88}],34:[function(t,o,c){var a=t("./_isPrototype"),e=t("./_nativeKeys"),n=Object.prototype,r=n.hasOwnProperty;function i(l){if(!a(l))return e(l);var s=[];for(var u in Object(l))r.call(l,u)&&u!="constructor"&&s.push(u);return s}o.exports=i},{"./_isPrototype":55,"./_nativeKeys":68}],35:[function(t,o,c){function a(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}o.exports=a},{}],36:[function(t,o,c){var a=t("./_Symbol"),e=t("./_arrayMap"),n=t("./isArray"),r=t("./isSymbol"),i=1/0,l=a?a.prototype:void 0,s=l?l.toString:void 0;function u(d){if(typeof d=="string")return d;if(n(d))return e(d,u)+"";if(r(d))return s?s.call(d):"";var f=d+"";return f=="0"&&1/d==-i?"-0":f}o.exports=u},{"./_Symbol":25,"./_arrayMap":27,"./isArray":79,"./isSymbol":91}],37:[function(t,o,c){function a(e){return function(n){return e(n)}}o.exports=a},{}],38:[function(t,o,c){var a=t("./isArray"),e=t("./_isKey"),n=t("./_stringToPath"),r=t("./toString");function i(l,s){return a(l)?l:e(l,s)?[l]:n(r(l))}o.exports=i},{"./_isKey":52,"./_stringToPath":73,"./isArray":79,"./toString":96}],39:[function(t,o,c){var a=t("./_root"),e=a["__core-js_shared__"];o.exports=e},{"./_root":72}],40:[function(t,o,c){(function(a){var e=typeof a=="object"&&a&&a.Object===Object&&a;o.exports=e}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],41:[function(t,o,c){var a=t("./_isKeyable");function e(n,r){var i=n.__data__;return a(r)?i[typeof r=="string"?"string":"hash"]:i.map}o.exports=e},{"./_isKeyable":53}],42:[function(t,o,c){var a=t("./_baseIsNative"),e=t("./_getValue");function n(r,i){var l=e(r,i);return a(l)?l:void 0}o.exports=n},{"./_baseIsNative":32,"./_getValue":45}],43:[function(t,o,c){var a=t("./_overArg"),e=a(Object.getPrototypeOf,Object);o.exports=e},{"./_overArg":71}],44:[function(t,o,c){var a=t("./_Symbol"),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=a?a.toStringTag:void 0;function l(s){var u=n.call(s,i),d=s[i];try{s[i]=void 0;var f=!0}catch{}var g=r.call(s);return f&&(u?s[i]=d:delete s[i]),g}o.exports=l},{"./_Symbol":25}],45:[function(t,o,c){function a(e,n){return e==null?void 0:e[n]}o.exports=a},{}],46:[function(t,o,c){var a=t("./_nativeCreate");function e(){this.__data__=a?a(null):{},this.size=0}o.exports=e},{"./_nativeCreate":67}],47:[function(t,o,c){function a(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}o.exports=a},{}],48:[function(t,o,c){var a=t("./_nativeCreate"),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(l){var s=this.__data__;if(a){var u=s[l];return u===e?void 0:u}return r.call(s,l)?s[l]:void 0}o.exports=i},{"./_nativeCreate":67}],49:[function(t,o,c){var a=t("./_nativeCreate"),e=Object.prototype,n=e.hasOwnProperty;function r(i){var l=this.__data__;return a?l[i]!==void 0:n.call(l,i)}o.exports=r},{"./_nativeCreate":67}],50:[function(t,o,c){var a=t("./_nativeCreate"),e="__lodash_hash_undefined__";function n(r,i){var l=this.__data__;return this.size+=this.has(r)?0:1,l[r]=a&&i===void 0?e:i,this}o.exports=n},{"./_nativeCreate":67}],51:[function(t,o,c){var a=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var l=typeof r;return i=i??a,!!i&&(l=="number"||l!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}o.exports=n},{}],52:[function(t,o,c){var a=t("./isArray"),e=t("./isSymbol"),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(l,s){if(a(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||e(l)?!0:r.test(l)||!n.test(l)||s!=null&&l in Object(s)}o.exports=i},{"./isArray":79,"./isSymbol":91}],53:[function(t,o,c){function a(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}o.exports=a},{}],54:[function(t,o,c){var a=t("./_coreJsData"),e=function(){var r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}o.exports=n},{"./_coreJsData":39}],55:[function(t,o,c){var a=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||a;return n===i}o.exports=e},{}],56:[function(t,o,c){function a(){this.__data__=[],this.size=0}o.exports=a},{}],57:[function(t,o,c){var a=t("./_assocIndexOf"),e=Array.prototype,n=e.splice;function r(i){var l=this.__data__,s=a(l,i);if(s<0)return!1;var u=l.length-1;return s==u?l.pop():n.call(l,s,1),--this.size,!0}o.exports=r},{"./_assocIndexOf":28}],58:[function(t,o,c){var a=t("./_assocIndexOf");function e(n){var r=this.__data__,i=a(r,n);return i<0?void 0:r[i][1]}o.exports=e},{"./_assocIndexOf":28}],59:[function(t,o,c){var a=t("./_assocIndexOf");function e(n){return a(this.__data__,n)>-1}o.exports=e},{"./_assocIndexOf":28}],60:[function(t,o,c){var a=t("./_assocIndexOf");function e(n,r){var i=this.__data__,l=a(i,n);return l<0?(++this.size,i.push([n,r])):i[l][1]=r,this}o.exports=e},{"./_assocIndexOf":28}],61:[function(t,o,c){var a=t("./_Hash"),e=t("./_ListCache"),n=t("./_Map");function r(){this.size=0,this.__data__={hash:new a,map:new(n||e),string:new a}}o.exports=r},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],62:[function(t,o,c){var a=t("./_getMapData");function e(n){var r=a(this,n).delete(n);return this.size-=r?1:0,r}o.exports=e},{"./_getMapData":41}],63:[function(t,o,c){var a=t("./_getMapData");function e(n){return a(this,n).get(n)}o.exports=e},{"./_getMapData":41}],64:[function(t,o,c){var a=t("./_getMapData");function e(n){return a(this,n).has(n)}o.exports=e},{"./_getMapData":41}],65:[function(t,o,c){var a=t("./_getMapData");function e(n,r){var i=a(this,n),l=i.size;return i.set(n,r),this.size+=i.size==l?0:1,this}o.exports=e},{"./_getMapData":41}],66:[function(t,o,c){var a=t("./memoize"),e=500;function n(r){var i=a(r,function(s){return l.size===e&&l.clear(),s}),l=i.cache;return i}o.exports=n},{"./memoize":94}],67:[function(t,o,c){var a=t("./_getNative"),e=a(Object,"create");o.exports=e},{"./_getNative":42}],68:[function(t,o,c){var a=t("./_overArg"),e=a(Object.keys,Object);o.exports=e},{"./_overArg":71}],69:[function(t,o,c){var a=t("./_freeGlobal"),e=typeof c=="object"&&c&&!c.nodeType&&c,n=e&&typeof o=="object"&&o&&!o.nodeType&&o,r=n&&n.exports===e,i=r&&a.process,l=function(){try{var s=n&&n.require&&n.require("util").types;return s||i&&i.binding&&i.binding("util")}catch{}}();o.exports=l},{"./_freeGlobal":40}],70:[function(t,o,c){var a=Object.prototype,e=a.toString;function n(r){return e.call(r)}o.exports=n},{}],71:[function(t,o,c){function a(e,n){return function(r){return e(n(r))}}o.exports=a},{}],72:[function(t,o,c){var a=t("./_freeGlobal"),e=typeof self=="object"&&self&&self.Object===Object&&self,n=a||e||Function("return this")();o.exports=n},{"./_freeGlobal":40}],73:[function(t,o,c){var a=t("./_memoizeCapped"),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=a(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(s,u,d,f){l.push(d?f.replace(n,"$1"):u||s)}),l});o.exports=r},{"./_memoizeCapped":66}],74:[function(t,o,c){var a=t("./isSymbol"),e=1/0;function n(r){if(typeof r=="string"||a(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}o.exports=n},{"./isSymbol":91}],75:[function(t,o,c){var a=Function.prototype,e=a.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}o.exports=n},{}],76:[function(t,o,c){function a(e,n){return e===n||e!==e&&n!==n}o.exports=a},{}],77:[function(t,o,c){var a=t("./_baseGet");function e(n,r,i){var l=n==null?void 0:a(n,r);return l===void 0?i:l}o.exports=e},{"./_baseGet":29}],78:[function(t,o,c){var a=t("./_baseIsArguments"),e=t("./isObjectLike"),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};o.exports=l},{"./_baseIsArguments":31,"./isObjectLike":88}],79:[function(t,o,c){var a=Array.isArray;o.exports=a},{}],80:[function(t,o,c){var a=t("./isFunction"),e=t("./isLength");function n(r){return r!=null&&e(r.length)&&!a(r)}o.exports=n},{"./isFunction":83,"./isLength":84}],81:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isObjectLike"),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&a(i)==n}o.exports=r},{"./_baseGetTag":30,"./isObjectLike":88}],82:[function(t,o,c){var a=t("./_root"),e=t("./stubFalse"),n=typeof c=="object"&&c&&!c.nodeType&&c,r=n&&typeof o=="object"&&o&&!o.nodeType&&o,i=r&&r.exports===n,l=i?a.Buffer:void 0,s=l?l.isBuffer:void 0,u=s||e;o.exports=u},{"./_root":72,"./stubFalse":95}],83:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isObject"),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function s(u){if(!e(u))return!1;var d=a(u);return d==r||d==i||d==n||d==l}o.exports=s},{"./_baseGetTag":30,"./isObject":87}],84:[function(t,o,c){var a=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=a}o.exports=e},{}],85:[function(t,o,c){function a(e){return e==null}o.exports=a},{}],86:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isObjectLike"),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&a(i)==n}o.exports=r},{"./_baseGetTag":30,"./isObjectLike":88}],87:[function(t,o,c){function a(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}o.exports=a},{}],88:[function(t,o,c){function a(e){return e!=null&&typeof e=="object"}o.exports=a},{}],89:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./_getPrototype"),n=t("./isObjectLike"),r="[object Object]",i=Function.prototype,l=Object.prototype,s=i.toString,u=l.hasOwnProperty,d=s.call(Object);function f(g){if(!n(g)||a(g)!=r)return!1;var _=e(g);if(_===null)return!0;var h=u.call(_,"constructor")&&_.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==d}o.exports=f},{"./_baseGetTag":30,"./_getPrototype":43,"./isObjectLike":88}],90:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isArray"),n=t("./isObjectLike"),r="[object String]";function i(l){return typeof l=="string"||!e(l)&&n(l)&&a(l)==r}o.exports=i},{"./_baseGetTag":30,"./isArray":79,"./isObjectLike":88}],91:[function(t,o,c){var a=t("./_baseGetTag"),e=t("./isObjectLike"),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&a(i)==n}o.exports=r},{"./_baseGetTag":30,"./isObjectLike":88}],92:[function(t,o,c){var a=t("./_baseIsTypedArray"),e=t("./_baseUnary"),n=t("./_nodeUtil"),r=n&&n.isTypedArray,i=r?e(r):a;o.exports=i},{"./_baseIsTypedArray":33,"./_baseUnary":37,"./_nodeUtil":69}],93:[function(t,o,c){var a=t("./_arrayLikeKeys"),e=t("./_baseKeys"),n=t("./isArrayLike");function r(i){return n(i)?a(i):e(i)}o.exports=r},{"./_arrayLikeKeys":26,"./_baseKeys":34,"./isArrayLike":80}],94:[function(t,o,c){var a=t("./_MapCache"),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var s=arguments,u=i?i.apply(this,s):s[0],d=l.cache;if(d.has(u))return d.get(u);var f=r.apply(this,s);return l.cache=d.set(u,f)||d,f};return l.cache=new(n.Cache||a),l}n.Cache=a,o.exports=n},{"./_MapCache":24}],95:[function(t,o,c){function a(){return!1}o.exports=a},{}],96:[function(t,o,c){var a=t("./_baseToString");function e(n){return n==null?"":a(n)}o.exports=e},{"./_baseToString":36}],airtable:[function(t,o,c){var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=a(t("./base")),n=a(t("./record")),r=a(t("./table")),i=a(t("./airtable_error")),l=function(){function s(u){u===void 0&&(u={});var d=s.default_config(),f=u.apiVersion||s.apiVersion||d.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:u.apiKey||s.apiKey||d.apiKey},_apiVersion:{value:f},_apiVersionMajor:{value:f.split(".")[0]},_customHeaders:{value:u.customHeaders||{}},_endpointUrl:{value:u.endpointUrl||s.endpointUrl||d.endpointUrl},_noRetryIfRateLimited:{value:u.noRetryIfRateLimited||s.noRetryIfRateLimited||d.noRetryIfRateLimited},_requestTimeout:{value:u.requestTimeout||s.requestTimeout||d.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return s.prototype.base=function(u){return e.default.createFunctor(this,u)},s.default_config=function(){return{endpointUrl:"https://api.airtable.com",apiVersion:"0.1.0",apiKey:"",noRetryIfRateLimited:!1,requestTimeout:300*1e3}},s.configure=function(u){var d=u.apiKey,f=u.endpointUrl,g=u.apiVersion,_=u.noRetryIfRateLimited,h=u.requestTimeout;s.apiKey=d,s.endpointUrl=f,s.apiVersion=g,s.noRetryIfRateLimited=_,s.requestTimeout=h},s.base=function(u){return new s().base(u)},s.Base=e.default,s.Record=n.default,s.Table=r.default,s.Error=i.default,s}();o.exports=l},{"./airtable_error":2,"./base":3,"./record":15,"./table":17}]},{},["airtable"])("airtable")})})(Fe);var et=Fe.exports;const tt=Ye(et),at="欄位填答統計",Se="填答紀錄",nt="驗證紀錄",ot="行為追蹤",Me=()=>{const{public:{airtableBase:$,airtableKey:z}}=je(),t=new tt({apiKey:z}).base($);return{base:t,getPendingFields:r=>new Promise((i,l)=>{t(at).select({view:"尚待驗證"}).firstPage((s,u)=>{if(s){l(s);return}const d=u==null?void 0:u.filter(f=>{const g=f.get("相關填答者");return!g||!g.every(_=>_===r)});i(d)})}),getPendingVerifications:r=>new Promise((i,l)=>{t(Se).select({view:"待驗證紀錄"}).firstPage((s,u)=>{if(s){l(s);return}const d=u==null?void 0:u.filter(f=>(f.get("填答者暱稱")||"")!==r);i(d)})}),submitField:({userId:r,companyId:i,year:l,field:s,value:u,unit:d="",notes:f="",page:g=0,keyword:_=""})=>{const h={填答者暱稱:r,公司統編:i,報告書年份:l,欄位標籤:s,數值:u};return d&&(h.單位=d),f&&(h.補充資訊=f),g&&(h.答案頁次=g),_&&(h.答案關鍵字=_),new Promise((p,y)=>{t(Se).create([{fields:h}],(m,v)=>{m?y(m):p(v[0])})})},verifyField:({userId:r,submissionId:i,result:l})=>{const s={驗證者暱稱:r,填答紀錄:[i],驗證結果:l};return new Promise((u,d)=>{t(nt).create([{fields:s}],(f,g)=>{f?d(f):u(g[0])})})},sendTrackUsage:({userId:r,companyId:i,year:l,field:s,isOnVerify:u,searchKeyword:d,isPredefined:f=void 0,clickPages:g,viewPages:_,answerPage:h})=>{const p={填答者暱稱:r,公司統編:i,報告書年份:l,欄位標籤:s,是否為驗證時:u};return d&&(p.關鍵字=d),f!==void 0&&(p.是否自訂關鍵字=!f),g.length&&(p.點選過的頁次=g.join(",")),_.length&&(p.瀏覽過的頁次=_.join(",")),h&&(p.答案頁次=h),new Promise((y,m)=>{t(ot).create([{fields:p}],(v,w)=>{v?m(v):y(w[0])})})}}},rt=[{category:"環境",fields:[{label:"是否根據 ISO 14064",type:"boolean",level:1,keywords:["14064"],notes:"14064是一個盤查溫室氣體的方法論，如果該公司有表示依照14064進行盤查，就算有。"},{label:"範疇一（值）",type:"number",keywords:["範疇一","類別一","溫室氣體","二氧化碳當量"],level:3,notes:"這題要抓的是溫室氣體排放量中，範疇一的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"範疇二（值）",type:"number",level:3,keywords:["範疇二","類別二","溫室氣體","二氧化碳當量"],notes:"這題要抓的是溫室氣體排放量中，範疇二的排放。範圍是台灣全境的，需包含各工廠（若為國外工廠則不計），單位：公噸CO2e"},{label:"年度總用電量",type:"number",level:8,keywords:["外購電力","用電量","能源"],notes:"單位：度（KWh），只看電力／外購電力欄位，其他化石燃料的使用不計入喔。"},{label:"再生能源裝置容量",type:"number",level:3,keywords:["裝置容量","再生能源"],notes:"單位：KW ，可能是寫「沒有設置」。再生能源的範疇為太陽光電、風電、地熱等。"},{label:"總取水量",type:"number",level:3,keywords:["取水量","水資源"],notes:"單位：噸；要收的是企業用水量中，取自自然或人工的水（如自來水、地下水等）。"},{label:"耗用水量",type:"number",level:3,keywords:["耗用水","耗水量","水資源"],notes:"單位：噸；要收的是企業在生產過程中消耗掉的水資源，如果沒有明確資料，也可以用總取水量減掉排放水量。"},{label:"一般事業廢棄物",type:"number",level:1,keywords:["事業廢棄物","廢棄物"],notes:"單位：噸；不包含有害事業廢棄物喔，只收非有害的廢棄物量。"}]},{category:"社會",fields:[{label:"正式人員",type:"number",level:1,keywords:["正式","正職","不定期","人力","勞動"],notes:"要收的是該公司的正職人員喔。兼職的不計。"},{label:"男性正式員工",type:"number",level:1,keywords:["男性員工","人力","勞動"]},{label:"女性正式員工",type:"number",level:1,keywords:["女性員工","人力","勞動"]},{label:"新進人數",type:"number",level:1,keywords:["新進"]},{label:"離職人數",type:"number",level:1,keywords:["離職"]},{label:"職災事件數",type:"number",level:1,keywords:["職災","受傷","死亡"],notes:"單位：件數；多數公司會直接寫當年度發生幾起職災事件，造成幾人受傷／死亡。這邊收的是事件數喔。"},{label:"工安意外細節",type:"string",level:8,keywords:["火災","事故"],notes:"文字質性描述，例如「揭露南極工廠火災事件」；不是收職災事件喔，如果沒有資訊就請填「無相關資訊」。"}]},{category:"治理",fields:[{label:"營利事業所得稅繳納金額",type:"number",level:8,keywords:["所得稅","稅後","繳納","營收","支付政府款項"],notes:"單位：元；如果沒有直接寫繳納多少所得稅，也可以嘗試用「稅前淨利」減去「稅後淨利」來計算。"},{label:"是否揭露政府補助（GRI-201-4）",type:"boolean",level:5,keywords:["GRI 201","補貼","補助"],notes:"單位：元；這邊主要是想了解企業拿了多少的政府資助，通常會在GRI對照表中找得到，如果沒有就寫「無相關資訊」即可。"},{label:"研發經費投入金額",type:"number",level:3,keywords:["研發","研發費用"],notes:"單位：元；這邊想看的是企業投入多少研發經費喔。"},{label:"ISO 14001（環境管理系統）",type:"boolean",level:1,keywords:["14001"],notes:"填寫有無即可，企業若有使用就會明確寫依14001執行...。"},{label:"ISO 45001（職業安全衛生管理系統）",type:"boolean",level:1,keywords:["45001"],notes:"填寫有無即可，企業若有使用就會明確寫依45001執行...。"}]}],ge=[{year:2021,reports:[{id:"83078600",name:"東泥",totalPage:66},{id:"11913502",name:"台泥",totalPage:65},{id:"03244509",name:"亞泥",totalPage:132},{id:"11892801",name:"嘉泥",totalPage:77},{id:"07568009",name:"環泥",totalPage:75,pageOffset:-1},{id:"40601248",name:"幸福",totalPage:71},{id:"75708007",name:"台塑",totalPage:133},{id:"75370905",name:"南亞",totalPage:127},{id:"11917107",name:"台聚",totalPage:146},{id:"11686106",name:"華夏",totalPage:165},{id:"20747385",name:"亞聚",totalPage:111},{id:"11893409",name:"台達化",totalPage:106},{id:"20844865",name:"台苯",totalPage:110},{id:"04212250",name:"國喬",totalPage:91},{id:"04748660",name:"聯成",totalPage:110},{id:"03084741",name:"中石化",totalPage:225},{id:"15024509",name:"大洋",totalPage:58},{id:"68192103",name:"永裕",totalPage:80},{id:"58650902",name:"台化",totalPage:106},{id:"30414175",name:"中鋼",totalPage:144},{id:"75280209",name:"東和鋼鐵",totalPage:146},{id:"75992214",name:"燁興",totalPage:104},{id:"82001528",name:"第一銅",totalPage:87},{id:"11529802",name:"春源",totalPage:68},{id:"85800192",name:"中鋼構",totalPage:95},{id:"07838854",name:"中鴻",totalPage:115},{id:"55389357",name:"豐興",totalPage:98},{id:"72065240",name:"官田鋼",totalPage:69},{id:"75947936",name:"燁輝",totalPage:104},{id:"22318348",name:"大成鋼",totalPage:57},{id:"79837539",name:"盛餘",totalPage:106},{id:"35836625",name:"新光鋼",totalPage:83},{id:"75460005",name:"唐榮公司",totalPage:126},{id:"86637206",name:"世鎧",totalPage:62},{id:"31213886",name:"世豐",totalPage:60},{id:"86540792",name:"震南鐵",totalPage:84},{id:"69651695",name:"世紀風電",totalPage:90},{id:"81188829",name:"長榮鋼",totalPage:116},{id:"84252697",name:"榮剛",totalPage:125},{id:"84703335",name:"強新",totalPage:86},{id:"69916350",name:"恒耀國際",totalPage:105},{id:"28754606",name:"大國鋼",totalPage:42},{id:"22649001",name:"世紀鋼",totalPage:107},{id:"47217677",name:"聯電",totalPage:176},{id:"89004161",name:"華泰",totalPage:88},{id:"22099131",name:"台積電",totalPage:228},{id:"22099548",name:"旺宏",totalPage:114},{id:"22099408",name:"光罩",totalPage:42},{id:"47255947",name:"台亞",totalPage:108},{id:"22099218",name:"華邦電",totalPage:124},{id:"58506816",name:"順德",totalPage:109},{id:"22099202",name:"矽統",totalPage:55},{id:"55625676",name:"菱生",totalPage:70},{id:"22671299",name:"瑞昱",totalPage:105},{id:"23821182",name:"凌陽",totalPage:71},{id:"89390656",name:"南亞科",totalPage:182},{id:"05126366",name:"超豐",totalPage:114},{id:"22507241",name:"京元電子",totalPage:125},{id:"23446187",name:"創見",totalPage:89},{id:"84149961",name:"聯發科",totalPage:90},{id:"84149224",name:"義隆",totalPage:93},{id:"16130280",name:"晶豪科",totalPage:95},{id:"84149955",name:"聯詠",totalPage:149},{id:"84149060",name:"智原",totalPage:90},{id:"84149759",name:"聯傑",totalPage:78},{id:"70752257",name:"穩懋",totalPage:105},{id:"70785139",name:"景碩",totalPage:105},{id:"16633261",name:"原相",totalPage:56},{id:"70751779",name:"欣銓",totalPage:113},{id:"16741846",name:"精材",totalPage:117},{id:"12858252",name:"京鼎",totalPage:100},{id:"16299879",name:"創意",totalPage:90},{id:"70784292",name:"力旺",totalPage:49},{id:"89406518",name:"台勝科",totalPage:103},{id:"28069900",name:"敦泰",totalPage:91},{id:"89672698",name:"德微",totalPage:88},{id:"16406379",name:"家登",totalPage:130},{id:"29187308",name:"日月光投控",totalPage:176},{id:"28112646",name:"新唐",totalPage:103},{id:"80741441",name:"凌通",totalPage:55},{id:"84149499",name:"天鈺",totalPage:94},{id:"28422591",name:"譜瑞-KY",totalPage:86},{id:"80661880",name:"立積",totalPage:57},{id:"80688184",name:"祥碩",totalPage:68},{id:"27490748",name:"信驊",totalPage:83},{id:"12636560",name:"界霖",totalPage:55},{id:"28935446",name:"杰力",totalPage:88},{id:"84149358",name:"世界",totalPage:197},{id:"97063584",name:"松翰",totalPage:103},{id:"47238650",name:"中美晶",totalPage:99},{id:"16130009",name:"頎邦",totalPage:102},{id:"16138282",name:"合晶",totalPage:123},{id:"16130330",name:"盛群",totalPage:97},{id:"03522600",name:"遠東新",totalPage:157},{id:"07435515",name:"新纖",totalPage:124},{id:"07220710",name:"宏洲",totalPage:103},{id:"14001199",name:"福懋",totalPage:140},{id:"68919301",name:"南紡",totalPage:106},{id:"07663290",name:"力麗",totalPage:78},{id:"33955322",name:"力鵬",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:96},{id:"22817999",name:"宏遠",totalPage:157},{id:"22976047",name:"聚隆",totalPage:64},{id:"69559487",name:"南緯",totalPage:52},{id:"68919702",name:"台南",totalPage:93},{id:"35884479",name:"儒鴻",totalPage:121},{id:"23609668",name:"聚陽",totalPage:71},{id:"88121697",name:"東盟開發",totalPage:82},{id:"49744324",name:"如興",totalPage:48},{id:"86124493",name:"元勝",totalPage:66},{id:"23531297",name:"雙邦",totalPage:68},{id:"33085508",name:"正隆",totalPage:132},{id:"94025264",name:"華紙",totalPage:64},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:144},{id:"22327037",name:"永豐實",totalPage:41},{id:"11384405",name:"東鹼",totalPage:41},{id:"04312878",name:"和益",totalPage:90},{id:"14057995",name:"東聯",totalPage:137},{id:"15458455",name:"永光",totalPage:108},{id:"51911712",name:"興農",totalPage:88},{id:"03375001",name:"國化",totalPage:82},{id:"12526607",name:"和桐",totalPage:54},{id:"75339004",name:"長興",totalPage:118},{id:"07066907",name:"中纖",totalPage:91},{id:"55738290",name:"三晃",totalPage:68},{id:"03795101",name:"台肥",totalPage:140},{id:"23221384",name:"中碳",totalPage:128},{id:"12132033",name:"元禎",totalPage:73},{id:"75137605",name:"永記",totalPage:116},{id:"03558206",name:"中華化",totalPage:90},{id:"07708830",name:"花仙子",totalPage:94},{id:"34245356",name:"毛寶",totalPage:64},{id:"23263551",name:"日勝化",totalPage:85},{id:"22625269",name:"台蠟",totalPage:49},{id:"75970680",name:"勝一",totalPage:76},{id:"47061800",name:"展宇",totalPage:86},{id:"11051504",name:"大恭",totalPage:64},{id:"05712099",name:"磐亞",totalPage:89},{id:"35108702",name:"永純",totalPage:121},{id:"86123874",name:"永捷",totalPage:91},{id:"85004174",name:"大立",totalPage:90},{id:"04465521",name:"德淵",totalPage:105},{id:"86688957",name:"美琪瑪",totalPage:98},{id:"75975242",name:"國精化",totalPage:54},{id:"16082267",name:"力成",totalPage:180},{id:"23218022",name:"矽格",totalPage:66},{id:"04226986",name:"同欣電",totalPage:69},{id:"28113286",name:"環球晶",totalPage:98},{id:"27879121",name:"精測",totalPage:114},{id:"53503847",name:"愛普＊",totalPage:80},{id:"70849957",name:"長科＊",totalPage:62},{id:"53016234",name:"虹揚-KY",totalPage:29},{id:"28398895",name:"雍智科技",totalPage:70},{id:"53172585",name:"安格",totalPage:51},{id:"25079572",name:"昇佳電子",totalPage:61},{id:"28112667",name:"力積電",totalPage:197},{id:"80601119",name:"采鈺",totalPage:152},{id:"86735240",name:"矽創",totalPage:71},{id:"22101116",name:"華東",totalPage:73},{id:"23826736",name:"福懋科",totalPage:96},{id:"16130042",name:"南茂",totalPage:129},{id:"97444368",name:"宇瞻",totalPage:116},{id:"12649951",name:"群聯",totalPage:55},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:117},{id:"80627878",name:"泓瀚",totalPage:63},{id:"16446422",name:"國碳科",totalPage:4},{id:"42328858",name:"材料-KY",totalPage:90},{id:"84754072",name:"雙鍵",totalPage:83},{id:"74229304",name:"南寶",totalPage:56},{id:"88744414",name:"誠泰科技",totalPage:82},{id:"36075449",name:"上品",totalPage:80},{id:"04243562",name:"聚和",totalPage:69},{id:"03707901",name:"中油",totalPage:182},{id:"86757124",name:"康普",totalPage:117},{id:"80170651",name:"三福化",year:2021,totalPage:107}]},{year:2022,reports:[{id:"11913502",name:"台泥",totalPage:143},{id:"03244509",name:"亞泥",totalPage:148},{id:"11892801",name:"嘉泥",totalPage:78},{id:"07568009",name:"環泥",totalPage:86},{id:"40601248",name:"幸福",totalPage:74},{id:"83078600",name:"東泥",totalPage:71},{id:"75708007",name:"台塑",totalPage:177},{id:"75370905",name:"南亞",totalPage:167},{id:"11917107",name:"台聚",totalPage:155},{id:"11686106",name:"華夏",totalPage:166},{id:"83387850",name:"三芳",totalPage:82},{id:"20747385",name:"亞聚",totalPage:129},{id:"11893409",name:"台達化",totalPage:131},{id:"20844865",name:"台苯",totalPage:67},{id:"04212250",name:"國喬",totalPage:106},{id:"04748660",name:"聯成",totalPage:109},{id:"03084741",name:"中石化",totalPage:152},{id:"15024509",name:"大洋",totalPage:123},{id:"58650902",name:"台化",totalPage:150},{id:"30414175",name:"中鋼",totalPage:156},{id:"75280209",name:"東和鋼鐵",totalPage:137},{id:"75992214",name:"燁興",totalPage:117},{id:"75466009",name:"高興昌",totalPage:87},{id:"82001528",name:"第一銅",totalPage:93},{id:"11529802",name:"春源",totalPage:80},{id:"88187108",name:"春雨",totalPage:131},{id:"85800192",name:"中鋼構",totalPage:107},{id:"07838854",name:"中鴻",totalPage:121},{id:"55389357",name:"豐興",totalPage:104},{id:"72065240",name:"官田鋼",totalPage:58},{id:"79841479",name:"聚亨",totalPage:125},{id:"75947936",name:"燁輝",totalPage:75},{id:"22318348",name:"大成鋼",totalPage:64},{id:"69771636",name:"威致",totalPage:81},{id:"79837539",name:"盛餘",totalPage:102},{id:"60330130",name:"彰源",totalPage:79},{id:"35836625",name:"新光鋼",totalPage:119},{id:"59068700",name:"允強",totalPage:84},{id:"75460005",name:"唐榮公司",totalPage:175},{id:"69651695",name:"世紀風電",totalPage:85},{id:"81188829",name:"長榮鋼",totalPage:133},{id:"84252697",name:"榮剛",totalPage:109},{id:"84703335",name:"強新",totalPage:101},{id:"38432767",name:"沛波",totalPage:52},{id:"69916350",name:"恒耀國際",totalPage:106},{id:"28754606",name:"大國鋼",totalPage:50},{id:"22649001",name:"世紀鋼",totalPage:76},{id:"47217677",name:"聯電",totalPage:200},{id:"89004161",name:"華泰",totalPage:121},{id:"22099131",name:"台積電",totalPage:236},{id:"22099548",name:"旺宏",totalPage:120},{id:"22099218",name:"華邦電",totalPage:122},{id:"22099202",name:"矽統",totalPage:56},{id:"55625676",name:"菱生",totalPage:80},{id:"22671299",name:"瑞昱",totalPage:103},{id:"23821182",name:"凌陽",totalPage:82},{id:"89390656",name:"南亞科",totalPage:183},{id:"05126366",name:"超豐",totalPage:127},{id:"22507241",name:"京元電子",totalPage:129},{id:"23446187",name:"創見",totalPage:105},{id:"84149961",name:"聯發科",totalPage:81},{id:"84149224",name:"義隆",totalPage:113},{id:"16130280",name:"晶豪科",totalPage:92},{id:"16130388",name:"嘉晶",totalPage:164},{id:"84149955",name:"聯詠",totalPage:165},{id:"84149060",name:"智原",totalPage:117},{id:"84149759",name:"聯傑",totalPage:80},{id:"70752257",name:"穩懋",totalPage:118},{id:"70785139",name:"景碩",totalPage:154},{id:"16633261",name:"原相",totalPage:74},{id:"70751779",name:"欣銓",totalPage:130},{id:"16741846",name:"精材",totalPage:125},{id:"12858252",name:"京鼎",totalPage:1},{id:"16299879",name:"創意",totalPage:118},{id:"70784292",name:"力旺",totalPage:73},{id:"89406518",name:"台勝科",totalPage:98},{id:"28069900",name:"敦泰",totalPage:66},{id:"80532726",name:"瑞鼎",totalPage:120},{id:"54389725",name:"漢磊",totalPage:163},{id:"29187308",name:"日月光投控",totalPage:210},{id:"28112646",name:"新唐",totalPage:126},{id:"84149499",name:"天鈺",totalPage:120},{id:"28422591",name:"譜瑞-KY",totalPage:49},{id:"80661880",name:"立積",totalPage:75},{id:"27490748",name:"信驊",totalPage:107},{id:"12636560",name:"界霖",totalPage:55},{id:"84149358",name:"世界",totalPage:236},{id:"22099694",name:"鈺創",totalPage:53},{id:"97063584",name:"松翰",totalPage:91},{id:"47238650",name:"中美晶",totalPage:109},{id:"16130009",name:"頎邦",totalPage:114},{id:"16138282",name:"合晶",totalPage:150},{id:"03522600",name:"遠東新",totalPage:170},{id:"07435515",name:"新纖",totalPage:122},{id:"07220710",name:"宏洲",totalPage:100},{id:"14001199",name:"福懋",totalPage:54},{id:"68919301",name:"南紡",totalPage:109},{id:"07663290",name:"力麗",totalPage:82},{id:"33955322",name:"力鵬",totalPage:80},{id:"22266307",name:"年興",totalPage:83},{id:"43295237",name:"集盛",totalPage:68},{id:"07669338",name:"宜進",totalPage:107},{id:"33653494",name:"聯發",totalPage:61},{id:"22817999",name:"宏遠",totalPage:158},{id:"73686632",name:"得力",totalPage:94},{id:"22976047",name:"聚隆",totalPage:65},{id:"35884479",name:"儒鴻",totalPage:76},{id:"88121697",name:"東盟開發",totalPage:91},{id:"49744324",name:"如興",totalPage:49},{id:"23531297",name:"雙邦",totalPage:85},{id:"11038101",name:"士紙",totalPage:79},{id:"33085508",name:"正隆",totalPage:135},{id:"94025264",name:"華紙",totalPage:67},{id:"85066002",name:"永豐餘",totalPage:74},{id:"34202841",name:"榮成",totalPage:147},{id:"22327037",name:"永豐實",totalPage:97},{id:"11384405",name:"東鹼",totalPage:39},{id:"14057995",name:"東聯",totalPage:146},{id:"15458455",name:"永光",totalPage:68},{id:"51911712",name:"興農",totalPage:60},{id:"03375001",name:"國化",totalPage:86},{id:"75339004",name:"長興",totalPage:120},{id:"23221384",name:"中碳",totalPage:124},{id:"03558206",name:"中華化",totalPage:60},{id:"34245356",name:"毛寶",totalPage:82},{id:"16297788",name:"奇鈦科",totalPage:96},{id:"86688957",name:"美琪瑪",totalPage:77},{id:"16130330",name:"盛群",totalPage:107},{id:"16082267",name:"力成",totalPage:156},{id:"23218022",name:"矽格",totalPage:111},{id:"28113286",name:"環球晶",totalPage:106},{id:"27879121",name:"精測",totalPage:98},{id:"13145774",name:"穎崴",totalPage:98},{id:"53503847",name:"愛普＊",totalPage:92},{id:"70849957",name:"長科＊",totalPage:81},{id:"53016234",name:"虹揚-KY",totalPage:30},{id:"28112667",name:"力積電",totalPage:195},{id:"80601119",name:"采鈺",totalPage:167},{id:"84149884",name:"昇陽半導體",totalPage:86},{id:"22101116",name:"華東",totalPage:74},{id:"23826736",name:"福懋科",totalPage:125},{id:"16130042",name:"南茂",totalPage:141},{id:"97444368",name:"宇瞻",totalPage:121},{id:"12649951",name:"群聯",totalPage:52},{id:"03707901",name:"中油",totalPage:225},{id:"35894259",name:"炎洲",totalPage:96},{id:"86522210",name:"台塑化",totalPage:142},{id:"80627878",name:"泓瀚",totalPage:76},{id:"80170651",name:"三福化",totalPage:99},{id:"53278617",name:"晶呈科技",totalPage:75},{id:"36075449",name:"上品",totalPage:92},{id:"04243562",name:"聚和",totalPage:86}]}],it={class:"onboardCrowd center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},st={key:0,class:"onboardCrowd__init"},lt=O("h1",{class:"mt0 f4 f3-ns"},"歡迎參與標記原型工具測試！",-1),ut=O("p",null,[Z("接下來，我們將隨機挑選幾個 ESG 裡的重要欄位，例如碳排放、員工人數，請你協助從報告書中，找到答案。 另外，我們也會找一些其他人已經標記過的欄位，請你確認他們的標記是否正確。 這些欄位的難度不一，有些非常簡單，有些則需要費心判讀，所以如果發現找不到答案，請不要灰心，可以跳到下一題。"),O("strong",null,"在今天活動結束後，我們會計算所有人的積分，並且發放紀念品給前幾名的參與者。")],-1),ct=O("p",null,'由於測試需要閱讀 PDF，請盡量使用 12" 螢幕以上的裝置，才能順利操作標記工具。 如果你手邊的螢幕太小，也歡迎直接來找我們借用筆電。',-1),dt=O("p",null,"在填答結束後，會請你填寫使用心得的問卷，問卷的填答資料，會以 CC0 的方式授權公開，請記得不要填寫敏感資訊 🥹。 最後，除了問卷外，也歡迎隨時找我們聊聊，提供你的使用心得，或是對於工具的建議。",-1),ft=O("div",{class:"bb ph4 b--moon-gray mv4"},null,-1),pt={class:"db mb3",for:"userId"},gt=O("div",{class:"dark-gray f6 mb1"},"請輸入你的暱稱，作為統計積分計算使用",-1),_t=["disabled"],ht={key:1,class:"onboardCrowd__empty"},mt=O("h1",{class:"mt0 f4 f3-ns"},"所有題目都已經被標記完成！",-1),vt=O("p",null,"請期待本日的成果報告，或來找我們聊聊你的使用心得。",-1),bt=[mt,vt],yt={key:2,class:"onboardCrowd__ready"},Pt=O("h1",{class:"mt0 f4 f3-ns"},"抽籤完成！以下是想請你協助標記的題目：",-1),wt={key:0,class:"mv3"},xt=O("div",{class:"mb2 f4"},[Z("要"),O("strong",null,"標記"),Z("的報告書與欄位")],-1),Tt={class:"flex-none mr2 fw5"},Ot={class:"flex-auto b"},At={key:1,class:"mv4"},St=O("div",{class:"mb2 f4"},[Z("要"),O("strong",null,"驗證"),Z("的報告書與欄位")],-1),Et={class:"flex-none mr2 fw5"},kt={class:"flex-auto b"},jt=ie({__name:"OnboardUser",emits:["userId","tasks"],setup($,{emit:z}){const t=z,o=Me(),c=M(!0),a=M(!1),e=M(!1),n=M(""),r=M([]),i=M([]),l=J(()=>a.value?"機器人正在幫忙抽籤中... 🤖":"載入題庫"),s=J(()=>n.value.length>0);async function u(){a.value=!0;let h=[];try{h=await o.getPendingFields(n.value)}catch(v){alert(v)}await new Promise(v=>{setTimeout(v,300+Math.random()*2e3)});let p=[];try{p=await o.getPendingVerifications(n.value)}catch(v){alert(v)}const y=g(h),m=f(p);c.value=!1,!y.length&&!m.length?e.value=!0:(r.value=y,i.value=m),a.value=!1}const d=rt.flatMap(h=>h.fields.map(p=>({category:h.category,...p})));function f(h,p=6){const y=X.shuffle(h.slice(0,p*3)),v=X.uniq(y.map(P=>P.get("公司統編"))).reduce((P,b,x)=>(P[b]=x,P),{});return y.sort((P,b)=>v[P.get("公司統編")]-v[b.get("公司統編")]),y.slice(0,p).map(P=>{const b=ge[0].reports.find(T=>T.id===P.get("公司統編")),x=d.find(T=>T.label===P.get("欄位標籤"));return{company:b,year:P.get("報告書年份"),data:P,...x}})}function g(h,p=2){const y=X.shuffle(X.uniq(h.map(k=>k.get("公司統編")))),m=ge[0].year,v=ge[0].reports.map(k=>k.id),w=X.shuffle(X.difference(v,y)),b=(w.length?w:y)[0],x=h.filter(k=>k.get("公司統編")===b).map(k=>k.get("欄位標籤")),T=X.shuffle(X.difference(d,x)),E=ge[0].reports.find(k=>k.id===b);return T.slice(0,p).map(k=>({company:E,year:m,...k}))}function _(){t("userId",n.value),t("tasks",{submissions:r.value,verifications:i.value})}return(h,p)=>(F(),V("div",it,[j(c)?(F(),V("div",st,[lt,ut,ct,dt,ft,O("form",{onSubmit:he(u,["prevent"])},[O("label",pt,[gt,oe(O("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>Oe(n)?n.value=y:null),type:"text"},null,512),[[le,j(n),void 0,{trim:!0}]])]),O("button",{class:"pv2 ph4",type:"submit",disabled:!j(s)||j(a)},Y(j(l)),9,_t)],32)])):j(e)?(F(),V("div",ht,bt)):(F(),V("div",yt,[Pt,j(r).length?(F(),V("div",wt,[xt,(F(!0),V(re,null,ue(j(r),y=>(F(),V("div",{class:"flex items-center f6 gray",key:y.label},[O("div",Tt,Y(y.company.name),1),O("div",Ot,Y(y.category)+" | "+Y(y.label),1)]))),128))])):ce("",!0),j(i).length?(F(),V("div",At,[St,(F(!0),V(re,null,ue(j(i),y=>(F(),V("div",{class:"flex items-center f6 gray",key:y.label},[O("div",Et,Y(y.company.name),1),O("div",kt,Y(y.category)+" | "+Y(y.label),1)]))),128))])):ce("",!0),O("button",{class:"pv2 ph4",onClick:_},"開始標記與驗證")]))]))}}),$e=$=>(Re("data-v-b1753ff4"),$=$(),Ce(),$),It={key:0,class:"controlPanel"},Rt={class:"f6 mb1 gray"},Ct={class:"mt0 f4 1b"},Lt={key:0},Ft={class:"bt bb b--moon-gray mv3 pv2"},Mt={class:"fw5 mb1"},$t={class:"flex items-center mb2"},Nt={class:"fieldForm__value flex-auto mr3"},Dt=["readonly"],Ut={class:"fieldForm__unit flex-none"},Vt=["readonly"],Bt=["readonly"],Gt={class:"mt3"},Ht={key:0,class:"flex items-center justify-between"},Kt=["disabled"],zt={key:1,class:"flex items-center justify-end"},Yt=["onClick"],qt={class:"controlPanel__keywordSection mv3 pb2 bb"},Jt=$e(()=>O("div",{class:"fw5 mb1"},"相關關鍵字",-1)),Wt=$e(()=>O("div",{class:"f6 gray"},"點選以下關鍵字，或是自行輸入，就能列出相關頁面",-1)),Xt={class:"flex mt3"},Zt={class:"flex flex-wrap"},Qt=["onClick"],ea={class:"f6 gray mv1"},ta=["onClick"],aa={class:"flex-none dark-gray"},na=["innerHTML"],oa={class:"flex justify-between items-center"},ra={key:1},_e=15,ia=ie({__name:"ControlPanel",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},focusedPage:{type:Number,default:1},isSubmission:{type:Boolean,default:!0}},emits:["report","page","matched-pages","complete"],setup($,{emit:z}){const{submitField:t,verifyField:o,sendTrackUsage:c}=Me(),a=z,e=$,n=M(0),r=J(()=>e.fields[n.value]),i={value:"",unit:"",notes:""},l=M({...i}),s=J(()=>n.value<e.fields.length-1?e.fields[n.value+1]:e.fields[0]),u=J(()=>n.value>0?e.fields[n.value-1]:e.fields[e.fields.length-1]);function d(){n.value<e.fields.length-1?n.value+=1:n.value=0}function f(){n.value>0?n.value-=1:n.value=e.fields.length-1}const g=M([]);ae(g,S=>{S.length===e.fields.length&&a("complete")},{deep:!0});function _(){l.value={...i}}const h=J(()=>!!l.value.value),p=M(!1),y=["不正確","不確定","正確"];async function m(S){const L={userId:e.userId,submissionId:r.value.data.id,result:S},R=await o(L);g.value.push({field:r.value,atRow:R}),d()}function v(){g.value.push({field:r.value}),_(),d()}async function w(){if(!h.value)return;p.value=!0;const{value:S,unit:L,notes:R}=l.value,{year:W,company:se,category:fe,label:ve}=r.value,be={userId:e.userId,year:`${W}`,companyId:se.id,category:fe,field:ve,value:S,unit:L,notes:R,page:e.focusedPage};U.value&&(be.keyword=U.value);const Ne=await t(be);g.value.push({field:r.value,data:be,atRow:Ne}),D.value.answerPage=`${e.focusedPage}`,_(),d(),p.value=!1}function P(S){return S+(r.value.company.pageOffset||0)}const b=je(),T=qe(b.public.algoliaAppId,b.public.algoliaSearchApiKey).initIndex(b.public.algoliaIndexName),E=M(""),I=M(""),k=M([]),H=M(0),U=J(()=>I.value||E.value||"");ae([E,I],([S,L],[R,W])=>{S!==R&&S?I.value="":L!==W&&L&&(E.value="")});function C(S){E.value=S}ae(U,()=>{B()});async function B(){if(!U.value){k.value=[],N.value=null;return}const{hits:S}=await T.search(U.value,{facetFilters:[`company:${r.value.company.id}`,`year:${r.value.year}`],hitsPerPage:100});if(k.value=S,N.value=null,H.value){const L=S.find(R=>R.page===H.value);L?ee(L):a("page",{highlight:U.value,page:H.value}),H.value=0}}ae(k,S=>{const L=S.map(R=>R.page);a("matched-pages",L)});function G(S){S=S.replace(/\n/g,"");const L=`${U.value||""}`,R=S.indexOf(L),W=L.length+_e;if(R<0)return S.slice(0,W*2);const se=L.length;let fe=S.slice(0,R);const ve=`${S.slice(R+se,R+se+_e)}...`;if(R>_e)fe=`...${S.slice(R-_e,R)}`;else return S.slice(0,W*2)+"...";return`${X.escape(fe)}<b class="underline">${L}</b>${X.escape(ve)}`}const N=M(null);async function ee(S){N.value===S?a("page",{highlight:"",page:1}):N.value=S,await xe(),D.value.clickPages.push(S.page),a("page",{highlight:U.value,page:S.page})}function te(){k.value=[],E.value="",I.value=""}function Q(){const S=r.value.data;l.value={value:S.get("數值"),unit:S.get("單位"),notes:S.get("補充資訊")};const L=S.get("答案頁次"),R=S.get("答案關鍵字");R?r.value.keywords.includes(R)?E.value=R:I.value=R:te(),L&&(R?H.value=L:a("page",{highlight:"",page:L}))}Ie(()=>{r.value&&(a("report",{year:r.value.year,company:r.value.company}),e.isSubmission?te():Q())});function A(){return{searchKeyword:U.value,isPredefined:!0,clickPages:[],viewPages:[],answerPage:""}}const D=M(A());function K(){D.value=A()}const q=X.throttle(()=>{const{year:S,company:L,label:R}=r.value,W={userId:e.userId,year:`${S}`,companyId:L.id,field:R,isOnVerify:!e.isSubmission,...D.value};return c(W)},100);return ae(()=>e.focusedPage,S=>{!S||S===1||D.value.viewPages.push(S)}),ae(U,async S=>{q(),await K(),D.value.isPredefined=S!==I.value,D.value.searchKeyword=S}),(S,L)=>j(r)?(F(),V("div",It,[O("div",Rt,Y($.isSubmission?"標注欄位":"驗證欄位")+" "+Y(j(g).length)+" / "+Y(e.fields.length),1),O("h2",Ct,Y(j(r).year)+" 年 | "+Y(j(r).company.name)+" | "+Y(j(r).label),1),j(r).notes?(F(),V("p",Lt,Y(j(r).notes),1)):ce("",!0),O("div",Ft,[O("form",{class:"fieldForm mt3 mb4 pb2 bb b--moon-gray",onSubmit:he(w,["prevent"])},[O("div",Mt,Y($.isSubmission?"填寫判讀結果":"驗證欄位數值"),1),O("div",$t,[O("label",Nt,[Z("數值"),oe(O("input",{class:"fieldForm__input","onUpdate:modelValue":L[0]||(L[0]=R=>j(l).value=R),type:"text",placeholder:"數值",readonly:!$.isSubmission},null,8,Dt),[[le,j(l).value,void 0,{trim:!0}]])]),O("label",Ut,[Z("單位"),oe(O("input",{class:"fieldForm__input","onUpdate:modelValue":L[1]||(L[1]=R=>j(l).unit=R),type:"text",placeholder:"單位",readonly:!$.isSubmission},null,8,Vt),[[le,j(l).unit,void 0,{trim:!0}]])])]),O("label",null,[Z("備註"),oe(O("textarea",{class:"fieldForm__input","onUpdate:modelValue":L[2]||(L[2]=R=>j(l).notes=R),placeholder:"備註",readonly:!$.isSubmission},null,8,Bt),[[le,j(l).notes,void 0,{trim:!0}]])]),O("div",Gt,[$.isSubmission?(F(),V("div",Ht,[O("button",{class:"pa2 bg-white ba b--light-gray gray pointer",onClick:he(v,["stop","prevent"])},"找不到答案，放棄 🥺"),O("button",{class:"pv2 ph4 pointer",type:"submit",disabled:!j(h)||j(p)},"送出標注結果",8,Kt)])):(F(),V("div",zt,[(F(),V(re,null,ue(y,R=>O("button",{class:"pv1 ph3 pointer ml2",key:R,onClick:he(W=>m(R),["stop","prevent"])},"標為"+Y(R),9,Yt)),64))]))])],32),O("div",qt,[Jt,Wt,O("div",Xt,[O("div",Zt,[(F(!0),V(re,null,ue(j(r).keywords,R=>(F(),V("button",{class:Te(["controlPanel__keyword pointer",{"controlPanel__keyword--active":R===j(U)}]),key:R,onClick:W=>C(R)},Y(R),11,Qt))),128)),oe(O("input",{class:"mt1 f6 w-100 controlPanel__input","onUpdate:modelValue":L[3]||(L[3]=R=>Oe(I)?I.value=R:null),placeholder:"自訂關鍵字"},null,512),[[le,j(I),void 0,{trim:!0}]])])]),oe(O("div",ea,[(F(!0),V(re,null,ue(j(k),R=>(F(),V("div",{class:Te(["flex mv2 dim pointer",{b:R===j(N)}]),key:R.page,onClick:W=>ee(R)},[O("div",aa,"頁"+Y(P(R.page)),1),O("div",{class:"pl2",innerHTML:G(R.content)},null,8,na)],10,ta))),128))],512),[[De,j(k).length]])]),O("div",oa,[j(u)!==j(s)?(F(),V("button",{key:0,class:"controlPanel__cursor",onClick:f},"跳到 《 "+Y(j(u).label),1)):(F(),V("div",ra)),O("button",{class:"controlPanel__cursor",onClick:d},"跳到 "+Y(j(s).label)+" 》",1)])])])):ce("",!0)}}),sa=de(ia,[["__scopeId","data-v-b1753ff4"]]),me=$=>(Re("data-v-78ee70dc"),$=$(),Ce(),$),la={class:"reportViewer"},ua={class:"reportViewer__control pr2"},ca={class:"bb b--moon-gray flex items-center justify-between pv2"},da={class:"flex items-center pl3"},fa=me(()=>O("i",{class:"fa-solid fa-plus"},null,-1)),pa=me(()=>O("i",{class:"fa-solid fa-minus"},null,-1)),ga=me(()=>O("i",{class:"fa-solid fa-arrows-left-right"},null,-1)),_a=me(()=>O("i",{class:"fa-solid fa-arrows-up-down"},null,-1)),ha={key:0,class:"reportViewer__content w-100"},Pe="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.9.179",ma="https://gcaa-static.s3.ap-northeast-3.amazonaws.com/company-report-toolkit",we=10,va=100,ba=100,ya=2e3,Ee=.1,ke=100,Pa=ie({__name:"PdfViewer",props:{page:{default:1},year:{default:2019},report:{},highlight:{default:""},matchedPages:{default(){return[]}}},emits:["view-page","page"],setup($,{emit:z}){Xe({link:[{rel:"stylesheet",href:`${Pe}/web/pdf_viewer.css`}]});const t=z,o=$,c=M(!1),a=M(void 0),e=M([]),n=M(0),r=ye({}),i=M([null]),l=M(1),s=J({get(){const A=l.value+(o.report.pageOffset||0);return A<1?"-":A},set(A){const D=Number.parseInt(A,10)-(o.report.pageOffset||0);U(D)}}),u=M("fit-width"),d=M({pdfSize:{width:0,height:0},widthScale:0,heightScale:0,customScale:0}),f=J(()=>{if(!d.value.widthScale||!I.value)return null;let A=1;switch(u.value){case"custom":A=d.value.customScale;break;case"fit-height":A=d.value.heightScale;break;case"fit-width":default:A=d.value.widthScale}return A=A||1,{scale:A,width:d.value.pdfSize.width*A,height:d.value.pdfSize.height*A}});Ue(()=>{y()}),Ve(()=>{clearTimeout(a.value)});const g=J(()=>i.value[0]&&f.value),_=J(()=>`${ma}/${o.year}/${o.report.company.id}`),h=J(()=>o.highlight+"");function p(){return!!window&&!!window.pdfjsLib&&!!window.pdfjsViewer}function y(){a.value=setTimeout(async()=>{const A=p();A?(window.pdfjsLib.GlobalWorkerOptions.workerSrc=`${Pe}/build/pdf.worker.js`,await xe()):y(),c.value=A},va)}async function m(A){const D=window.pdfjsLib,K=`${Pe}/cmaps/`,q=A%we||we,S=x(A);r.value[S]||(r.value[S]=D.getDocument({url:`${_.value}/${S}.pdf`,cMapUrl:K,cMapPacked:!0,enableXfa:!0}));const L=await r.value[S].promise;return v(L),{document:L,page:q}}async function v(A){if(d.value.widthScale)return;const D=await A.getPage(1),{width:K,height:q}=D.getViewport({scale:1});d.value.pdfSize={width:K,height:q};const S=k.value,L=S.clientWidth,R=S.clientHeight,W=Number.parseInt(getComputedStyle(S).paddingLeft),se=L-W*2;d.value.widthScale=se/K,d.value.heightScale=R/q}const w=J(()=>{var A,D;return f.value?{width:`${(A=f.value)==null?void 0:A.width}px`,height:`${(D=f.value)==null?void 0:D.height}px`}:{}});async function P(){const A=await m(1);i.value[0]={pdf:ye(A)}}function b(){r.value={},i.value=Array(o.report.totalPages).fill(null),u.value="fit-width",d.value.widthScale=0}Ie(()=>{!_.value||!c.value||!I.value||(b(),P())});function x(A){return`${Math.ceil(A/we)}`.padStart(3,"0")}async function T(A,{forceLoad:D=!1,anchor:K=0}={}){if(!D&&e.value.length){e.value.includes(A)||e.value.unshift(A);return}const q=A-1;if(q>=i.value.length)throw new Error(`Invalid page number: ${A}`);if(D||(e.value.push(A),K&&(n.value=K)),!i.value[q]){const S=await m(A);i.value[q]={pdf:ye(S),highlight:o.matchedPages.includes(A)?h.value:""}}e.value.pop(),e.value.length?T(e.value[0],{forceLoad:!0}):setTimeout(()=>{n.value=0},ke)}const E=X.debounce(A=>{T(A)},100),I=Ze(),k=M(null);function H(A){const K=k.value.querySelectorAll(".reportViewer__page")[A-1];return K==null?void 0:K.offsetTop}function U(A){A<1||A>o.report.totalPages||Number.isNaN(A)||(C(A),t("page",A))}async function C(A){const D=H(A),K=T(A,{anchor:D});A>1&&T(A-1),A<o.report.totalPages&&T(A+1),D&&k.value.scrollTo({top:D}),await K,l.value=A}ae(()=>o.page,async()=>{await C(o.page)});function B(){var A;d.value.customScale=(((A=f.value)==null?void 0:A.scale)||1)*(1+Ee),u.value="custom"}function G(){var A;d.value.customScale=(((A=f.value)==null?void 0:A.scale)||1)*(1-Ee),u.value="custom"}function N(){u.value="fit-width"}function ee(){u.value="fit-height"}ae(f,async(A,D)=>{if(!A||!D||!k.value)return;const K=k.value,q=K.clientHeight/2,S=(K.scrollTop+q)/K.scrollHeight;await xe();const L=K.scrollHeight*S-q;n.value=L,setTimeout(()=>{n.value=0},ke)});const te=X.debounce(A=>{l.value=A,Q()},ba),Q=X.debounce(()=>{t("view-page",l.value)},ya);return(A,D)=>{const K=Je,q=We;return F(),V("div",la,[O("div",ua,[O("div",ca,[O("div",da,[oe(O("input",{class:"reportViewer__pageInput b--moon-gray ba ph1 mr1","onUpdate:modelValue":D[0]||(D[0]=S=>Oe(s)?s.value=S:null),onKeyup:D[1]||(D[1]=Be(S=>S.target.blur(),["enter"]))},null,544),[[le,j(s),void 0,{lazy:!0}]]),Z("頁 / 共 "+Y(A.report.totalPages)+" 頁",1)]),O("div",{class:"flex items-center"},[O("button",{class:"reportViewer__button",onClick:B},[fa,Z("放大")]),O("button",{class:"reportViewer__button",onClick:G},[pa,Z("縮小")]),O("button",{class:"reportViewer__button",onClick:N},[ga,Z("滿頁寬")]),O("button",{class:"reportViewer__button",onClick:ee},[_a,Z("滿頁高")])])])]),O("div",{class:"reportViewer__scrollContainer relative",ref_key:"scrollerEle",ref:k},[j(g)?(F(),V("div",ha,[(F(!0),V(re,null,ue(j(i),(S,L)=>(F(),V(re,{key:L},[S?(F(),ne(q,He({key:1,class:"reportViewer__page"},S.pdf,{class:[`thePage--${L+1}`],highlight:S.highlight,"page-anchor":j(n),scale:j(f).scale,onVisible:R=>j(te)(L+1)}),null,16,["class","highlight","page-anchor","scale","onVisible"])):(F(),ne(K,{key:0,class:Te(["reportViewer__page",[`theEmpty--${L+1}`]]),style:Ge(j(w)),"page-number":L+1,onVisible:R=>j(E)(L+1)},null,8,["style","class","page-number","onVisible"]))],64))),128))])):ce("",!0)],512)])}}}),wa=de(Pa,[["__scopeId","data-v-78ee70dc"]]),xa={class:"crowdEditor"},Ta={class:"br b--moon-gray"},Oa={class:"crowdEditor__control pv3 ph2"},Aa={class:"main__reader"},Sa=ie({__name:"FieldEditor",props:{userId:{type:String,required:!0},fields:{type:Array,required:!0},isSubmission:{type:Boolean,default:!0}},emits:["complete"],setup($,{emit:z}){const t=z,o=M(null),c=M(null),a=M([]),e=M(0);function n(u){e.value=u}function r(){t("complete")}function i(u){o.value=u,c.value={page:1,highlight:""}}function l(u){c.value=u}function s(u){a.value=u}return(u,d)=>{const f=sa,g=wa;return F(),V("div",xa,[O("div",Ta,[O("div",Oa,[Le(f,{"user-id":$.userId,fields:$.fields,"focused-page":j(e),"is-submission":$.isSubmission,onReport:i,onPage:l,onMatchedPages:s,onComplete:r},null,8,["user-id","fields","focused-page","is-submission"])])]),O("div",Aa,[j(o)&&j(c)?(F(),ne(g,{key:0,year:j(o).year,company:j(o).company,page:j(c).page,highlight:j(c).highlight,"matched-pages":j(a),onViewPage:n},null,8,["year","company","page","highlight","matched-pages"])):ce("",!0)])])}}}),Ea=de(Sa,[["__scopeId","data-v-06fa7a64"]]),ka={class:"gotoVerify center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},ja=O("h1",{class:"mt0 f4 f3-ns"},"完成一半了！",-1),Ia=O("p",null,"所有的標記任務都已完成，接下來，就輪到幫忙驗證其他人標注的資料囉～",-1),Ra=ie({__name:"GotoVerify",emits:["continue"],setup($,{emit:z}){const t=z;function o(){t("continue")}return(c,a)=>(F(),V("div",ka,[ja,Ia,O("div",{class:"flex items-center mt4"},[O("button",{class:"thankYou__button br2 pv2 ph3 pointer ba b--dark-green bg-dark-green white mr3",onClick:o},"我準備好了，開始驗證資料")])]))}}),Ca={class:"thankYou center mw7 pa4 mt5 br2 ba b--moon-gray lh-copy"},La=ze('<h1 class="mt0 f4 f3-ns" data-v-276f04be>感謝參與標記原型工具測試！</h1><p data-v-276f04be>所有任務都已經完成。在離開前，請填寫一份問卷，讓我們了解你的使用心得。</p><p data-v-276f04be>如果想要多參與一些測試，也歡迎點下「再來一輪」，我們會重新抽籤。記得使用同樣的暱稱，才能累計積分呦 🤓</p><p data-v-276f04be>如果對這個專案有更多想法，除了找我們聊聊之外，也歡迎：</p><ul data-v-276f04be><li data-v-276f04be>讀讀<a href="https://g0v.hackmd.io/@ddio-io/open-csr-report" target="_blank" rel="noopener" data-v-276f04be>專案共筆</a></li><li data-v-276f04be>翻翻<a href="https://github.com/gcaa-org-tw/company-report-toolkit/" target="_blank" rel="noopener" data-v-276f04be>Github 上的程式碼</a></li><li data-v-276f04be>查看<a href="https://airtable.com/appsREnwMpxAZmaRv/shrhubstEzdWYZWfh" target="_blank" rel="noopener" data-v-276f04be>標注狀況與問卷結果</a></li></ul>',5),Fa={class:"flex items-center mv4"},Ma=ie({__name:"SayThanks",props:{userId:{type:String,required:!0}},emits:["start-over"],setup($,{emit:z}){const t=z,o=$,c=J(()=>"https://airtable.com/appsREnwMpxAZmaRv/shrjkPKD0t0J5hxP2?prefill_%E4%BD%BF%E7%94%A8%E8%80%85%E6%9A%B1%E7%A8%B1="+encodeURIComponent(o.userId));function a(){t("start-over")}return(e,n)=>{const r=Qe;return F(),V("div",Ca,[La,O("div",Fa,[O("button",{class:"thankYou__button pointer bg-green white mr3",onClick:a},"再來一輪"),Le(r,{class:"thankYou__button bg-dark-green white no-underline",to:j(c),target:"_blank",rel:"noopener"},{default:Ke(()=>[Z("填寫問卷")]),_:1},8,["to"])])])}}}),$a=de(Ma,[["__scopeId","data-v-276f04be"]]),Na={class:"crowdLanding"},Da=ie({__name:"index",setup($){const z=M(""),t=M([]),o=M(!1),c=M(!1),a=M([]),e=M(!1);function n({submissions:l,verifications:s}){t.value=l,a.value=s,l.length||(o.value=!0,c.value=!0),s.length||(c.value=!0,e.value=!0)}const r=J(()=>z.value&&(t.value.length||o.value));function i(){z.value="",t.value=[],o.value=!1,a.value=[],e.value=!1,c.value=!1}return(l,s)=>{const u=jt,d=Ea,f=Ra,g=$a;return F(),V("div",Na,[j(r)?j(o)?j(c)?j(e)?(F(),ne(g,{key:4,"user-id":j(z),onStartOver:i},null,8,["user-id"])):(F(),ne(d,{key:3,"user-id":j(z),fields:j(a),"is-submission":!1,onComplete:s[3]||(s[3]=_=>e.value=!0)},null,8,["user-id","fields"])):(F(),ne(f,{key:2,onContinue:s[2]||(s[2]=_=>c.value=!0)})):(F(),ne(d,{key:1,"user-id":j(z),fields:j(t),onComplete:s[1]||(s[1]=_=>o.value=!0)},null,8,["user-id","fields"])):(F(),ne(u,{key:0,onUserId:s[0]||(s[0]=_=>z.value=_),onTasks:n}))])}}}),za=de(Da,[["__scopeId","data-v-156e1ccb"]]);export{za as default};
