import{i as M,n as y,t as A,b as I,d as W}from"./lodash._aBxhOrV.js";import{r as a,Q as D,k as L,y as S,g as O}from"./entry.1irgQoWJ.js";function b(e){var t;const n=A(e);return(t=n==null?void 0:n.$el)!=null?t:n}const h=M?window:void 0,x=M?window.document:void 0;function w(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=h):[t,n,r,i]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const f=[],v=()=>{f.forEach(s=>s()),f.length=0},p=(s,o,l,u)=>(s.addEventListener(o,l,u),()=>s.removeEventListener(o,l,u)),d=S(()=>[b(t),A(i)],([s,o])=>{v(),s&&f.push(...n.flatMap(l=>r.map(u=>p(s,l,u,o))))},{immediate:!0,flush:"post"}),m=()=>{d(),v()};return I(m),m}function C(){const e=a(!1);return D()&&L(()=>{e.value=!0}),e}function F(e){const t=C();return O(()=>(t.value,!!e()))}function N({document:e=x}={}){if(!e)return a("visible");const t=a(e.visibilityState);return w(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}function _(e,t,n={}){const{root:r,rootMargin:i="0px",threshold:f=.1,window:v=h,immediate:p=!0}=n,d=F(()=>v&&"IntersectionObserver"in v),m=O(()=>{const c=A(e);return(Array.isArray(c)?c:[c]).map(b).filter(W)});let s=y;const o=a(p),l=d.value?S(()=>[m.value,b(r),o.value],([c,V])=>{if(s(),!o.value||!c.length)return;const g=new IntersectionObserver(t,{root:b(V),rootMargin:i,threshold:f});c.forEach(E=>E&&g.observe(E)),s=()=>{g.disconnect(),s=y}},{immediate:p,flush:"post"}):y,u=()=>{s(),l(),o.value=!1};return I(u),{isSupported:d,isActive:o,pause(){s(),o.value=!1},resume(){o.value=!0},stop:u}}function Q(e,{window:t=h,scrollTarget:n}={}){const r=a(!1);return _(e,([{isIntersecting:i}])=>{r.value=i},{root:n,window:t}),r}function $({window:e=h}={}){if(!e)return a(!1);const t=a(e.document.hasFocus());return w(e,"blur",()=>{t.value=!1}),w(e,"focus",()=>{t.value=!0}),t}export{Q as a,N as b,$ as c,C as u};
