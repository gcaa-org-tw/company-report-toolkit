import{_ as y}from"./FieldProgress.53dc7e0f.js";import{g as u,o,c,a as s,t as d,b as p,r as h,i as v,B as b,F as g,y as x,j as C,E as $,w as S}from"./entry.d3bd137e.js";import{_ as k}from"./nuxt-link.25688cdb.js";import{u as w}from"./useProfessionApi.f7c1acb0.js";import{m as B}from"./industryStats.5556f7dc.js";import"./_commonjsHelpers.6d090dba.js";const L={class:"industryCard br2 ba b--moon-gray pa3 flex flex-column items-center justify-center"},j={class:"industryCard__title f4 fw6 tc mb3"},E={class:"industryCard__total f2 tc mb3"},R=u({__name:"IndustryCard",props:{industryStats:{}},setup(l){return(t,r)=>{const a=y;return o(),c("div",L,[s("div",j,d(t.industryStats.name),1),s("div",E,d(t.industryStats.total)+" 本",1),p(a,{progress:t.industryStats},null,8,["progress"])])}}});const F={class:"profession pa4 lh-copy"},I=s("div",{class:"profession__header mb5 pb3 bb b--moon-gray tc"},[s("h1",{class:"f2 fw6"},"企業永續報告書列表"),s("p",{class:"f4"},"快速查找近兩年產業報告書，個別報告書驗證進度")],-1),N={class:"profession__industryList justify-center"},P=u({__name:"index",setup(l){const{feathers:t}=w(),r=h([]),a=v(()=>{const e={};return r.value.forEach(n=>{B(e,n)}),Object.values(e).sort((n,i)=>i.total-n.total)});function m(){t.app.service("report").find({query:{$limit:500}}).then(e=>{r.value=e.data})}return b(()=>{t.isReady.value&&m()}),(e,n)=>{const i=R,f=k;return o(),c("div",F,[I,s("div",N,[(o(!0),c(g,null,x(C(a),_=>(o(),$(f,{class:"no-underline dim",key:_.name,to:`/profession/industry/${_.name}`},{default:S(()=>[p(i,{"industry-stats":_},null,8,["industry-stats"])]),_:2},1032,["to"]))),128))])])}}});export{P as default};
