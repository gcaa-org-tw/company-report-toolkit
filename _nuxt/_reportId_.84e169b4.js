import{_ as L}from"./FieldProgress.5eb529a9.js";import{_ as j}from"./nuxt-link.612ffc33.js";import{f as B,g as R,r as S,h,i as t,o,c as a,a as r,t as n,b as V,F as d,y as b,d as p,j as y,C as Y,I as A,w as E,p as H,e as M,_ as P}from"./entry.c1edeb24.js";import{u as $}from"./useReport.db21968c.js";import{d as q}from"./dayjs.min.d2bfbe1c.js";import"./useProfessionApi.4fd68f79.js";import"./_commonjsHelpers.2b4fefc4.js";const z=c=>(H("data-v-e729c9b7"),c=c(),M(),c),O={key:0,class:"report pa4 lh-copy"},G={class:"pb4"},J={class:"tc f2 fw6 mb2"},K={class:"tc f3 mv2"},Q={class:"w5 center"},U={class:"bb bt b--moon-gray flex items-center justify-center pa4 mb4"},W=["onClick"],X={class:"pa4"},Z={key:0,class:"mv5 f4 fw5 tc"},T={class:"fw5 mb1"},ee={class:"f6 gray truncate"},te={key:0,class:"report__value"},se={key:1,class:"report__value"},oe={key:2,class:"mt2 gray truncate"},re={class:"nowrap self-center"},ae=z(()=>r("i",{class:"fa-solid fa-arrow-right self-center"},null,-1));var g=(c=>(c.all="所有欄位",c.pending="待判讀",c.isAnswered="判讀完成",c))(g||{});const ne=B({__name:"[reportId]",setup(c){const k=R(),i=S("待判讀");function I(s){i.value=s}const w=h(()=>Number.parseInt(k.params.reportId)),{report:_,reportFieldList:u,isDataReady:x,meta:m}=$(w.value);function v(s){return!s.value&&!s.notes}const f=h(()=>{if(i.value==="所有欄位")return u.value;let s=v;return i.value==="判讀完成"&&(s=l=>!v(l)),u.value.filter(s)});function F(s){return q(s).format("YYYY-MM-DD HH:mm")}function C(s,l){return{name:"profession-editor-reportId",params:{reportId:s.id},query:{fieldId:l.id}}}return(s,l)=>{const N=L,D=j;return t(x)?(o(),a("div",O,[r("div",G,[r("h1",J,n(t(_).company.industry)+" | "+n(t(_).company.name),1),r("p",K," 已判讀 "+n(t(_).answeredFields)+" / "+n(t(_).totalFields)+" 欄 ",1),r("div",Q,[V(N,{progress:t(_),"is-industry":!1},null,8,["progress"])])]),r("div",U,[(o(!0),a(d,null,b(Object.values(g),e=>(o(),a("button",{key:e,class:Y(["report__filter bg-white pv2 ph3 ba b--light-gray br2 dim pointer",{"bg-green":t(i)===e}]),onClick:ce=>I(e)},n(e),11,W))),128))]),r("div",X,[t(f).length?(o(!0),a(d,{key:1},b(t(f),e=>(o(),A(D,{key:e.id,to:C(t(_),e),class:"report__field pv3 ph2 bb b--moon-gray no-underline black dim"},{default:E(()=>[r("div",null,[r("div",T,n(t(m)(e).name),1),r("div",ee,n(t(m)(e).description),1)]),r("div",null,[e.value!==null?(o(),a("div",te,n(e.value)+" "+n(e.unit),1)):(o(),a("div",se," - ")),e.notes?(o(),a("div",oe,n(e.notes),1)):y("",!0)]),r("div",re,n(F(e.updatedAt)),1),ae]),_:2},1032,["to"]))),128)):(o(),a("div",Z,[t(i)==="待判讀"?(o(),a(d,{key:0},[p(" 所有欄位都判讀完畢 🧙🧙🧙 ")],64)):t(i)==="判讀完成"?(o(),a(d,{key:1},[p(" 你是跳坑這本的勇者嗎？請點上面的「待判讀」，挑個喜歡的欄位開始吧 🐈 ")],64)):(o(),a(d,{key:2},[p(" 此分類無資料 ")],64))]))])])):y("",!0)}}});const ve=P(ne,[["__scopeId","data-v-e729c9b7"]]);export{ve as default};
