import{u as v}from"./useProfessionApi.f3e6eba6.js";import{r as i,B as m}from"./entry.d3d875b4.js";function w(s){const{feathers:t}=v(),n=i(),o=i({}),d=i([]),l=i(!1);async function f(){n.value=await t.app.service("report").get(s)}async function c(){const{data:e}=await t.app.service("report-field").find({query:{reportId:s,$sort:{fieldId:1},$limit:100}});d.value=e}async function u(){const{data:e}=await t.app.service("field-meta").find({query:{$limit:100}});o.value=e.reduce((a,r)=>(a[r.id]=r,a),{})}function p(e){const a=e.fieldId;return o.value[a]||void 0}return m(async()=>{t.isReady.value&&(await Promise.all([f(),c(),u()]),l.value=!0)}),{report:n,reportFieldList:d,fieldMetaMap:o,isDataReady:l,meta:p}}export{w as u};
