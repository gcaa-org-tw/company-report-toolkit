import{_ as y}from"./FieldProgress.Qo3NEkLf.js";import{f as d,o as r,c as _,a as s,t as p,b as u,r as h,g as b,A as v,F as g,x,h as C,H as S,w as $}from"./entry.RWTigU-R.js";import{_ as k}from"./nuxt-link.FIwMBYHw.js";import{u as w}from"./useProfessionApi.5KDxtYtk.js";import{m as L}from"./industryStats.nxyUZMo3.js";import"./lodash.6kCWRynI.js";const B={class:"industryCard br2 ba b--moon-gray pa3 flex flex-column items-center justify-center"},j={class:"industryCard__title f4 fw6 tc mb3"},E={class:"industryCard__total f2 tc mb3"},R=d({__name:"IndustryCard",props:{industryStats:{}},setup(l){return(t,n)=>{const a=y;return r(),_("div",B,[s("div",j,p(t.industryStats.name),1),s("div",E,p(t.industryStats.total)+" 本",1),u(a,{progress:t.industryStats},null,8,["progress"])])}}}),A={class:"profession pa4 lh-copy"},F=s("div",{class:"profession__header mb5 pb3 bb b--moon-gray tc"},[s("h1",{class:"f2 fw6"},"企業永續報告書列表"),s("p",{class:"f4"},"快速查找近兩年產業報告書，個別報告書驗證進度")],-1),N={class:"profession__industryList justify-center"},O=d({__name:"index",setup(l){const{feathers:t}=w(),n=h([]),a=b(()=>{const e={};return n.value.forEach(o=>{L(e,o)}),Object.values(e).sort((o,i)=>i.total-o.total)});function f(){t.app.service("report").find({query:{$limit:500}}).then(e=>{n.value=e.data})}return v(()=>{t.isReady.value&&f()}),(e,o)=>{const i=R,m=k;return r(),_("div",A,[F,s("div",N,[(r(!0),_(g,null,x(C(a),c=>(r(),S(m,{class:"no-underline dim",key:c.name,to:`/profession/industry/${c.name}`},{default:$(()=>[u(i,{"industry-stats":c},null,8,["industry-stats"])]),_:2},1032,["to"]))),128))])])}}});export{O as default};
