import{_ as b}from"./nuxt-link.5c576d16.js";import{_ as Y}from"./FieldProgress.a37a62db.js";import{f as P,g as A,r as E,h as p,i as t,o as r,c as n,a as s,b as h,w as g,d,t as a,F as l,y as k,j as I,C as H,I as M,p as q,e as z,_ as O}from"./entry.bc878567.js";import{u as $}from"./useReport.d58cd207.js";import{d as G}from"./dayjs.min.3fe911e8.js";import"./useProfessionApi.72770dfa.js";import"./_commonjsHelpers.87769638.js";const w=i=>(q("data-v-e7bcbf5e"),i=i(),z(),i),J={key:0,class:"report pa4 lh-copy"},K={class:"pb4"},Q={class:"tc f2 fw6 mb2"},U=w(()=>s("i",{class:"fa-solid fa-arrow-left mr2"},null,-1)),W={class:"tc f3 mv2"},X={class:"w5 center"},Z={class:"bb bt b--moon-gray flex items-center justify-center pv3 mb4"},T=["onClick"],ee={class:"pa4"},te={key:0,class:"mv5 f4 fw5 tc"},se={class:"fw5 mb1"},oe={class:"f6 gray truncate"},re={key:0,class:"report__value"},ne={key:1,class:"report__value"},ae={key:2,class:"mt2 gray truncate"},ie={class:"nowrap self-center"},ce=w(()=>s("i",{class:"fa-solid fa-arrow-right self-center"},null,-1));var x=(i=>(i.all="所有欄位",i.pending="待判讀",i.isAnswered="判讀完成",i))(x||{});const _e=P({__name:"[reportId]",setup(i){const F=A(),_=E("待判讀");function C(o){_.value=o}const L=p(()=>Number.parseInt(F.params.reportId)),{report:c,reportFieldList:m,isDataReady:N,meta:v}=$(L.value);function f(o){return!o.value&&!o.notes}const D=p(()=>c.value?{name:"profession-industry-industry",params:{industry:c.value.company.industry}}:"#"),y=p(()=>{if(_.value==="所有欄位")return m.value;let o=f;return _.value==="判讀完成"&&(o=u=>!f(u)),m.value.filter(o)});function j(o){return G(o).format("YYYY-MM-DD HH:mm")}function B(o,u){return{name:"profession-editor-reportId",params:{reportId:o.id},query:{fieldId:u.id}}}return(o,u)=>{const R=b,S=Y,V=b;return t(N)?(r(),n("div",J,[s("div",K,[s("h1",Q,[h(R,{to:t(D),class:"f5 gray no-underline flex items-center dim"},{default:g(()=>[U,d(" 回"+a(t(c).company.industry)+"列表 ",1)]),_:1},8,["to"]),d(" "+a(t(c).company.name),1)]),s("p",W," 已判讀 "+a(t(c).answeredFields)+" / "+a(t(c).totalFields)+" 欄 ",1),s("div",X,[h(S,{progress:t(c),"is-industry":!1},null,8,["progress"])])]),s("div",Z,[(r(!0),n(l,null,k(Object.values(x),e=>(r(),n("button",{key:e,class:H(["report__filter bg-white pv2 ph3 ba b--light-gray br2 dim pointer",{"bg-green":t(_)===e}]),onClick:de=>C(e)},a(e),11,T))),128))]),s("div",ee,[t(y).length?(r(!0),n(l,{key:1},k(t(y),e=>(r(),M(V,{key:e.id,to:B(t(c),e),class:"report__field pv3 ph2 bb b--moon-gray no-underline black dim"},{default:g(()=>[s("div",null,[s("div",se,a(t(v)(e).name),1),s("div",oe,a(t(v)(e).description),1)]),s("div",null,[e.value!==null?(r(),n("div",re,a(e.value)+" "+a(e.unit),1)):(r(),n("div",ne," - ")),e.notes?(r(),n("div",ae,a(e.notes),1)):I("",!0)]),s("div",ie,a(j(e.updatedAt)),1),ce]),_:2},1032,["to"]))),128)):(r(),n("div",te,[t(_)==="待判讀"?(r(),n(l,{key:0},[d(" 所有欄位都判讀完畢 🧙🧙🧙 ")],64)):t(_)==="判讀完成"?(r(),n(l,{key:1},[d(" 你是跳坑這本的勇者嗎？請點上面的「待判讀」，挑個喜歡的欄位開始吧 🐈 ")],64)):(r(),n(l,{key:2},[d(" 此分類無資料 ")],64))]))])])):I("",!0)}}});const be=O(_e,[["__scopeId","data-v-e7bcbf5e"]]);export{be as default,x as filterType};
