import{_ as b}from"./nuxt-link.g4mfOmOW.js";import{_ as j}from"./FieldProgress.RRreQHJS.js";import{f as H,u as P,r as A,g as m,h as e,o as s,c as o,a as n,b as k,w as g,d as l,t as i,i as p,F as _,x as w,B as x,H as E,p as M,e as q,_ as z}from"./entry.Y_R2Bi7N.js";import{u as O}from"./useReport.cmK78SuC.js";import{d as $}from"./dayjs.min.iFkktOpB.js";import"./useProfessionApi.gpwTi3cx.js";import"./lodash.h9Ugf_Co.js";const G=c=>(M("data-v-2bf45f41"),c=c(),q(),c),J={key:0,class:"report pa4 lh-copy"},K={class:"pb4"},Q={class:"tc f2 fw6 mb2"},U=G(()=>n("i",{class:"fa-solid fa-arrow-left mr2"},null,-1)),W={class:"tc f3 mv2"},X={key:0,class:"ml2 gray f5"},Z={class:"w5 center"},T={class:"bb bt b--moon-gray flex items-center justify-center pv3 mb4"},ee=["onClick"],te={class:"pa4"},se={key:0,class:"mv5 f4 fw5 tc"},re={class:"fw5 mb1"},oe={class:"f6 gray"},ne={key:0,class:"report__value"},ae={key:1,class:"report__value"},ie={key:2,class:"mt2 gray truncate"},ce={class:"nowrap self-center"},de={key:0,class:"fa-solid fa-arrow-right self-center"};var I=(c=>(c.all="所有欄位",c.pending="待判讀",c.isAnswered="判讀完成",c))(I||{});const le=H({__name:"[reportId]",setup(c){const F=P(),d=A("待判讀");function V(r){d.value=r}const C=m(()=>Number.parseInt(F.params.reportId)),{report:a,reportFieldList:f,isDataReady:L,meta:v}=O(C.value);function y(r){return!r.value&&!r.notes}const N=m(()=>a.value?{name:"profession-industry-industry",params:{industry:a.value.company.industry}}:"#"),h=m(()=>{if(d.value==="所有欄位")return f.value;let r=y;return d.value==="判讀完成"&&(r=u=>!y(u)),f.value.filter(r)});function B(r){return $(r).format("YYYY-MM-DD HH:mm")}function D(r,u){return r.isVerified?"#":{name:"profession-editor-reportId",params:{reportId:r.id},query:{fieldId:u.id}}}return(r,u)=>{const R=b,S=j,Y=b;return e(L)?(s(),o("div",J,[n("div",K,[n("h1",Q,[k(R,{to:e(N),class:"f5 gray no-underline flex items-center dim"},{default:g(()=>[U,l(" 回"+i(e(a).company.industry)+"列表 ",1)]),_:1},8,["to"]),l(" "+i(e(a).company.name),1)]),n("p",W,[l(" 已判讀 "+i(e(a).answeredFields)+" / "+i(e(a).totalFields)+" 欄 ",1),e(a).isVerified?(s(),o("span",X," （已標為驗證，不可再修改） ")):p("",!0)]),n("div",Z,[k(S,{progress:e(a),"is-industry":!1},null,8,["progress"])])]),n("div",T,[(s(!0),o(_,null,w(Object.values(I),t=>(s(),o("button",{key:t,class:x(["report__filter bg-white pv2 ph3 ba b--light-gray br2 dim pointer",{"bg-green":e(d)===t}]),onClick:_e=>V(t)},i(t),11,ee))),128))]),n("div",te,[e(h).length?(s(!0),o(_,{key:1},w(e(h),t=>(s(),E(Y,{key:t.id,to:D(e(a),t),class:x(["report__field pv3 ph2 bb b--moon-gray no-underline black",{dim:!e(a).isVerified}])},{default:g(()=>[n("div",null,[n("div",re,i(e(v)(t).name),1),n("div",oe,i(e(v)(t).description),1)]),n("div",null,[t.value!==null?(s(),o("div",ne,i(t.value)+" "+i(t.unit),1)):(s(),o("div",ae," - ")),t.notes?(s(),o("div",ie,i(t.notes),1)):p("",!0)]),n("div",ce,i(B(t.updatedAt)),1),e(a).isVerified?p("",!0):(s(),o("i",de))]),_:2},1032,["to","class"]))),128)):(s(),o("div",se,[e(d)==="待判讀"?(s(),o(_,{key:0},[l(" 所有欄位都判讀完畢 🧙🧙🧙 ")],64)):e(d)==="判讀完成"?(s(),o(_,{key:1},[l(" 你是跳坑這本的勇者嗎？請點上面的「待判讀」，挑個喜歡的欄位開始吧 🐈 ")],64)):(s(),o(_,{key:2},[l(" 此分類無資料 ")],64))]))])])):p("",!0)}}}),be=z(le,[["__scopeId","data-v-2bf45f41"]]);export{be as default,I as filterType};
